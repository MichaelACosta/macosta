{"version":3,"file":"c7e0bf56-b7cedbcdd28434b734e9.js","mappings":"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","sources":["webpack://maCosta/./node_modules/reaviz/dist/index.esm.js"],"sourcesContent":["import { jsxs, jsx, Fragment as Fragment$1 } from 'react/jsx-runtime';\nimport { Component, PureComponent, Fragment, createRef, Children, cloneElement, useState, useMemo, useCallback, useEffect, useRef, isValidElement } from 'react';\nimport { CloneElement, useId } from 'rdk';\nimport ellipsize from 'ellipsize';\nimport { max, bisector, range, median, histogram, extent as extent$1, min, maxIndex } from 'd3-array';\nimport calculateSize from 'calculate-size';\nimport { scaleLinear, scaleTime, scaleBand, scaleOrdinal, scaleQuantile } from 'd3-scale';\nimport bind from 'memoize-bind';\nimport { applyToPoint, inverse, applyToPoints, smoothMatrix, transform, translate, scale, identity, fromDefinition, fromObject } from 'transformation-matrix';\nimport classNames from 'classnames';\nimport useDimensions from 'react-cool-dimensions';\nimport bigInt from 'big-integer';\nimport humanFormat from 'human-format';\nimport { stack, stackOffsetExpand, stackOffsetDiverging, arc, curveMonotoneX, curveStep, curveLinear, area, line, pie, radialArea, curveCardinalClosed, curveLinearClosed, radialLine } from 'd3-shape';\nimport chroma from 'chroma-js';\nimport { Tooltip } from 'reablocks';\nimport memoize from 'memoize-one';\nimport isEqual from 'react-fast-compare';\nimport { useMotionValue, useSpring, motion, animate } from 'framer-motion';\nimport { interpolate as interpolate$1 } from 'd3-interpolate';\nimport { geoNaturalEarth1, geoMercator, geoPath } from 'd3-geo';\nimport { sankey, sankeyJustify, sankeyCenter, sankeyLeft, sankeyRight, sankeyLinkHorizontal } from 'd3-sankey';\nimport { layout } from '@upsetjs/venn.js';\nimport invert from 'invert-color';\nimport { pack, hierarchy, treemap, treemapSquarify } from 'd3-hierarchy';\n\nclass LinearAxisTickLabel extends Component {\r\n    getAlign() {\r\n        const { align, half } = this.props;\r\n        if ((align === 'inside' || align === 'outside') && half === 'center') {\r\n            return 'center';\r\n        }\r\n        if (align === 'inside') {\r\n            return half === 'start' ? 'end' : 'start';\r\n        }\r\n        if (align === 'outside') {\r\n            return half === 'start' ? 'start' : 'end';\r\n        }\r\n        return align;\r\n    }\r\n    getTickLineSpacing() {\r\n        const { line } = this.props;\r\n        if (!line) {\r\n            return [0, 0];\r\n        }\r\n        const size = line.props.size;\r\n        const position = line.props.position;\r\n        if (position === 'start') {\r\n            return [size * -1, 0];\r\n        }\r\n        else if (position === 'end') {\r\n            return [0, size];\r\n        }\r\n        else {\r\n            return [size * -0.5, size * 0.5];\r\n        }\r\n    }\r\n    getOffset() {\r\n        const { padding, position, rotation, orientation } = this.props;\r\n        const adjustedPadding = typeof padding === 'number'\r\n            ? {\r\n                fromAxis: padding,\r\n                alongAxis: padding\r\n            }\r\n            : padding;\r\n        const spacing = this.getTickLineSpacing();\r\n        const offset1 = position === 'start'\r\n            ? spacing[0] - adjustedPadding.fromAxis\r\n            : position === 'end'\r\n                ? spacing[1] + adjustedPadding.fromAxis\r\n                : 0;\r\n        const align = this.getAlign();\r\n        let offset2 = rotation === true ? -5 : 0;\r\n        offset2 +=\r\n            align === 'center'\r\n                ? 0\r\n                : align === 'start'\r\n                    ? -adjustedPadding.alongAxis\r\n                    : adjustedPadding.alongAxis;\r\n        const horz = orientation === 'horizontal';\r\n        return {\r\n            [horz ? 'x' : 'y']: offset2,\r\n            [horz ? 'y' : 'x']: offset1\r\n        };\r\n    }\r\n    getTextPosition() {\r\n        const { angle, orientation, position } = this.props;\r\n        let transform = '';\r\n        let textAnchor = '';\r\n        let alignmentBaseline = 'middle';\r\n        if (angle !== 0) {\r\n            transform = `rotate(${angle})`;\r\n            textAnchor = 'end';\r\n        }\r\n        else {\r\n            const align = this.getAlign();\r\n            if (orientation === 'horizontal') {\r\n                textAnchor =\r\n                    align === 'center' ? 'middle' : align === 'start' ? 'end' : 'start';\r\n                if (position === 'start') {\r\n                    alignmentBaseline = 'baseline';\r\n                }\r\n                else if (position === 'end') {\r\n                    alignmentBaseline = 'hanging';\r\n                }\r\n            }\r\n            else {\r\n                alignmentBaseline =\r\n                    align === 'center'\r\n                        ? 'middle'\r\n                        : align === 'start'\r\n                            ? 'baseline'\r\n                            : 'hanging';\r\n                if (position === 'start') {\r\n                    textAnchor = 'end';\r\n                }\r\n                else if (position === 'end') {\r\n                    textAnchor = 'start';\r\n                }\r\n                else {\r\n                    textAnchor = 'middle';\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            transform,\r\n            textAnchor: this.props.textAnchor || textAnchor,\r\n            alignmentBaseline\r\n        };\r\n    }\r\n    render() {\r\n        const { fill, text, fullText, fontSize, fontFamily, className } = this.props;\r\n        const { x, y } = this.getOffset();\r\n        const textPosition = this.getTextPosition();\r\n        return (jsxs(\"g\", Object.assign({ transform: `translate(${x}, ${y})`, fontSize: fontSize, fontFamily: fontFamily }, { children: [jsx(\"title\", { children: fullText }, void 0),\r\n                jsx(\"text\", Object.assign({}, textPosition, { fill: fill, className: className }, { children: text }), void 0)] }), void 0));\r\n    }\r\n}\r\nLinearAxisTickLabel.defaultProps = {\r\n    fill: '#8F979F',\r\n    fontSize: 11,\r\n    fontFamily: 'sans-serif',\r\n    rotation: true,\r\n    padding: 0,\r\n    align: 'center'\r\n};\n\nclass LinearAxisTickLine extends PureComponent {\r\n    positionTick() {\r\n        const { size, position, orientation } = this.props;\r\n        const isVertical = orientation === 'vertical';\r\n        const tickSize = size || 0;\r\n        const start = position === 'start'\r\n            ? tickSize * -1\r\n            : position === 'center'\r\n                ? tickSize * -0.5\r\n                : 0;\r\n        const end = start + tickSize;\r\n        return {\r\n            x1: isVertical ? end : 0,\r\n            x2: isVertical ? start : 0,\r\n            y1: isVertical ? 0 : start,\r\n            y2: isVertical ? 0 : end\r\n        };\r\n    }\r\n    render() {\r\n        const { strokeColor, strokeWidth, className } = this.props;\r\n        const path = this.positionTick();\r\n        return (jsx(\"line\", Object.assign({ className: className, strokeWidth: strokeWidth, stroke: strokeColor }, path), void 0));\r\n    }\r\n}\r\nLinearAxisTickLine.defaultProps = {\r\n    strokeColor: '#8F979F',\r\n    strokeWidth: 1,\r\n    size: 5\r\n};\n\n// https://stackoverflow.com/questions/673905/best-way-to-determine-users-locale-within-browser\r\nconst getNavigatorLanguage = () => {\r\n    if (typeof window === 'undefined') {\r\n        return 'en';\r\n    }\r\n    if (navigator.languages && navigator.languages.length) {\r\n        return navigator.languages[0];\r\n    }\r\n    if (navigator.userLanguage ||\r\n        navigator.language ||\r\n        navigator.browserLanguage) {\r\n        return 'en';\r\n    }\r\n};\r\nconst locale = getNavigatorLanguage();\r\nconst options = {\r\n    year: 'numeric',\r\n    month: 'numeric',\r\n    day: 'numeric',\r\n    hour12: true,\r\n    formatMatcher: 'best fit'\r\n};\r\n/**\r\n * Format a value based on type.\r\n */\r\nfunction formatValue(value) {\r\n    if (value !== undefined) {\r\n        if (value instanceof Date) {\r\n            return value.toLocaleDateString(locale, options);\r\n        }\r\n        else if (typeof value === 'number') {\r\n            return value.toLocaleString();\r\n        }\r\n        return value;\r\n    }\r\n    return 'No value';\r\n}\n\nconst ONE_DAY = 60 * 60 * 24;\r\nconst DURATION_TICK_STEPS = [\r\n    0.001,\r\n    0.005,\r\n    0.01,\r\n    0.05,\r\n    0.1,\r\n    0.5,\r\n    1,\r\n    5,\r\n    10,\r\n    15,\r\n    60,\r\n    60 * 15,\r\n    60 * 30,\r\n    60 * 60,\r\n    60 * 60 * 2,\r\n    60 * 60 * 4,\r\n    60 * 60 * 6,\r\n    60 * 60 * 8,\r\n    60 * 60 * 12,\r\n    ONE_DAY // 24 h\r\n];\r\n/**\r\n * Reduce the ticks to the max number of ticks.\r\n */\r\nfunction reduceTicks(ticks, maxTicks) {\r\n    if (ticks.length > maxTicks) {\r\n        const reduced = [];\r\n        const modulus = Math.floor(ticks.length / maxTicks);\r\n        for (let i = 0; i < ticks.length; i++) {\r\n            if (i % modulus === 0) {\r\n                reduced.push(ticks[i]);\r\n            }\r\n        }\r\n        ticks = reduced;\r\n    }\r\n    return ticks;\r\n}\r\n/**\r\n * Determine the max ticks for the available width.\r\n */\r\nfunction getMaxTicks(size, dimension) {\r\n    const tickWidth = Math.max(size, 0);\r\n    return Math.floor(dimension / tickWidth);\r\n}\r\n/**\r\n * Formats the ticks in a duration format.\r\n */\r\nfunction getDurationTicks(domain, maxTicks) {\r\n    const domainWidth = domain[1] - domain[0];\r\n    let tickStep = null;\r\n    for (const s of DURATION_TICK_STEPS) {\r\n        if (domainWidth / s < maxTicks) {\r\n            tickStep = s;\r\n            break;\r\n        }\r\n    }\r\n    if (tickStep === null) {\r\n        const numDayTicks = domainWidth / ONE_DAY;\r\n        const dayStep = Math.ceil(numDayTicks / maxTicks);\r\n        tickStep = ONE_DAY * dayStep;\r\n    }\r\n    const ticks = [domain[0]];\r\n    while (ticks[ticks.length - 1] + tickStep <= domain[1]) {\r\n        ticks.push(ticks[ticks.length - 1] + tickStep);\r\n    }\r\n    return ticks;\r\n}\r\n/**\r\n * Get the tick values from the scale.\r\n */\r\nfunction getTicks(scale, tickValues, type, maxTicks = 100, interval) {\r\n    let result;\r\n    if (tickValues) {\r\n        result = tickValues;\r\n    }\r\n    else {\r\n        if (scale.ticks) {\r\n            if (type === 'duration') {\r\n                result = getDurationTicks(scale.domain(), maxTicks);\r\n            }\r\n            else if (interval) {\r\n                result = scale.ticks(interval);\r\n            }\r\n            else {\r\n                if (type === 'time') {\r\n                    // If its time, we need to handle the time count\r\n                    // manually because d3 does this odd rounding\r\n                    result = scale.ticks();\r\n                    result = reduceTicks(result, maxTicks);\r\n                }\r\n                else {\r\n                    result = scale.ticks(maxTicks);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            tickValues = scale.domain();\r\n            result = reduceTicks(tickValues, maxTicks);\r\n        }\r\n    }\r\n    return result;\r\n}\n\nconst calculateDimensions = (text, fontFamily, fontSize) => {\r\n    // SSR Rendering doesn't support canvas measurements\r\n    // we have to make a guess in this case...\r\n    if (typeof document === 'undefined') {\r\n        return {\r\n            width: text.length * 8,\r\n            height: 25\r\n        };\r\n    }\r\n    return calculateSize(text, {\r\n        font: fontFamily,\r\n        fontSize: `${fontSize}px`\r\n    });\r\n};\n\nclass LinearAxisTickSeries extends Component {\r\n    /**\r\n     * Gets the adjusted scale given offsets.\r\n     */\r\n    getAdjustedScale() {\r\n        const { scale } = this.props;\r\n        if (scale.bandwidth) {\r\n            let offset = scale.bandwidth() / 2;\r\n            if (scale.round()) {\r\n                offset = Math.round(offset);\r\n            }\r\n            return (d) => +scale(d) + offset;\r\n        }\r\n        else {\r\n            return (d) => +scale(d);\r\n        }\r\n    }\r\n    /**\r\n     * Gets the x/y position for a given tick.\r\n     */\r\n    getPosition(scaledTick) {\r\n        const { orientation } = this.props;\r\n        if (orientation === 'horizontal') {\r\n            return { x: scaledTick, y: 0 };\r\n        }\r\n        else {\r\n            return { x: 0, y: scaledTick };\r\n        }\r\n    }\r\n    /**\r\n     * Gets the dimension (height/width) this axis is calculating on.\r\n     */\r\n    getDimension() {\r\n        const { height, width, orientation } = this.props;\r\n        return orientation === 'vertical' ? height : width;\r\n    }\r\n    /**\r\n     * Calculates the rotation angle that the ticks need to be shifted to.\r\n     * This equation will measure the length of the text in a external canvas\r\n     * object and determine what the longest label is and rotate until they fit.\r\n     */\r\n    getRotationAngle(ticks) {\r\n        if (!this.props.label) {\r\n            return 0;\r\n        }\r\n        const label = this.props.label.props;\r\n        const dimension = this.getDimension();\r\n        const maxTicksLength = max(ticks, (tick) => tick.width);\r\n        let angle = 0;\r\n        if (label.rotation) {\r\n            if (label.rotation === true) {\r\n                let baseWidth = maxTicksLength;\r\n                const maxBaseWidth = Math.floor(dimension / ticks.length);\r\n                while (baseWidth > maxBaseWidth && angle > -90) {\r\n                    angle -= 30;\r\n                    baseWidth = Math.cos(angle * (Math.PI / 180)) * maxTicksLength;\r\n                }\r\n            }\r\n            else {\r\n                angle = label.rotation;\r\n            }\r\n        }\r\n        return angle;\r\n    }\r\n    /**\r\n     * Gets the formatted label of the tick.\r\n     */\r\n    getLabelFormat() {\r\n        const { label, scale } = this.props;\r\n        if (label && label.props.format) {\r\n            return label.props.format;\r\n        }\r\n        else if (scale.tickFormat) {\r\n            return scale.tickFormat.apply(scale, [5]);\r\n        }\r\n        else {\r\n            return (v) => formatValue(v);\r\n        }\r\n    }\r\n    /**\r\n     * Gets the ticks given the dimensions and scales and returns\r\n     * the text and position.\r\n     */\r\n    getTicks() {\r\n        const { scale, tickSize, tickValues, interval, axis, label } = this.props;\r\n        const dimension = this.getDimension();\r\n        const maxTicks = getMaxTicks(tickSize, dimension);\r\n        const ticks = getTicks(scale, tickValues, axis.type, maxTicks, interval);\r\n        const adjustedScale = this.getAdjustedScale();\r\n        const format = this.getLabelFormat();\r\n        const midpoint = dimension / 2;\r\n        return ticks.map((tick) => {\r\n            const fullText = format(tick);\r\n            const scaledTick = adjustedScale(tick);\r\n            const position = this.getPosition(scaledTick);\r\n            const text = ellipsize(fullText, 18);\r\n            const size = label\r\n                ? calculateDimensions(text, label.props.fontFamily, label.props.fontSize.toString())\r\n                : {};\r\n            return Object.assign(Object.assign(Object.assign({}, position), size), { text,\r\n                fullText, half: scaledTick === midpoint\r\n                    ? 'center'\r\n                    : scaledTick < midpoint\r\n                        ? 'start'\r\n                        : 'end' });\r\n        });\r\n    }\r\n    render() {\r\n        const { label, line, height, width, orientation } = this.props;\r\n        const ticks = this.getTicks();\r\n        const angle = this.getRotationAngle(ticks);\r\n        return (jsx(Fragment, { children: ticks.map((tick, i) => (jsxs(\"g\", Object.assign({ transform: `translate(${tick.x}, ${tick.y})` }, { children: [line && (jsx(CloneElement, { element: line, height: height, width: width, orientation: orientation }, void 0)),\r\n                    label && (jsx(CloneElement, { element: label, text: tick.text, fullText: tick.fullText, half: tick.half, angle: angle, orientation: orientation, line: line }, void 0))] }), i))) }, void 0));\r\n    }\r\n}\r\nLinearAxisTickSeries.defaultProps = {\r\n    line: jsx(LinearAxisTickLine, {}, void 0),\r\n    label: jsx(LinearAxisTickLabel, {}, void 0),\r\n    tickSize: 30\r\n};\n\nconst LinearAxisLine = ({ strokeColor, strokeWidth, strokeGradient, scale, orientation, className }) => {\r\n    const id = useId();\r\n    const [range0, range1] = scale.range();\r\n    return (jsxs(Fragment, { children: [jsx(\"line\", { className: className, x1: orientation === 'vertical' ? 0 : range0, \r\n                // Workaround for a Chrome/Firefox bug where it won't render gradients for straight lines\r\n                x2: orientation === 'vertical' ? 0.00001 : range1, y1: orientation === 'vertical' ? range0 : 0, y2: orientation === 'vertical' ? range1 : 0.00001, strokeWidth: strokeWidth, stroke: strokeGradient ? `url(#axis-gradient-${id})` : strokeColor }, void 0),\r\n            strokeGradient && (jsx(CloneElement, { element: strokeGradient, id: `axis-gradient-${id}` }, void 0))] }, void 0));\r\n};\r\nLinearAxisLine.defaultProps = {\r\n    strokeColor: '#8F979F',\r\n    strokeWidth: 1\r\n};\n\nclass LinearAxis extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.ref = createRef();\r\n        this.state = {\r\n            height: props.height,\r\n            width: props.width\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.updateDimensions();\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        const { height, width, scale } = this.props;\r\n        if (width !== prevProps.width ||\r\n            height !== prevProps.height ||\r\n            scale !== prevProps.scale) {\r\n            this.updateDimensions();\r\n        }\r\n    }\r\n    updateDimensions() {\r\n        const { onDimensionsChange, orientation, position } = this.props;\r\n        const shouldOffset = position !== 'center';\r\n        let height;\r\n        let width;\r\n        if (shouldOffset) {\r\n            const dims = this.ref.current.getBoundingClientRect();\r\n            width = Math.floor(dims.width);\r\n            height = Math.floor(dims.height);\r\n        }\r\n        if (orientation === 'vertical') {\r\n            if (this.state.width !== width) {\r\n                this.setState({ width });\r\n                onDimensionsChange({ width });\r\n            }\r\n        }\r\n        else {\r\n            if (this.state.height !== height) {\r\n                this.setState({ height });\r\n                onDimensionsChange({ height });\r\n            }\r\n        }\r\n    }\r\n    getPosition() {\r\n        const { position, width, height, orientation } = this.props;\r\n        let translateY = 0;\r\n        let translateX = 0;\r\n        if (position === 'end' && orientation === 'horizontal') {\r\n            translateY = height;\r\n        }\r\n        else if (position === 'center' && orientation === 'horizontal') {\r\n            translateY = height / 2;\r\n        }\r\n        else if (position === 'end' && orientation === 'vertical') {\r\n            translateX = width;\r\n        }\r\n        else if (position === 'center' && orientation === 'vertical') {\r\n            translateX = width / 2;\r\n        }\r\n        return { translateX, translateY };\r\n    }\r\n    render() {\r\n        const { scale, height, width, orientation, axisLine, tickSeries } = this.props;\r\n        const { translateX, translateY } = this.getPosition();\r\n        return (jsxs(\"g\", Object.assign({ transform: `translate(${translateX}, ${translateY})`, ref: this.ref }, { children: [axisLine && (jsx(CloneElement, { element: axisLine, height: height, width: width, scale: scale, orientation: orientation }, void 0)),\r\n                (tickSeries.props.line || tickSeries.props.label) && (jsx(CloneElement, { element: tickSeries, height: height, width: width, scale: scale, orientation: orientation, axis: this.props }, void 0))] }), void 0));\r\n    }\r\n}\r\nLinearAxis.defaultProps = {\r\n    axisLine: jsx(LinearAxisLine, {}, void 0),\r\n    tickSeries: jsx(LinearAxisTickSeries, {}, void 0),\r\n    scaled: false,\r\n    roundDomains: false,\r\n    onDimensionsChange: () => undefined\r\n};\n\nconst LinearXAxisTickLabel = (props) => jsx(LinearAxisTickLabel, Object.assign({}, props), void 0);\r\nLinearXAxisTickLabel.defaultProps = Object.assign(Object.assign({}, LinearAxisTickLabel.defaultProps), { rotation: true, position: 'end', align: 'center' });\r\nconst LinearXAxisTickLine = (props) => jsx(LinearAxisTickLine, Object.assign({}, props), void 0);\r\nLinearXAxisTickLine.defaultProps = Object.assign(Object.assign({}, LinearAxisTickLine.defaultProps), { position: 'end' });\r\nconst LinearXAxisTickSeries = (props) => jsx(LinearAxisTickSeries, Object.assign({}, props), void 0);\r\nLinearXAxisTickSeries.defaultProps = Object.assign(Object.assign({}, LinearAxisTickSeries.defaultProps), { tickSize: 75, line: jsx(LinearXAxisTickLine, {}, void 0), label: jsx(LinearXAxisTickLabel, {}, void 0) });\r\nconst LinearXAxis = (props) => (jsx(LinearAxis, Object.assign({}, props), void 0));\r\nLinearXAxis.defaultProps = Object.assign(Object.assign({}, LinearAxis.defaultProps), { position: 'end', roundDomains: false, scaled: false, type: 'value', orientation: 'horizontal', tickSeries: jsx(LinearXAxisTickSeries, {}, void 0) });\n\nconst LinearYAxisTickLabel = (props) => jsx(LinearAxisTickLabel, Object.assign({}, props), void 0);\r\nLinearYAxisTickLabel.defaultProps = Object.assign(Object.assign({}, LinearAxisTickLabel.defaultProps), { rotation: false, position: 'start', align: 'center' });\r\nconst LinearYAxisTickLine = (props) => jsx(LinearAxisTickLine, Object.assign({}, props), void 0);\r\nLinearYAxisTickLine.defaultProps = Object.assign(Object.assign({}, LinearAxisTickLine.defaultProps), { position: 'start' });\r\nconst LinearYAxisTickSeries = (props) => jsx(LinearAxisTickSeries, Object.assign({}, props), void 0);\r\nLinearYAxisTickSeries.defaultProps = Object.assign(Object.assign({}, LinearAxisTickSeries.defaultProps), { tickSize: 30, line: jsx(LinearYAxisTickLine, {}, void 0), label: jsx(LinearYAxisTickLabel, {}, void 0) });\r\nconst LinearYAxis = (props) => (jsx(LinearAxis, Object.assign({}, props), void 0));\r\nLinearYAxis.defaultProps = Object.assign(Object.assign({}, LinearAxis.defaultProps), { orientation: 'vertical', scaled: false, roundDomains: false, type: 'value', position: 'start', tickSeries: jsx(LinearYAxisTickSeries, {}, void 0) });\n\n/**\r\n * Returns whether the axis has a visual element or not.\r\n */\r\nconst isAxisVisible = (axis) => !!axis.tickSeries.props.label || !!axis.tickSeries.props.line;\n\nclass RadialAxisTickLine extends PureComponent {\r\n    render() {\r\n        const { stroke, size, position, innerRadius, outerRadius } = this.props;\r\n        const x1 = position === 'outside' ? size : -(outerRadius - innerRadius);\r\n        return (jsx(\"line\", { x1: x1, x2: 0, stroke: stroke, style: { pointerEvents: 'none' } }, void 0));\r\n    }\r\n}\r\nRadialAxisTickLine.defaultProps = {\r\n    stroke: 'rgba(113, 128, 141, .5)',\r\n    size: 10,\r\n    position: 'inside'\r\n};\n\nconst rad2deg = (angle) => (angle * 180) / Math.PI;\r\nclass RadialAxisTickLabel extends PureComponent {\r\n    getPosition() {\r\n        const { point, autoRotate, rotation, padding } = this.props;\r\n        let textAnchor;\r\n        let transform;\r\n        if (autoRotate) {\r\n            const l = point >= Math.PI;\r\n            const r = point < 2 * Math.PI;\r\n            // TODO: This centers the text, determine better way later\r\n            if ((rotation >= 85 && rotation <= 95) ||\r\n                (rotation <= -85 && rotation >= -95)) {\r\n                textAnchor = 'middle';\r\n            }\r\n            else if (l && r) {\r\n                textAnchor = 'end';\r\n            }\r\n            else {\r\n                textAnchor = 'start';\r\n            }\r\n            transform = `rotate(${90 - rad2deg(point)}, ${padding}, 0)`;\r\n        }\r\n        else {\r\n            const shouldRotate = rotation > 100 && rotation;\r\n            const rotate = shouldRotate ? 180 : 0;\r\n            const translate = shouldRotate ? -30 : 0;\r\n            textAnchor = shouldRotate ? 'end' : 'start';\r\n            transform = `rotate(${rotate}) translate(${translate})`;\r\n        }\r\n        return {\r\n            transform,\r\n            textAnchor\r\n        };\r\n    }\r\n    render() {\r\n        const { data, fill, fontFamily, fontSize, format, lineSize, index } = this.props;\r\n        const text = format ? format(data, index) : formatValue(data);\r\n        const { transform, textAnchor } = this.getPosition();\r\n        return (jsxs(\"g\", Object.assign({ transform: transform }, { children: [jsx(\"title\", { children: text }, void 0),\r\n                jsx(\"text\", Object.assign({ dy: \"0.35em\", x: lineSize + 5, textAnchor: textAnchor, fill: fill, fontFamily: fontFamily, fontSize: fontSize }, { children: text }), void 0)] }), void 0));\r\n    }\r\n}\r\nRadialAxisTickLabel.defaultProps = {\r\n    fill: '#71808d',\r\n    fontSize: 11,\r\n    padding: 15,\r\n    fontFamily: 'sans-serif',\r\n    autoRotate: true\r\n};\n\nclass RadialAxisTick extends Component {\r\n    render() {\r\n        const { line, label, scale, outerRadius, data, index, padding, innerRadius } = this.props;\r\n        const point = scale(data);\r\n        const rotation = (point * 180) / Math.PI - 90;\r\n        const transform = `rotate(${rotation}) translate(${outerRadius + padding},0)`;\r\n        const lineSize = line ? line.props.size : 0;\r\n        return (jsxs(\"g\", Object.assign({ transform: transform }, { children: [line && (jsx(CloneElement, { element: line, innerRadius: innerRadius, outerRadius: outerRadius }, void 0)),\r\n                label && (jsx(CloneElement, { element: label, index: index, point: point, rotation: rotation, lineSize: lineSize, data: data }, void 0))] }), void 0));\r\n    }\r\n}\r\nRadialAxisTick.defaultProps = {\r\n    outerRadius: 0,\r\n    padding: 0,\r\n    line: jsx(RadialAxisTickLine, {}, void 0),\r\n    label: jsx(RadialAxisTickLabel, {}, void 0)\r\n};\n\nclass RadialAxisTickSeries extends Component {\r\n    render() {\r\n        const { scale, count, outerRadius, tick, tickValues, innerRadius, interval, type } = this.props;\r\n        const ticks = getTicks(scale, tickValues, type, count, interval || count);\r\n        return (jsx(Fragment, { children: ticks.map((data, i) => (jsx(CloneElement, { element: tick, index: i, scale: scale, data: data, innerRadius: innerRadius, outerRadius: outerRadius }, i))) }, void 0));\r\n    }\r\n}\r\nRadialAxisTickSeries.defaultProps = {\r\n    count: 12,\r\n    type: 'time',\r\n    tick: jsx(RadialAxisTick, {}, void 0)\r\n};\n\nclass RadialAxisArc extends Component {\r\n    render() {\r\n        const { index, stroke, strokeDasharray, scale } = this.props;\r\n        const r = scale(index);\r\n        const strokeColor = typeof stroke === 'string' ? stroke : stroke(index);\r\n        const strokeDash = typeof strokeDasharray === 'string'\r\n            ? strokeDasharray\r\n            : strokeDasharray(index);\r\n        return (jsx(\"circle\", { fill: \"none\", strokeDasharray: strokeDash, stroke: strokeColor, style: { pointerEvents: 'none' }, cx: \"0\", cy: \"0\", r: r }, void 0));\r\n    }\r\n}\r\nRadialAxisArc.defaultProps = {\r\n    stroke: '#71808d',\r\n    strokeDasharray: '1,4'\r\n};\n\nclass RadialAxisArcSeries extends Component {\r\n    render() {\r\n        const { count, innerRadius, outerRadius, arc } = this.props;\r\n        const scale = scaleLinear()\r\n            .domain([0, count])\r\n            .range([innerRadius, outerRadius]);\r\n        const arcs = scale.ticks(count);\r\n        return (jsx(Fragment, { children: arcs.map((d) => (jsx(CloneElement, { element: arc, index: d, scale: scale }, d))) }, void 0));\r\n    }\r\n}\r\nRadialAxisArcSeries.defaultProps = {\r\n    count: 12,\r\n    arc: jsx(RadialAxisArc, {}, void 0)\r\n};\n\nclass RadialAxis extends Component {\r\n    render() {\r\n        const { arcs, ticks, xScale, height, width, innerRadius, type } = this.props;\r\n        const outerRadius = Math.min(height, width) / 2;\r\n        return (jsxs(Fragment, { children: [arcs && (jsx(CloneElement, { element: arcs, outerRadius: outerRadius, innerRadius: innerRadius }, void 0)),\r\n                ticks && (jsx(CloneElement, { element: ticks, scale: xScale, type: type, innerRadius: innerRadius, outerRadius: outerRadius }, void 0))] }, void 0));\r\n    }\r\n}\r\nRadialAxis.defaultProps = {\r\n    innerRadius: 10,\r\n    type: 'value',\r\n    arcs: jsx(RadialAxisArcSeries, {}, void 0),\r\n    ticks: jsx(RadialAxisTickSeries, {}, void 0)\r\n};\n\n/**\r\n * Add ability to calculate scale band position.\r\n * Reference: https://stackoverflow.com/questions/38633082/d3-getting-invert-value-of-band-scales\r\n */\r\nconst scaleBandInvert = (scale) => {\r\n    const domain = scale.domain();\r\n    const paddingOuter = scale(domain[0]);\r\n    const eachBand = scale.step();\r\n    const [, end] = scale.range();\r\n    return (offset) => {\r\n        let index = Math.floor((offset - paddingOuter) / eachBand);\r\n        // Handle horizontal charts...\r\n        if (end === 0) {\r\n            index = index * -1;\r\n        }\r\n        return domain[Math.max(0, Math.min(index, domain.length - 1))];\r\n    };\r\n};\r\n/**\r\n * Given a point position, get the closes data point in the dataset.\r\n */\r\nconst getClosestPoint = (pos, scale, data, attr = 'x') => {\r\n    if (scale.invert) {\r\n        const domain = scale.invert(pos);\r\n        // Select the index\r\n        const bisect = bisector((d) => d[attr]).right;\r\n        const index = bisect(data, domain);\r\n        // Determine min index\r\n        const minIndex = Math.max(0, index - 1);\r\n        const before = data[minIndex];\r\n        // Determine max index\r\n        const maxIndex = Math.min(data.length - 1, index);\r\n        const after = data[maxIndex];\r\n        // Determine which is closest to the point\r\n        let beforeVal = before[attr];\r\n        let afterVal = after[attr];\r\n        beforeVal = domain - beforeVal;\r\n        afterVal = afterVal - domain;\r\n        return beforeVal < afterVal ? before : after;\r\n    }\r\n    else {\r\n        // If we have a band scale, handle that special\r\n        const domain = scale.domain();\r\n        let prop;\r\n        // Of course the Marimekko is a pain...\r\n        if (scale.mariemkoInvert) {\r\n            prop = scale.mariemkoInvert(pos);\r\n        }\r\n        else {\r\n            prop = scaleBandInvert(scale)(pos);\r\n        }\r\n        const idx = domain.indexOf(prop);\r\n        return data[idx];\r\n    }\r\n};\r\n/**\r\n * Given an event, get the parent svg element;\r\n */\r\nconst getParentSVG = (event) => {\r\n    // set node to targets owner svg\r\n    let node = event.target.ownerSVGElement;\r\n    // find the outermost svg\r\n    if (node) {\r\n        while (node.ownerSVGElement) {\r\n            node = node.ownerSVGElement;\r\n        }\r\n    }\r\n    return node;\r\n};\r\n/**\r\n * Given an event, get the relative X/Y position for a target.\r\n */\r\nconst getPositionForTarget = ({ target, clientX, clientY }) => {\r\n    const { top, left } = target.getBoundingClientRect();\r\n    return {\r\n        x: clientX - left - target.clientLeft,\r\n        y: clientY - top - target.clientTop\r\n    };\r\n};\r\n/**\r\n * Gets the point from q given matrix.\r\n */\r\nconst getPointFromMatrix = (event, matrix) => {\r\n    const parent = getParentSVG(event);\r\n    if (!parent) {\r\n        return null;\r\n    }\r\n    // Determines client coordinates relative to the editor component\r\n    const { top, left } = parent.getBoundingClientRect();\r\n    const x = event.clientX - left;\r\n    const y = event.clientY - top;\r\n    // Transforms the coordinate to world coordinate (in the SVG/DIV world)\r\n    return applyToPoint(inverse(matrix), { x, y });\r\n};\r\n/**\r\n * Get the start/end matrix.\r\n */\r\nconst getLimitMatrix = (height, width, matrix) => applyToPoints(matrix, [\r\n    { x: 0, y: 0 },\r\n    { x: width, y: height }\r\n]);\r\n/**\r\n * Constrain the matrix.\r\n */\r\nconst constrainMatrix = (height, width, matrix) => {\r\n    const [min, max] = getLimitMatrix(height, width, matrix);\r\n    if (max.x < width || max.y < height) {\r\n        return true;\r\n    }\r\n    if (min.x > 0 || min.y > 0) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n/**\r\n * Determine if scale factor is less than allowed.\r\n */\r\nconst lessThanScaleFactorMin = (value, scaleFactor) => value.scaleFactorMin && value.d * scaleFactor <= value.scaleFactorMin;\r\n/**\r\n * Determine if scale factor is larger than allowed.\r\n */\r\nconst moreThanScaleFactorMax = (value, scaleFactor) => value.scaleFactorMax && value.d * scaleFactor >= value.scaleFactorMax;\r\n/**\r\n * Determine if both min and max scale fctors are going out of bounds.\r\n */\r\nconst isZoomLevelGoingOutOfBounds = (value, scaleFactor) => {\r\n    const a = lessThanScaleFactorMin(value, scaleFactor) && scaleFactor < 1;\r\n    const b = moreThanScaleFactorMax(value, scaleFactor) && scaleFactor > 1;\r\n    return a || b;\r\n};\n\n/**\r\n * Toggle the text selection of the body.\r\n */\r\nfunction toggleTextSelection(allowSelection) {\r\n    const style = allowSelection ? '' : 'none';\r\n    [\r\n        '-webkit-touch-callout',\r\n        '-webkit-user-select',\r\n        '-khtml-user-select',\r\n        '-moz-user-select',\r\n        '-ms-user-select',\r\n        'user-select'\r\n    ].forEach((prop) => (document.body.style[prop] = style));\r\n}\n\nclass Move extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.started = false;\r\n        this.deltaX = 0;\r\n        this.deltaY = 0;\r\n        this.prevXPosition = 0;\r\n        this.prevYPosition = 0;\r\n        this.onMouseMove = (event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            const { movementX, movementY } = event;\r\n            this.deltaX = this.deltaX + movementX;\r\n            this.deltaY = this.deltaY + movementY;\r\n            if (this.checkThreshold()) {\r\n                this.disableText(true);\r\n                this.setCursor(true);\r\n                this.deltaX = 0;\r\n                this.deltaY = 0;\r\n                this.started = true;\r\n                this.props.onMoveStart({\r\n                    nativeEvent: event,\r\n                    type: 'mouse'\r\n                });\r\n            }\r\n            else {\r\n                this.rqf = requestAnimationFrame(() => {\r\n                    this.props.onMove({\r\n                        nativeEvent: event,\r\n                        type: 'mouse',\r\n                        x: movementX,\r\n                        y: movementY\r\n                    });\r\n                });\r\n            }\r\n        };\r\n        this.onMouseUp = (event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.disposeHandlers();\r\n            if (this.started) {\r\n                this.props.onMoveEnd({\r\n                    nativeEvent: event,\r\n                    type: 'mouse'\r\n                });\r\n            }\r\n            else {\r\n                this.props.onMoveCancel({\r\n                    nativeEvent: event,\r\n                    type: 'mouse'\r\n                });\r\n            }\r\n        };\r\n        this.onTouchMove = (event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            // Calculate delta from previous position and current\r\n            const { clientX, clientY } = this.getTouchCoords(event);\r\n            const deltaX = clientX - this.prevXPosition;\r\n            const deltaY = clientY - this.prevYPosition;\r\n            // Track the delta\r\n            this.deltaX = this.deltaX + deltaX;\r\n            this.deltaY = this.deltaY + deltaY;\r\n            if (this.checkThreshold()) {\r\n                this.disableText(true);\r\n                this.setCursor(true);\r\n                this.deltaX = 0;\r\n                this.deltaY = 0;\r\n                this.started = true;\r\n                this.props.onMoveStart({\r\n                    // TODO: Come back and clean this up...\r\n                    nativeEvent: Object.assign(Object.assign({}, event), { clientX,\r\n                        clientY }),\r\n                    type: 'touch'\r\n                });\r\n            }\r\n            else {\r\n                this.rqf = requestAnimationFrame(() => {\r\n                    this.props.onMove({\r\n                        // TODO: Come back and clean this up...\r\n                        nativeEvent: Object.assign(Object.assign({}, event), { clientX,\r\n                            clientY }),\r\n                        type: 'touch',\r\n                        x: deltaX,\r\n                        y: deltaY\r\n                    });\r\n                });\r\n            }\r\n            this.prevXPosition = clientX;\r\n            this.prevYPosition = clientY;\r\n        };\r\n        this.onTouchEnd = (event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.disposeHandlers();\r\n            if (this.started) {\r\n                this.props.onMoveEnd({\r\n                    nativeEvent: event,\r\n                    type: 'touch'\r\n                });\r\n            }\r\n            else {\r\n                this.props.onMoveCancel({\r\n                    nativeEvent: event,\r\n                    type: 'touch'\r\n                });\r\n            }\r\n        };\r\n    }\r\n    componentWillUnmount() {\r\n        cancelAnimationFrame(this.rqf);\r\n        this.disposeHandlers();\r\n    }\r\n    disposeHandlers() {\r\n        window.removeEventListener('mousemove', this.onMouseMove);\r\n        window.removeEventListener('mouseup', this.onMouseUp);\r\n        window.removeEventListener('touchmove', this.onTouchMove);\r\n        window.removeEventListener('touchend', this.onTouchEnd);\r\n        this.setCursor(false);\r\n        this.disableText(true);\r\n    }\r\n    disableText(shouldDisable) {\r\n        if (this.props.disableText) {\r\n            toggleTextSelection(shouldDisable);\r\n        }\r\n    }\r\n    setCursor(set) {\r\n        let { cursor } = this.props;\r\n        if (cursor) {\r\n            if (!set) {\r\n                cursor = 'inherit';\r\n            }\r\n            document.body.style['cursor'] = cursor;\r\n        }\r\n    }\r\n    checkThreshold() {\r\n        const { threshold } = this.props;\r\n        return (!this.started &&\r\n            (Math.abs(this.deltaX) > threshold || Math.abs(this.deltaY) > threshold));\r\n    }\r\n    getTouchCoords(event) {\r\n        const { clientX, clientY } = event.touches[0];\r\n        return {\r\n            clientX,\r\n            clientY\r\n        };\r\n    }\r\n    onMouseDown(event) {\r\n        const { preventRightClick, disabled } = this.props;\r\n        const shouldCancel = event.nativeEvent.which === 3 && preventRightClick;\r\n        if (shouldCancel || disabled) {\r\n            return;\r\n        }\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.started = false;\r\n        // Always bind event so we cancel movement even if no action was taken\r\n        window.addEventListener('mousemove', this.onMouseMove);\r\n        window.addEventListener('mouseup', this.onMouseUp);\r\n    }\r\n    onTouchStart(event) {\r\n        const { disabled } = this.props;\r\n        if (disabled || event.touches.length !== 1) {\r\n            return;\r\n        }\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.started = false;\r\n        this.prevXPosition = event.touches[0].clientX;\r\n        this.prevYPosition = event.touches[0].clientY;\r\n        // Always bind event so we cancel movement even if no action was taken\r\n        window.addEventListener('touchmove', this.onTouchMove);\r\n        window.addEventListener('touchend', this.onTouchEnd);\r\n    }\r\n    render() {\r\n        return Children.map(this.props.children, (child) => cloneElement(child, Object.assign(Object.assign({}, child.props), { onMouseDown: (e) => {\r\n                this.onMouseDown(e);\r\n                if (child.props.onMouseDown) {\r\n                    child.props.onMouseDown(e);\r\n                }\r\n            }, onTouchStart: (e) => {\r\n                this.onTouchStart(e);\r\n                if (child.props.onTouchStart) {\r\n                    child.props.onTouchStart(e);\r\n                }\r\n            } })));\r\n    }\r\n}\r\nMove.defaultProps = {\r\n    preventRightClick: true,\r\n    disableText: true,\r\n    threshold: 0,\r\n    onMoveStart: () => undefined,\r\n    onMove: () => undefined,\r\n    onMoveEnd: () => undefined,\r\n    onMoveCancel: () => undefined\r\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z$p = \".BrushHandle-module_handle__1HtKb {\\n  fill: var(--color-handle-fill);\\n  stroke: var(--color-handle-stroke);\\n}\\n\\n.BrushHandle-module_dragging__k86sG {\\n  fill: var(--color-handle-drag-fill);\\n}\\n\\n.BrushHandle-module_dot__vx-R8 {\\n  fill: var(--color-handle-dots);\\n}\\n\\n.BrushHandle-module_line__1jJ7Y {\\n  stroke: var(--color-handle-line);\\n}\\n\";\nvar css$p = {\"handle\":\"BrushHandle-module_handle__1HtKb\",\"dragging\":\"BrushHandle-module_dragging__k86sG\",\"dot\":\"BrushHandle-module_dot__vx-R8\",\"line\":\"BrushHandle-module_line__1jJ7Y\"};\nstyleInject(css_248z$p);\n\nclass BrushHandle extends PureComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = {\r\n            isDragging: false\r\n        };\r\n    }\r\n    onMoveStart() {\r\n        this.setState({\r\n            isDragging: true\r\n        });\r\n    }\r\n    onMove(event) {\r\n        this.props.onHandleDrag(event.x);\r\n    }\r\n    onMoveEnd() {\r\n        this.setState({\r\n            isDragging: false\r\n        });\r\n    }\r\n    render() {\r\n        const { height } = this.props;\r\n        const { isDragging } = this.state;\r\n        return (jsx(Move, Object.assign({ cursor: \"ew-resize\", onMoveStart: bind(this.onMoveStart, this), onMove: bind(this.onMove, this), onMoveEnd: bind(this.onMoveEnd, this) }, { children: jsxs(\"g\", { children: [jsx(\"line\", { className: css$p.line, y1: \"0\", y2: height, x1: \"5\", x2: \"5\" }, void 0),\r\n                    jsx(\"rect\", { className: classNames(css$p.handle, { [css$p.dragging]: isDragging }), height: height - 10, style: { cursor: 'ew-resize' }, width: 8, y: \"5\", y1: height - 5 }, void 0),\r\n                    jsx(\"g\", Object.assign({ transform: `translate(-1, ${height / 2 - 10})`, style: { pointerEvents: 'none' } }, { children: range(5).map((i) => (jsx(\"circle\", { cy: i * 5, cx: \"5\", r: \".5\", className: css$p.dot }, i))) }), void 0)] }, void 0) }), void 0));\r\n    }\r\n}\n\nvar css_248z$o = \".BrushSlice-module_slice__sa839 {\\n  fill: var(--color-primary);\\n}\\n\\n.BrushSlice-module_unsliced__1Ls_5 {\\n  fill: var(--color-background);\\n  opacity: 0.5;\\n  pointer-events: none;\\n}\\n\";\nvar css$o = {\"slice\":\"BrushSlice-module_slice__sa839\",\"unsliced\":\"BrushSlice-module_unsliced__1Ls_5\"};\nstyleInject(css_248z$o);\n\nclass BrushSlice extends PureComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = {\r\n            isDragging: false\r\n        };\r\n    }\r\n    onMoveStart() {\r\n        const { start, end, width } = this.props;\r\n        const hasNoSlice = start === 0 && end === width;\r\n        if (!hasNoSlice) {\r\n            this.setState({\r\n                isDragging: true\r\n            });\r\n        }\r\n    }\r\n    onMove({ x }) {\r\n        const { onBrushChange, width } = this.props;\r\n        let { start, end } = this.props;\r\n        start = start + x;\r\n        end = end + x;\r\n        if (start >= 0 && end <= width) {\r\n            onBrushChange({\r\n                start,\r\n                end\r\n            });\r\n        }\r\n    }\r\n    onMoveEnd() {\r\n        this.setState({\r\n            isDragging: false\r\n        });\r\n    }\r\n    onHandleDrag(direction, deltaX) {\r\n        const { onBrushChange } = this.props;\r\n        let { start, end } = this.props;\r\n        start = direction === 'start' ? start + deltaX : start;\r\n        end = direction !== 'start' ? end + deltaX : end;\r\n        onBrushChange({\r\n            start,\r\n            end\r\n        });\r\n    }\r\n    render() {\r\n        const { height, start, end, width } = this.props;\r\n        const { isDragging } = this.state;\r\n        const sliceWidth = Math.max(end - start, 0);\r\n        const endSliceWidth = Math.max(width - end, 0);\r\n        const hasNoSlice = start === 0 && end === width;\r\n        return (jsxs(Fragment, { children: [jsx(\"rect\", { className: css$o.unsliced, height: height, width: start }, void 0),\r\n                jsx(\"rect\", { transform: `translate(${end}, 0)`, className: css$o.unsliced, height: height, width: endSliceWidth }, void 0),\r\n                jsxs(\"g\", Object.assign({ transform: `translate(${start}, 0)` }, { children: [jsx(Move, Object.assign({ cursor: \"grabbing\", onMoveStart: bind(this.onMoveStart, this), onMove: bind(this.onMove, this), onMoveEnd: bind(this.onMoveEnd, this) }, { children: jsx(\"rect\", { className: css$o.slice, height: height, width: sliceWidth, style: {\r\n                                    cursor: isDragging ? 'grabbing' : 'grab',\r\n                                    opacity: hasNoSlice ? 0 : 0.1,\r\n                                    pointerEvents: !hasNoSlice ? 'initial' : 'none'\r\n                                } }, void 0) }), void 0),\r\n                        jsx(\"g\", Object.assign({ transform: 'translate(-4, 0)' }, { children: jsx(BrushHandle, { height: height, onHandleDrag: bind(this.onHandleDrag, this, 'start') }, void 0) }), void 0),\r\n                        jsx(\"g\", Object.assign({ transform: `translate(${sliceWidth - 5}, 0)` }, { children: jsx(BrushHandle, { height: height, onHandleDrag: bind(this.onHandleDrag, this, 'end') }, void 0) }), void 0)] }), void 0)] }, void 0));\r\n    }\r\n}\n\nclass Brush extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isSlicing: false,\r\n            isPanning: false,\r\n            start: props.start || 0,\r\n            end: props.end || props.width\r\n        };\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        // If no brush is defined and width updates, update the offset of the end handle.\r\n        if (prevProps.width !== this.props.width &&\r\n            this.state.end === prevProps.width) {\r\n            this.setState({ end: this.props.width });\r\n        }\r\n        // Don't update if we are doing the slicing\r\n        if (!this.state.isSlicing && !this.state.isPanning) {\r\n            const { start, end } = this.props;\r\n            const startUpdated = start !== prevProps.start && start !== this.state.start;\r\n            const endUpdated = end !== prevProps.end && end !== this.state.end;\r\n            if (startUpdated || endUpdated) {\r\n                this.setState(Object.assign({}, this.ensurePositionInBounds(start, end)));\r\n            }\r\n        }\r\n    }\r\n    getStartEnd(event, state = this.state) {\r\n        const { x } = this.getPositionsForPanEvent(event);\r\n        let start;\r\n        let end;\r\n        if (x < state.initial) {\r\n            start = x;\r\n            end = state.initial;\r\n        }\r\n        else {\r\n            start = state.initial;\r\n            end = x;\r\n        }\r\n        return this.ensurePositionInBounds(start, end, state);\r\n    }\r\n    getPositionsForPanEvent(event) {\r\n        const eventObj = {\r\n            target: this.ref,\r\n            clientX: event.clientX,\r\n            clientY: event.clientY\r\n        };\r\n        return getPositionForTarget(eventObj);\r\n    }\r\n    ensurePositionInBounds(newStart, newEnd, state = this.state) {\r\n        const { width } = this.props;\r\n        let start = newStart;\r\n        let end = newEnd;\r\n        if (start === undefined || start <= 0) {\r\n            start = 0;\r\n        }\r\n        if (end === undefined) {\r\n            end = width;\r\n        }\r\n        if (start > end) {\r\n            start = state.start;\r\n        }\r\n        if (end < start) {\r\n            end = state.end;\r\n        }\r\n        if (end >= width) {\r\n            end = width;\r\n        }\r\n        return { start, end };\r\n    }\r\n    onMoveStart(event) {\r\n        const { disabled } = this.props;\r\n        if (!disabled) {\r\n            const positions = this.getPositionsForPanEvent(event.nativeEvent);\r\n            this.setState({\r\n                isSlicing: true,\r\n                initial: positions.x\r\n            });\r\n        }\r\n    }\r\n    onMove(event) {\r\n        const { disabled } = this.props;\r\n        if (!disabled) {\r\n            this.setState((prev) => {\r\n                const { onBrushChange } = this.props;\r\n                // Use setState callback so we can get the true previous value\r\n                // rather than the bulk updated value react will trigger\r\n                const { start, end } = this.getStartEnd(event.nativeEvent, prev);\r\n                if (onBrushChange) {\r\n                    onBrushChange({\r\n                        start,\r\n                        end\r\n                    });\r\n                }\r\n                return {\r\n                    start,\r\n                    end\r\n                };\r\n            });\r\n        }\r\n    }\r\n    onMoveEnd() {\r\n        this.setState({\r\n            isSlicing: false\r\n        });\r\n    }\r\n    onMoveCancel() {\r\n        const val = {\r\n            start: 0,\r\n            end: this.props.width\r\n        };\r\n        this.setState(val);\r\n        if (this.props.onBrushChange) {\r\n            this.props.onBrushChange(val);\r\n        }\r\n    }\r\n    onSliceChange(event) {\r\n        const val = this.ensurePositionInBounds(event.start, event.end);\r\n        this.setState(val);\r\n        if (this.props.onBrushChange) {\r\n            this.props.onBrushChange(val);\r\n        }\r\n    }\r\n    render() {\r\n        const { children, disabled, height, width } = this.props;\r\n        const { isSlicing, start, end } = this.state;\r\n        return (jsx(Move, Object.assign({ cursor: \"crosshair\", onMoveStart: bind(this.onMoveStart, this), onMove: bind(this.onMove, this), onMoveEnd: bind(this.onMoveEnd, this), onMoveCancel: bind(this.onMoveCancel, this) }, { children: jsxs(\"g\", Object.assign({ style: {\r\n                    pointerEvents: isSlicing ? 'none' : 'auto',\r\n                    cursor: disabled ? '' : 'crosshair'\r\n                } }, { children: [children, !disabled && (jsxs(Fragment, { children: [jsx(\"rect\", { ref: (ref) => (this.ref = ref), height: height, width: width, opacity: 0 }, void 0),\r\n                            start !== undefined && end !== undefined && (jsx(BrushSlice, { start: start, end: end, height: height, width: width, onBrushChange: bind(this.onSliceChange, this) }, void 0))] }, void 0))] }), void 0) }), void 0));\r\n    }\r\n}\r\nBrush.defaultProps = {\r\n    disabled: false,\r\n    height: 0,\r\n    width: 0,\r\n    onBrushChange: () => undefined\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nclass ChartBrush extends Component {\r\n    getBrushOffset() {\r\n        let start;\r\n        let end;\r\n        const { disabled, domain, scale } = this.props;\r\n        if (!disabled && domain) {\r\n            start = scale(domain[0]);\r\n            end = scale(domain[1]);\r\n        }\r\n        return { start, end };\r\n    }\r\n    onBrushChange(event) {\r\n        const { onBrushChange, scale, width } = this.props;\r\n        if (onBrushChange) {\r\n            let domain;\r\n            if (event.start !== undefined &&\r\n                event.end !== undefined &&\r\n                (event.start !== 0 || event.end !== width)) {\r\n                if (scale.invert) {\r\n                    const start = scale.invert(event.start);\r\n                    const end = scale.invert(event.end);\r\n                    domain = [start, end];\r\n                }\r\n                else {\r\n                    // invert scaleBend\r\n                    const band = scale.step();\r\n                    const start = Math.ceil((event.start - band / 2) / band);\r\n                    const end = Math.ceil((event.end - band / 2) / band);\r\n                    domain = [scale.domain()[start], scale.domain()[end]];\r\n                }\r\n            }\r\n            onBrushChange({\r\n                domain\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        const _a = this.props, { scale, height, width, children } = _a, rest = __rest(_a, [\"scale\", \"height\", \"width\", \"children\"]);\r\n        return (jsx(Brush, Object.assign({}, rest, this.getBrushOffset(), { height: height, width: width, onBrushChange: bind(this.onBrushChange, this) }, { children: children }), void 0));\r\n    }\r\n}\r\nChartBrush.defaultProps = {};\n\n/**\r\n * Given a margins object, returns the top/left/right/bottom positions.\r\n */\r\nfunction parseMargins(margins) {\r\n    let top = 0;\r\n    let right = 0;\r\n    let bottom = 0;\r\n    let left = 0;\r\n    if (Array.isArray(margins)) {\r\n        if (margins.length === 2) {\r\n            top = margins[0];\r\n            bottom = margins[0];\r\n            left = margins[1];\r\n            right = margins[1];\r\n        }\r\n        else if (margins.length === 4) {\r\n            top = margins[0];\r\n            right = margins[1];\r\n            bottom = margins[2];\r\n            left = margins[3];\r\n        }\r\n    }\r\n    else if (margins !== undefined) {\r\n        top = margins;\r\n        right = margins;\r\n        bottom = margins;\r\n        left = margins;\r\n    }\r\n    return {\r\n        top,\r\n        right,\r\n        bottom,\r\n        left\r\n    };\r\n}\r\n/**\r\n * Calculates the margins for the chart.\r\n */\r\nfunction calculateMarginOffsets(height, width, margins) {\r\n    const { left, right, bottom, top } = margins;\r\n    const newHeight = height - top - bottom;\r\n    const newWidth = width - left - right;\r\n    return {\r\n        height: newHeight,\r\n        width: newWidth\r\n    };\r\n}\r\n/**\r\n * Calculates the dimensions for the chart.\r\n */\r\nfunction getDimension({ xOffset, yOffset, height, width, margins }) {\r\n    const parsedMargins = parseMargins(margins);\r\n    const marginDims = calculateMarginOffsets(height, width, parsedMargins);\r\n    const chartWidth = marginDims.width - xOffset;\r\n    const chartHeight = marginDims.height - yOffset;\r\n    return {\r\n        xOffset,\r\n        yOffset,\r\n        height,\r\n        width,\r\n        chartWidth,\r\n        chartHeight,\r\n        xMargin: xOffset + parsedMargins.left,\r\n        yMargin: parsedMargins.top\r\n    };\r\n}\n\nvar css_248z$n = \".ChartContainer-module_container__1PaLd {\\n  /** Old mappings - to be removed in next major */\\n  --color-background: rgb(51, 51, 51);\\n  --color-on-background: #fff;\\n\\n  --color-tooltip: rgba(0, 5, 11, 0.9);\\n  --color-on-tooltip: #fff;\\n\\n  --color-handle-fill: #2c343a;\\n  --color-handle-stroke: #67c2e4;\\n  --color-handle-drag-fill: transparent;\\n  --color-handle-dots: #67c2e4;\\n  --color-handle-line: #67c2e4;\\n\\n  /** New mappings */\\n  --tooltip-background: var(--color-tooltip);\\n  --tooltip-color: var(--color-on-tooltip);\\n  --tooltip-border-radius: 5px;\\n  --tooltip-spacing: 5px;\\n\\n  --chart-background: var(--color-background);\\n  --chart-color: var(--color-on-background);\\n\\n  --chart-handle-fill: var(--color-handle-fill);\\n  --chart-handle-stroke: var(--color-handle-stroke);\\n  --chart-handle-drag-fill: var(--color-handle-drag-fill);\\n  --chart-handle-dots: var(--color-handle-dots);\\n  --chart-handle-line: var(--color-handle-line);\\n}\\n\";\nvar css$n = {\"container\":\"ChartContainer-module_container__1PaLd\"};\nstyleInject(css_248z$n);\n\nconst ChartContainer = (_a) => {\r\n    var { className, children, center, centerX, centerY, style, margins, containerClassName, xAxisVisible, yAxisVisible, id } = _a, rest = __rest(_a, [\"className\", \"children\", \"center\", \"centerX\", \"centerY\", \"style\", \"margins\", \"containerClassName\", \"xAxisVisible\", \"yAxisVisible\", \"id\"]);\r\n    const curId = useId(id);\r\n    const [xAxisSized, setXAxisSized] = useState(false);\r\n    const [yAxisSized, setYAxisSized] = useState(false);\r\n    const [xOffset, setXOffset] = useState(0);\r\n    const [yOffset, setYOffset] = useState(0);\r\n    const { observe, width, height } = useDimensions();\r\n    const chartSized = useMemo(() => {\r\n        if (!height || !width) {\r\n            return false;\r\n        }\r\n        // TODO: @amcdnl refactor this to account for 0-2 axises on x/y\r\n        if (xAxisVisible && !xAxisSized) {\r\n            return false;\r\n        }\r\n        if (yAxisVisible && !yAxisSized) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }, [height, width, xAxisSized, xAxisVisible, yAxisVisible, yAxisSized]);\r\n    const onUpdateAxes = useCallback((orientation, event) => {\r\n        if (orientation === 'horizontal') {\r\n            setXAxisSized(true);\r\n        }\r\n        else {\r\n            setYAxisSized(true);\r\n        }\r\n        if (event.height) {\r\n            setYOffset(event.height);\r\n        }\r\n        if (event.width) {\r\n            setXOffset(event.width);\r\n        }\r\n    }, []);\r\n    const childProps = useMemo(() => (Object.assign({ chartSized, id: curId, updateAxes: onUpdateAxes, yAxisSized,\r\n        xAxisSized }, getDimension({\r\n        margins,\r\n        height,\r\n        width,\r\n        yOffset,\r\n        xOffset\r\n    }))), [\r\n        chartSized,\r\n        curId,\r\n        onUpdateAxes,\r\n        yAxisSized,\r\n        xAxisSized,\r\n        margins,\r\n        height,\r\n        width,\r\n        yOffset,\r\n        xOffset\r\n    ]);\r\n    const translateX = center || centerX ? width / 2 : childProps.xMargin;\r\n    const translateY = center || centerY ? height / 2 : childProps.yMargin;\r\n    const styleHeight = rest.height !== undefined && rest.height !== null ? rest.height : '100%';\r\n    const styleWidth = rest.width !== undefined && rest.width !== null ? rest.width : '100%';\r\n    return (jsx(\"div\", Object.assign({ ref: observe, style: { height: styleHeight, width: styleWidth }, className: classNames(containerClassName, css$n.container) }, { children: height > 0 && width > 0 && (jsx(\"svg\", Object.assign({ width: width, height: height, className: className, style: style }, { children: jsx(\"g\", Object.assign({ transform: `translate(${translateX}, ${translateY})` }, { children: children(childProps) }), void 0) }), void 0)) }), void 0));\r\n};\n\nconst humanFormatScale = new humanFormat.Scale({\r\n    k: 1000,\r\n    M: 1000000,\r\n    B: 1000000000\r\n});\r\nconst humanFormatMillionScale = new humanFormat.Scale({\r\n    M: 1,\r\n    B: 1000,\r\n    T: 1000000\r\n});\r\nconst ONE_MILLION = 1000000;\r\nconst ONE_BILLION = 1000000000;\r\nconst humanFormatBigInteger = (bigInteger) => {\r\n    if (bigInteger.greater(ONE_BILLION)) {\r\n        return humanFormat(bigInteger.divide(ONE_MILLION).toJSNumber(), {\r\n            scale: humanFormatMillionScale\r\n        });\r\n    }\r\n    return humanFormat(bigInteger.toJSNumber(), { scale: humanFormatScale });\r\n};\r\nconst bigIntegerToLocaleString = (bigInteger) => {\r\n    let i = 0;\r\n    let formattedString = '';\r\n    for (const c of bigInteger.toString().split('').reverse()) {\r\n        if (i > 0 && i % 3 === 0) {\r\n            formattedString = ',' + formattedString;\r\n        }\r\n        formattedString = c + formattedString;\r\n        i++;\r\n    }\r\n    return formattedString;\r\n};\n\nfunction normalizeValue(value, maxBigInt) {\r\n    if (bigInt.isInstance(value)) {\r\n        if (maxBigInt.greater(1000000)) {\r\n            const divideBy = maxBigInt.divide(1000000);\r\n            return value.divide(divideBy).toJSNumber();\r\n        }\r\n        else {\r\n            return value.toJSNumber();\r\n        }\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\r\nfunction normalizeValueForFormatting(value) {\r\n    if (bigInt.isInstance(value)) {\r\n        return bigIntegerToLocaleString(value);\r\n    }\r\n    return value;\r\n}\r\nfunction getMaxBigIntegerForNested(series) {\r\n    let maxBigInteger = bigInt.one;\r\n    for (const group of series) {\r\n        const maxBigIntegerForGroup = getMaxBigIntegerForShallow(group.data);\r\n        if (maxBigIntegerForGroup.greater(maxBigInteger)) {\r\n            maxBigInteger = maxBigIntegerForGroup;\r\n        }\r\n    }\r\n    return maxBigInteger;\r\n}\r\nfunction getMaxBigIntegerForShallow(series) {\r\n    let maxBigInteger = bigInt.one;\r\n    for (const point of series) {\r\n        if (bigInt.isInstance(point.data)) {\r\n            const bigInteger = point.data;\r\n            if (bigInteger.greater(maxBigInteger)) {\r\n                maxBigInteger = bigInteger;\r\n            }\r\n        }\r\n    }\r\n    return maxBigInteger;\r\n}\n\n/**\r\n * Accepts a `ChartDataShape` and transforms it to a chart readable data shape.\r\n *\r\n * Example:\r\n *\r\n *   [{\r\n *    key: 'Threat Intel',\r\n *    data: [{ key:'2011', data: 25 }]\r\n *   }]\r\n *\r\n * will be transformed to:\r\n *\r\n *  [{\r\n *    key: 'Threat Intel',\r\n *    data: [\r\n *      key: 'Threat Intel',\r\n *      x: '2011',\r\n *      y: 25\r\n *    ]\r\n *  }]\r\n */\r\nfunction buildNestedChartData(series, sort = false, direction = 'vertical') {\r\n    let result = [];\r\n    const maxBigInteger = getMaxBigIntegerForNested(series);\r\n    const isVertical = direction === 'vertical';\r\n    for (const point of series) {\r\n        for (const nestedPoint of point.data) {\r\n            const key = normalizeValueForFormatting(point.key);\r\n            let idx = result.findIndex((r) => {\r\n                const left = r.key;\r\n                if (left instanceof Date && key instanceof Date) {\r\n                    return left.getTime() === key.getTime();\r\n                }\r\n                return left === key;\r\n            });\r\n            if (idx === -1) {\r\n                result.push({\r\n                    key,\r\n                    metadata: point.metadata,\r\n                    data: []\r\n                });\r\n                idx = result.length - 1;\r\n            }\r\n            const x = normalizeValue(isVertical ? nestedPoint.key : nestedPoint.data, maxBigInteger);\r\n            const y = normalizeValue(isVertical ? nestedPoint.data : nestedPoint.key, maxBigInteger);\r\n            result[idx].data.push({\r\n                key,\r\n                value: normalizeValueForFormatting(nestedPoint.data),\r\n                metadata: nestedPoint.metadata,\r\n                id: point.id,\r\n                x,\r\n                x0: isVertical ? x : 0,\r\n                x1: x,\r\n                y,\r\n                y0: isVertical ? 0 : y,\r\n                y1: y\r\n            });\r\n        }\r\n    }\r\n    // Sort the series data based on the median value\r\n    if (sort) {\r\n        result = result.sort((a, b) => {\r\n            const aMax = median(a.data, (d) => d.y);\r\n            const bMax = median(b.data, (d) => d.y);\r\n            return aMax < bMax ? 1 : -1;\r\n        });\r\n    }\r\n    return result;\r\n}\r\nfunction addToChartType(a, b) {\r\n    if (bigInt.isInstance(a) && bigInt.isInstance(b)) {\r\n        return a.add(b);\r\n    }\r\n    else if (a instanceof Date && typeof b === 'number') {\r\n        return new Date(a.valueOf() + b);\r\n    }\r\n    else if (typeof a === 'number' && typeof b === 'number') {\r\n        return a + b;\r\n    }\r\n    else {\r\n        throw new Error('Invalid types to addToChartTypes');\r\n    }\r\n}\r\n/**\r\n * Accepts a shallow shape and normalizes it to a chart readable format.\r\n */\r\nfunction buildShallowChartData(series, direction = 'vertical', binSize = undefined) {\r\n    const result = [];\r\n    const maxBigInteger = getMaxBigIntegerForShallow(series);\r\n    const isVertical = direction === 'vertical';\r\n    for (const point of series) {\r\n        const isTuple = Array.isArray(point.data);\r\n        let k1 = point.key;\r\n        if (binSize) {\r\n            k1 = addToChartType(point.key, binSize);\r\n        }\r\n        const props = {\r\n            k0: normalizeValue(point.key, maxBigInteger),\r\n            k1: normalizeValue(k1, maxBigInteger),\r\n            v0: normalizeValue(isTuple ? point.data[0] : 0, maxBigInteger),\r\n            v1: normalizeValue(isTuple ? point.data[1] : point.data, maxBigInteger)\r\n        };\r\n        const xProp = isVertical ? 'k' : 'v';\r\n        const yProp = isVertical ? 'v' : 'k';\r\n        result.push({\r\n            key: normalizeValueForFormatting(props.k0),\r\n            value: normalizeValueForFormatting(props.v1),\r\n            metadata: point.metadata,\r\n            id: point.id,\r\n            x: props[`${xProp}1`],\r\n            x0: props[`${xProp}0`],\r\n            x1: props[`${xProp}1`],\r\n            y: props[`${yProp}1`],\r\n            y0: props[`${yProp}0`],\r\n            y1: props[`${yProp}1`]\r\n        });\r\n    }\r\n    return result;\r\n}\n\n/**\r\n * Build a histogram given data set.\r\n */\r\nfunction buildBins(xScale, thresholds, data) {\r\n    const layout = histogram()\r\n        .value((d) => d.x)\r\n        .domain(xScale.domain())\r\n        .thresholds(xScale.ticks(thresholds));\r\n    const bins = layout(data);\r\n    return bins.map((bin) => ({\r\n        x0: bin.x0,\r\n        x1: bin.x1,\r\n        y: bin.length,\r\n        y0: 0,\r\n        y1: bin.length\r\n    }));\r\n}\n\n/**\r\n * Given a dataset and a list of accessors, returns a unique collection.\r\n */\r\nfunction uniqueBy(data, ...accessors) {\r\n    const result = [];\r\n    const ittr = (arr, depth) => {\r\n        for (const a of arr) {\r\n            const acc = accessors[depth];\r\n            if (acc === undefined) {\r\n                throw new Error(`Accessor not found for depth: ${depth}`);\r\n            }\r\n            const val = acc(a);\r\n            if (Array.isArray(val)) {\r\n                ittr(val, depth + 1);\r\n            }\r\n            else if (!result.includes(val)) {\r\n                result.push(val);\r\n            }\r\n        }\r\n    };\r\n    ittr(data, 0);\r\n    return result;\r\n}\n\n/**\r\n * Given a dataset like:\r\n *\r\n *   [{\r\n *    key: 'Threat Intel',\r\n *    data: [{ key:'2011', data: 25 }]\r\n *   }]\r\n *\r\n * it will transform it to:\r\n *\r\n *  [\r\n *    { x: 'Theat Intel', '2011': 25 }\r\n *  ]\r\n */\r\nfunction transformDataToStack$1(data) {\r\n    const result = [];\r\n    const maxBigInteger = getMaxBigIntegerForNested(data);\r\n    for (const category of data) {\r\n        for (const value of category.data) {\r\n            let idx = result.findIndex((r) => {\r\n                if (r.x instanceof Date && category.key instanceof Date) {\r\n                    return r.x.getTime() === category.key.getTime();\r\n                }\r\n                return r.x === category.key;\r\n            });\r\n            if (idx === -1) {\r\n                result.push({\r\n                    metadata: category.metadata,\r\n                    x: category.key,\r\n                    formattedValues: {}\r\n                });\r\n                idx = result.length - 1;\r\n            }\r\n            result[idx].metadata = value.metadata;\r\n            result[idx][value.key] = normalizeValue(value.data, maxBigInteger);\r\n            result[idx].formattedValues[value.key] =\r\n                normalizeValueForFormatting(value.data);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Translates the stack data to a chart standard dataset.\r\n */\r\nfunction transformStackToData$1(stackData, direction = 'vertical') {\r\n    const result = [];\r\n    const isVertical = direction === 'vertical';\r\n    // Transform the data from the d3 stack format to our internal format\r\n    for (const category of stackData) {\r\n        for (const point of category) {\r\n            const key = point.data.x;\r\n            let idx = result.findIndex((r) => {\r\n                if (r.key instanceof Date && key instanceof Date) {\r\n                    return r.key.getTime() === key.getTime();\r\n                }\r\n                return r.key === key;\r\n            });\r\n            if (idx === -1) {\r\n                result.push({\r\n                    key,\r\n                    data: []\r\n                });\r\n                idx = result.length - 1;\r\n            }\r\n            const categoryKey = category.key;\r\n            const y = point.data[categoryKey];\r\n            const [y0, y1] = point;\r\n            result[idx].data.push({\r\n                metadata: point.data.metadata,\r\n                key,\r\n                x: isVertical ? categoryKey : y1,\r\n                x0: isVertical ? categoryKey : y0,\r\n                x1: isVertical ? categoryKey : y1,\r\n                y: isVertical ? y : categoryKey,\r\n                y0: isVertical ? y0 : categoryKey,\r\n                y1: isVertical ? y1 : categoryKey,\r\n                value: point.data.formattedValues[categoryKey]\r\n            });\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Builds a stack dataset from the standard data format.\r\n */\r\nfunction buildBarStackData(data = [], offset = 'default', direction = 'vertical') {\r\n    const keys = uniqueBy(data, (d) => d.data, (d) => d.key);\r\n    const stackData = transformDataToStack$1(data);\r\n    let stackFn = stack();\r\n    if (offset === 'expand') {\r\n        stackFn = stackFn.offset(stackOffsetExpand);\r\n    }\r\n    else if (offset === 'diverging') {\r\n        stackFn = stackFn.offset(stackOffsetDiverging);\r\n    }\r\n    const result = stackFn.keys(keys)(stackData);\r\n    return transformStackToData$1(result, direction);\r\n}\n\n/**\r\n * Builds a stack dataset from the standard data format.\r\n */\r\nfunction buildMarimekkoData(data = []) {\r\n    const result = buildBarStackData(data, 'expand');\r\n    const sums = {};\r\n    // Calculate the sum for each series and the total sum\r\n    let totalSum = 0;\r\n    for (const series of result) {\r\n        const sum = series.data.reduce((acc, cur) => acc + cur.y, 0);\r\n        sums[series.key] = sum;\r\n        totalSum += sum;\r\n    }\r\n    // Calculate the x0/x1 for each series\r\n    let prev = 0;\r\n    for (const series of result) {\r\n        const x0 = prev;\r\n        const x1 = prev + sums[series.key] / totalSum;\r\n        prev = x1;\r\n        for (const point of series.data) {\r\n            point.x0 = x0;\r\n            point.x1 = x1;\r\n        }\r\n    }\r\n    return result;\r\n}\n\n/**\r\n * Given a dataset like:\r\n *\r\n *   [{\r\n *    key: 'Threat Intel',\r\n *    data: [{ key:'2011', data: 25 }]\r\n *   }]\r\n *\r\n * it will transform it to:\r\n *\r\n *  [\r\n *    { x: '2011', 'Theat Intel': 25 }\r\n *  ]\r\n */\r\nfunction transformDataToStack(data) {\r\n    const result = [];\r\n    const maxBigInteger = getMaxBigIntegerForNested(data);\r\n    for (const category of data) {\r\n        for (const value of category.data) {\r\n            let idx = result.findIndex((r) => {\r\n                if (r.x instanceof Date && value.key instanceof Date) {\r\n                    return r.x.getTime() === value.key.getTime();\r\n                }\r\n                return r.x === value.key;\r\n            });\r\n            if (idx === -1) {\r\n                result.push({\r\n                    x: value.key,\r\n                    formattedValues: {}\r\n                });\r\n                idx = result.length - 1;\r\n            }\r\n            result[idx][category.key] = normalizeValue(value.data, maxBigInteger);\r\n            result[idx].formattedValues[category.key] = normalizeValueForFormatting(value.data);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Translates the stack data to a chart standard dataset.\r\n */\r\nfunction transformStackToData(stackData) {\r\n    const result = [];\r\n    for (const category of stackData) {\r\n        const series = [];\r\n        for (const point of category) {\r\n            const [y0, y1] = point;\r\n            const x = point.data.x;\r\n            series.push({\r\n                key: category.key,\r\n                x,\r\n                x0: x,\r\n                x1: x,\r\n                y: y1 - y0,\r\n                y0,\r\n                y1,\r\n                value: point.data.formattedValues[category.key]\r\n            });\r\n        }\r\n        result.push({\r\n            key: category.key,\r\n            data: series\r\n        });\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Builds a stack dataset from the standard data format.\r\n */\r\nfunction buildStackData(data, normalized = false) {\r\n    const keys = uniqueBy(data, (d) => d.key);\r\n    const stackData = transformDataToStack(data);\r\n    const stackFn = !normalized ? stack() : stack().offset(stackOffsetExpand);\r\n    const result = stackFn.keys(keys)(stackData);\r\n    return transformStackToData(result);\r\n}\n\nconst buildWaterfall = (series, direction = 'vertical', binSize = undefined) => {\r\n    const data = buildShallowChartData(series, direction, binSize);\r\n    const isVertical = direction === 'vertical';\r\n    const v = isVertical ? 'y' : 'x';\r\n    let cumulative = 0;\r\n    for (const point of data) {\r\n        point[`${v}0`] = cumulative;\r\n        cumulative += point[v];\r\n        point[`${v}1`] = cumulative;\r\n        point[v] = cumulative;\r\n    }\r\n    return data;\r\n};\n\nclass Pan extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.prevXPosition = 0;\r\n        this.prevYPosition = 0;\r\n        this.started = false;\r\n        this.deltaX = 0;\r\n        this.deltaY = 0;\r\n        this.childRef = createRef();\r\n        this.onMouseDown = (event) => {\r\n            // Stop at disabled\r\n            if (this.props.disabled) {\r\n                return;\r\n            }\r\n            // Ignore right click\r\n            if (event.which === 3) {\r\n                return;\r\n            }\r\n            // If global panning is turned off, it will only pan on the container\r\n            if (!this.props.globalPanning &&\r\n                event.target &&\r\n                !event.target.classList.contains('pan-container')) {\r\n                return;\r\n            }\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            toggleTextSelection(false);\r\n            this.started = false;\r\n            // Always bind event so we cancel movement even if no action was taken\r\n            window.addEventListener('mousemove', this.onMouseMove);\r\n            window.addEventListener('mouseup', this.onMouseUp);\r\n        };\r\n        this.onMouseMove = (event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.deltaX = this.deltaX + event.movementX;\r\n            this.deltaY = this.deltaY + event.movementY;\r\n            if (this.checkThreshold()) {\r\n                if (this.props.cursor) {\r\n                    document.body.style['cursor'] = this.props.cursor;\r\n                }\r\n                this.deltaX = 0;\r\n                this.deltaY = 0;\r\n                this.started = true;\r\n                this.onPanStart(event, 'mouse');\r\n            }\r\n            else {\r\n                this.pan(event.movementX, event.movementY, event, 'mouse');\r\n            }\r\n        };\r\n        this.onMouseUp = (event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.disposeHandlers();\r\n            toggleTextSelection(true);\r\n            if (this.started) {\r\n                this.onPanEnd(event, 'mouse');\r\n            }\r\n            else {\r\n                this.props.onPanCancel({\r\n                    nativeEvent: event,\r\n                    source: 'mouse'\r\n                });\r\n            }\r\n        };\r\n        this.onTouchStart = (event) => {\r\n            // Stop at disabled\r\n            if (this.props.disabled) {\r\n                return;\r\n            }\r\n            // Reqquire more than one touch\r\n            if (event.touches.length !== 1) {\r\n                return;\r\n            }\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            toggleTextSelection(false);\r\n            this.started = false;\r\n            this.prevXPosition = event.touches[0].clientX;\r\n            this.prevYPosition = event.touches[0].clientY;\r\n            // Always bind event so we cancel movement even if no action was taken\r\n            window.addEventListener('touchmove', this.onTouchMove);\r\n            window.addEventListener('touchend', this.onTouchEnd);\r\n        };\r\n        this.onTouchMove = (event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            // Calculate delta from previous position and current\r\n            const x = event.touches[0].clientX;\r\n            const y = event.touches[0].clientY;\r\n            const deltaX = x - this.prevXPosition;\r\n            const deltaY = y - this.prevYPosition;\r\n            this.deltaX = this.deltaX + deltaX;\r\n            this.deltaY = this.deltaY + deltaY;\r\n            if (this.checkThreshold()) {\r\n                this.deltaX = 0;\r\n                this.deltaY = 0;\r\n                this.started = true;\r\n                this.onPanStart(event, 'touch');\r\n            }\r\n            else {\r\n                const contrained = this.pan(deltaX, deltaY, event, 'touch');\r\n                if (!contrained) {\r\n                    this.prevXPosition = x;\r\n                    this.prevYPosition = y;\r\n                }\r\n            }\r\n        };\r\n        this.onTouchEnd = (event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.disposeHandlers();\r\n            toggleTextSelection(true);\r\n            if (this.started) {\r\n                this.onPanEnd(event, 'touch');\r\n            }\r\n            else {\r\n                this.props.onPanCancel({\r\n                    nativeEvent: event,\r\n                    source: 'touch'\r\n                });\r\n            }\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        if (this.childRef.current) {\r\n            this.childRef.current.addEventListener('mousedown', this.onMouseDown, {\r\n                passive: false\r\n            });\r\n            this.childRef.current.addEventListener('touchstart', this.onTouchStart, {\r\n                passive: false\r\n            });\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.disposeHandlers();\r\n        if (this.childRef.current) {\r\n            this.childRef.current.removeEventListener('mousedown', this.onMouseDown);\r\n            this.childRef.current.removeEventListener('touchstart', this.onTouchStart);\r\n        }\r\n    }\r\n    disposeHandlers() {\r\n        window.removeEventListener('mousemove', this.onMouseMove);\r\n        window.removeEventListener('mouseup', this.onMouseUp);\r\n        window.removeEventListener('touchmove', this.onTouchMove);\r\n        window.removeEventListener('touchend', this.onTouchEnd);\r\n        // Reset cursor on body back to original\r\n        document.body.style['cursor'] = 'inherit';\r\n        toggleTextSelection(true);\r\n    }\r\n    checkThreshold() {\r\n        const { threshold } = this.props;\r\n        return (!this.started &&\r\n            (Math.abs(this.deltaX) > threshold || Math.abs(this.deltaY) > threshold));\r\n    }\r\n    onPanStart(nativeEvent, source) {\r\n        this.props.onPanStart({\r\n            nativeEvent,\r\n            source\r\n        });\r\n    }\r\n    onPanMove(x, y, source, nativeEvent) {\r\n        this.props.onPanMove({\r\n            source,\r\n            nativeEvent,\r\n            x,\r\n            y\r\n        });\r\n    }\r\n    onPanEnd(nativeEvent, source) {\r\n        const { onPanEnd } = this.props;\r\n        onPanEnd({\r\n            nativeEvent,\r\n            source\r\n        });\r\n    }\r\n    pan(x, y, nativeEvent, source) {\r\n        const { scale, constrain, width, height, matrix } = this.props;\r\n        const newMatrix = smoothMatrix(transform(matrix, translate(x / scale, y / scale)), 100);\r\n        const shouldConstrain = constrain && constrainMatrix(height, width, newMatrix);\r\n        if (!shouldConstrain) {\r\n            this.onPanMove(newMatrix.e, newMatrix.f, source, nativeEvent);\r\n        }\r\n        return shouldConstrain;\r\n    }\r\n    render() {\r\n        return jsx(\"g\", Object.assign({ ref: this.childRef }, { children: this.props.children }), void 0);\r\n    }\r\n}\r\nPan.defaultProps = {\r\n    x: 0,\r\n    y: 0,\r\n    disabled: false,\r\n    scale: 1,\r\n    threshold: 10,\r\n    globalPanning: true,\r\n    onPanStart: () => undefined,\r\n    onPanMove: () => undefined,\r\n    onPanEnd: () => undefined,\r\n    onPanCancel: () => undefined\r\n};\n\n/**\r\n * Gets the position between a given set of points.\r\n */\r\nconst getMidpoint = (pointA, pointB) => ({\r\n    x: (pointA.x + pointB.x) / 2,\r\n    y: (pointA.y + pointB.y) / 2\r\n});\r\n/**\r\n * Gets the distance between a given set of points.\r\n */\r\nconst getDistanceBetweenPoints = (pointA, pointB) => Math.sqrt(Math.pow(pointB.y - pointA.y, 2) + Math.pow(pointB.x - pointA.x, 2));\r\n/**\r\n * Get touch points.\r\n */\r\nfunction getTouchPoints(event, node) {\r\n    const { left, top } = node.getBoundingClientRect();\r\n    const [pointA, pointB] = [...event.touches].map((touch) => ({\r\n        x: touch.clientX - Math.round(left),\r\n        y: touch.clientY - Math.round(top)\r\n    }));\r\n    const distance = getDistanceBetweenPoints(pointA, pointB);\r\n    const midpoint = getMidpoint(pointA, pointB);\r\n    return {\r\n        pointA,\r\n        pointB,\r\n        distance,\r\n        midpoint\r\n    };\r\n}\n\nclass Zoom extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.childRef = createRef();\r\n        this.onMouseWheel = (event) => {\r\n            const { disableMouseWheel, requireZoomModifier, matrix, onZoomEnd } = this.props;\r\n            if (disableMouseWheel) {\r\n                return false;\r\n            }\r\n            const hasModifier = event.metaKey || event.ctrlKey;\r\n            if (requireZoomModifier && !hasModifier) {\r\n                return false;\r\n            }\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            const point = getPointFromMatrix(event, matrix);\r\n            if (point) {\r\n                const { x, y } = point;\r\n                const step = this.getStep(event.deltaY);\r\n                this.scale(x, y, step, event);\r\n                // Do small timeout to 'guess' when its done zooming\r\n                clearTimeout(this.timeout);\r\n                this.timeout = setTimeout(() => onZoomEnd(), 500);\r\n            }\r\n        };\r\n        this.onTouchStart = (event) => {\r\n            if (event.touches.length === 2) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                toggleTextSelection(false);\r\n                this.firstTouch = getTouchPoints(event, this.childRef.current);\r\n                this.lastDistance = this.firstTouch.distance;\r\n                window.addEventListener('touchmove', this.onTouchMove);\r\n                window.addEventListener('touchend', this.onTouchEnd);\r\n            }\r\n        };\r\n        this.onTouchMove = (event) => {\r\n            if (event.touches.length === 2) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                const { distance } = getTouchPoints(event, this.childRef.current);\r\n                const distanceFactor = distance / this.lastDistance;\r\n                const point = applyToPoint(inverse(this.props.matrix), {\r\n                    x: this.firstTouch.midpoint.x,\r\n                    y: this.firstTouch.midpoint.y\r\n                });\r\n                if (point.x && point.y) {\r\n                    const outside = this.scale(point.x, point.y, distanceFactor, event);\r\n                    if (!outside) {\r\n                        this.lastDistance = distance;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.onTouchEnd = (event) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            window.removeEventListener('touchmove', this.onTouchMove);\r\n            window.removeEventListener('touchend', this.onTouchEnd);\r\n            toggleTextSelection(true);\r\n            this.props.onZoomEnd();\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        const { disabled, disableMouseWheel } = this.props;\r\n        const ref = this.childRef.current;\r\n        if (!disabled && ref) {\r\n            if (!disableMouseWheel) {\r\n                ref.addEventListener('mousewheel', this.onMouseWheel, {\r\n                    passive: false\r\n                });\r\n            }\r\n            ref.addEventListener('touchstart', this.onTouchStart, { passive: false });\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('touchmove', this.onTouchMove);\r\n        window.removeEventListener('touchend', this.onTouchEnd);\r\n        cancelAnimationFrame(this.rqf);\r\n        clearTimeout(this.timeout);\r\n        const ref = this.childRef.current;\r\n        if (ref) {\r\n            ref.removeEventListener('mousewheel', this.onMouseWheel);\r\n            ref.removeEventListener('touchstart', this.onTouchStart);\r\n        }\r\n        toggleTextSelection(true);\r\n    }\r\n    getStep(delta) {\r\n        const { scaleFactor } = this.props;\r\n        return -delta > 0 ? scaleFactor + 1 : 1 - scaleFactor;\r\n    }\r\n    scale(x, y, step, nativeEvent) {\r\n        const { minZoom, maxZoom, onZoom, matrix } = this.props;\r\n        const outside = isZoomLevelGoingOutOfBounds({\r\n            d: matrix.a,\r\n            scaleFactorMin: minZoom,\r\n            scaleFactorMax: maxZoom\r\n        }, step);\r\n        if (!outside) {\r\n            const newMatrix = smoothMatrix(transform(matrix, translate(x, y), scale(step, step), translate(-x, -y)), 100);\r\n            this.rqf = requestAnimationFrame(() => {\r\n                onZoom({\r\n                    scale: newMatrix.a,\r\n                    x: newMatrix.e,\r\n                    y: newMatrix.f,\r\n                    nativeEvent\r\n                });\r\n            });\r\n        }\r\n        return outside;\r\n    }\r\n    render() {\r\n        const { style, children } = this.props;\r\n        return (jsx(\"g\", Object.assign({ ref: this.childRef, style: style }, { children: children }), void 0));\r\n    }\r\n}\r\nZoom.defaultProps = {\r\n    x: 0,\r\n    y: 0,\r\n    scale: 1,\r\n    scaleFactor: 0.1,\r\n    minZoom: 1,\r\n    maxZoom: 10\r\n};\n\nvar css_248z$m = \".DiscreteLegend-module_container__MpmKP {\\n  display: flex;\\n  overflow: auto;\\n}\\n\\n  .DiscreteLegend-module_container__MpmKP.DiscreteLegend-module_horizontal__3Mt5B {\\n    align-items: center;\\n    flex-direction: row;\\n  }\\n\\n  .DiscreteLegend-module_container__MpmKP.DiscreteLegend-module_vertical__M1d-S {\\n    flex-direction: column;\\n  }\\n\";\nvar css$m = {\"container\":\"DiscreteLegend-module_container__MpmKP\",\"horizontal\":\"DiscreteLegend-module_horizontal__3Mt5B\",\"vertical\":\"DiscreteLegend-module_vertical__M1d-S\"};\nstyleInject(css_248z$m);\n\nconst DiscreteLegend = ({ entries, orientation, style, className }) => (jsx(\"div\", Object.assign({ className: classNames(css$m.container, className, {\r\n        [css$m.horizontal]: orientation === 'horizontal',\r\n        [css$m.vertical]: orientation === 'vertical'\r\n    }), style: style }, { children: entries.map((entry, index) => (jsx(CloneElement, { element: entry, orientation: orientation }, `dle-${index}`))) }), void 0));\r\nDiscreteLegend.defaultProps = {\r\n    orientation: 'vertical'\r\n};\n\nvar css_248z$l = \".DiscreteLegendSymbol-module_symbol__1n4Gb {\\n  width: 15px;\\n  height: 3px;\\n}\\n\";\nvar css$l = {\"symbol\":\"DiscreteLegendSymbol-module_symbol__1n4Gb\"};\nstyleInject(css_248z$l);\n\nconst DiscreteLegendSymbol = ({ className, color }) => (jsx(\"div\", { className: classNames(css$l.symbol, className), style: { background: color } }, void 0));\n\nvar css_248z$k = \".DiscreteLegendEntry-module_entry__2kjdn {\\n  display: flex;\\n  color: var(--color-on-primary);\\n  padding: 8px;\\n  will-change: transparency;\\n  transition: opacity 150ms ease-in;\\n}\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn.DiscreteLegendEntry-module_vertical__2LxhZ {\\n    flex-direction: row;\\n    align-items: center;\\n  }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn.DiscreteLegendEntry-module_vertical__2LxhZ:first-child {\\n      padding-top: 0;\\n    }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn.DiscreteLegendEntry-module_vertical__2LxhZ:last-child {\\n      padding-bottom: 0;\\n    }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn.DiscreteLegendEntry-module_vertical__2LxhZ .DiscreteLegendEntry-module_label__2e4-v {\\n      margin-left: 8px;\\n    }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn.DiscreteLegendEntry-module_vertical__2LxhZ svg {\\n      display: block;\\n      margin: 0 auto;\\n    }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn.DiscreteLegendEntry-module_horizontal__37dGv {\\n    align-items: center;\\n    flex-direction: row;\\n  }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn.DiscreteLegendEntry-module_horizontal__37dGv:first-child {\\n      padding-left: 0;\\n    }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn.DiscreteLegendEntry-module_horizontal__37dGv:last-child {\\n      padding-right: 0;\\n    }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn.DiscreteLegendEntry-module_horizontal__37dGv .DiscreteLegendEntry-module_label__2e4-v {\\n      margin-left: 8px;\\n    }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn .DiscreteLegendEntry-module_label__2e4-v {\\n    font-size: 12px;\\n  }\\n\\n  .DiscreteLegendEntry-module_entry__2kjdn svg {\\n    width: 15px;\\n    height: 15px;\\n  }\\n\";\nvar css$k = {\"entry\":\"DiscreteLegendEntry-module_entry__2kjdn\",\"vertical\":\"DiscreteLegendEntry-module_vertical__2LxhZ\",\"label\":\"DiscreteLegendEntry-module_label__2e4-v\",\"horizontal\":\"DiscreteLegendEntry-module_horizontal__37dGv\"};\nstyleInject(css_248z$k);\n\nconst DiscreteLegendEntry = ({ label, symbol, title, className, color, style, orientation, onMouseEnter, onMouseLeave, onClick }) => (jsxs(\"div\", Object.assign({ title: title, className: classNames(css$k.entry, className, {\r\n        [css$k.vertical]: orientation === 'vertical',\r\n        [css$k.horizontal]: orientation === 'horizontal'\r\n    }), onClick: onClick, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, style: style }, { children: [jsx(CloneElement, { element: symbol, color: color }, void 0),\r\n        jsx(\"span\", Object.assign({ className: css$k.label }, { children: label }), void 0)] }), void 0));\r\nDiscreteLegendEntry.defaultProps = {\r\n    symbol: jsx(DiscreteLegendSymbol, {}, void 0),\r\n    orientation: 'horizontal'\r\n};\n\nvar css_248z$j = \".SequentialLegend-module_container__2EkZd {\\n  display: flex;\\n  height: 100%;\\n}\\n\\n  .SequentialLegend-module_container__2EkZd.SequentialLegend-module_vertical__1DXNP {\\n    flex-direction: column;\\n    max-width: 55px;\\n  }\\n\\n  .SequentialLegend-module_container__2EkZd.SequentialLegend-module_vertical__1DXNP .SequentialLegend-module_start__1Pb9A,\\n    .SequentialLegend-module_container__2EkZd.SequentialLegend-module_vertical__1DXNP .SequentialLegend-module_end__3RWw0 {\\n      text-align: center;\\n      padding: 5px 0;\\n      width: 100%;\\n    }\\n\\n  .SequentialLegend-module_container__2EkZd.SequentialLegend-module_vertical__1DXNP .SequentialLegend-module_gradient__3aF0r {\\n      width: 25px;\\n      margin: 0 auto;\\n    }\\n\\n  .SequentialLegend-module_container__2EkZd.SequentialLegend-module_horizontal__2Q9EA {\\n    flex-direction: row-reverse;\\n  }\\n\\n  .SequentialLegend-module_container__2EkZd.SequentialLegend-module_horizontal__2Q9EA .SequentialLegend-module_start__1Pb9A,\\n    .SequentialLegend-module_container__2EkZd.SequentialLegend-module_horizontal__2Q9EA .SequentialLegend-module_end__3RWw0 {\\n      max-width: 20%;\\n    }\\n\\n  .SequentialLegend-module_container__2EkZd.SequentialLegend-module_horizontal__2Q9EA .SequentialLegend-module_start__1Pb9A {\\n      text-align: right;\\n      padding-left: 5px;\\n    }\\n\\n  .SequentialLegend-module_container__2EkZd.SequentialLegend-module_horizontal__2Q9EA .SequentialLegend-module_end__3RWw0 {\\n      text-align: left;\\n      padding-right: 5px;\\n    }\\n\\n  .SequentialLegend-module_container__2EkZd .SequentialLegend-module_gradient__3aF0r {\\n    flex: 1;\\n    width: 100%;\\n    border-radius: 2px;\\n  }\\n\\n  .SequentialLegend-module_container__2EkZd .SequentialLegend-module_start__1Pb9A,\\n  .SequentialLegend-module_container__2EkZd .SequentialLegend-module_end__3RWw0 {\\n    color: var(--color-on-primary);\\n    font-size: 12px;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n  }\\n\\n[dir=\\\"ltr\\\"] :export {\\n  start-top: SequentialLegend-module_start__1Pb9A;\\n  start-left: SequentialLegend-module_start__1Pb9A;\\n}\\n\\n[dir=\\\"rtl\\\"] :export {\\n  start-top: SequentialLegend-module_start__1Pb9A;\\n  start-right: SequentialLegend-module_start__1Pb9A;\\n}\\n\\n[dir=\\\"ltr\\\"] :export {\\n  end-bottom: SequentialLegend-module_end__3RWw0;\\n  end-right: SequentialLegend-module_end__3RWw0;\\n}\\n\\n[dir=\\\"rtl\\\"] :export {\\n  end-bottom: SequentialLegend-module_end__3RWw0;\\n  end-left: SequentialLegend-module_end__3RWw0;\\n}\\n\";\nvar css$j = {\"container\":\"SequentialLegend-module_container__2EkZd\",\"vertical\":\"SequentialLegend-module_vertical__1DXNP\",\"gradient\":\"SequentialLegend-module_gradient__3aF0r\",\"horizontal\":\"SequentialLegend-module_horizontal__2Q9EA\"};\nstyleInject(css_248z$j);\n\nclass SequentialLegend extends PureComponent {\r\n    render() {\r\n        const { orientation, className, style, colorScheme, data } = this.props;\r\n        // Generate the color gradient\r\n        const color = chroma\r\n            .scale(colorScheme)\r\n            .colors(10)\r\n            .reverse()\r\n            .map((c, i) => `${c} ${i * 10}%`)\r\n            .join(',');\r\n        // Get the extent from the data passed\r\n        const [end, start] = extent$1(uniqueBy(data, (d) => d.data, (d) => d.data));\r\n        // Get direction\r\n        const gradientDir = orientation === 'vertical' ? '' : 'to left,';\r\n        return (jsxs(\"div\", Object.assign({ style: style, className: classNames(css$j.container, className, {\r\n                [css$j.vertical]: orientation === 'vertical',\r\n                [css$j.horizontal]: orientation === 'horizontal'\r\n            }) }, { children: [jsx(\"div\", Object.assign({ className: css$j.start }, { children: formatValue(start) }), void 0),\r\n                jsx(\"div\", { className: css$j.gradient, style: {\r\n                        background: `linear-gradient(${gradientDir}${color})`\r\n                    } }, void 0),\r\n                jsx(\"div\", Object.assign({ className: css$j.end }, { children: formatValue(end) }), void 0)] }), void 0));\r\n    }\r\n}\r\nSequentialLegend.defaultProps = {\r\n    colorScheme: ['rgba(28, 107, 86, 0.5)', '#2da283'],\r\n    orientation: 'vertical'\r\n};\n\nvar css_248z$i = \".Gridline-module_gridLine__1K6sy {\\n  shape-rendering: crispEdges;\\n  pointer-events: none;\\n}\\n\";\nvar css$i = {\"gridLine\":\"Gridline-module_gridLine__1K6sy\"};\nstyleInject(css_248z$i);\n\nconst Gridline = ({ strokeWidth, direction, className, strokeColor, data, height, width, scale, strokeDasharray }) => {\r\n    const coords = useMemo(() => {\r\n        const pos = scale(data);\r\n        if (direction === 'x') {\r\n            return {\r\n                x1: pos,\r\n                x2: pos,\r\n                y1: 0,\r\n                y2: height\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                y1: pos,\r\n                y2: pos,\r\n                x1: 0,\r\n                x2: width\r\n            };\r\n        }\r\n    }, [direction, data, height, width, scale]);\r\n    return (jsx(\"line\", Object.assign({}, coords, { className: classNames(css$i.gridLine, className), strokeDasharray: strokeDasharray, strokeWidth: strokeWidth, stroke: strokeColor, fill: \"none\" }), void 0));\r\n};\r\nGridline.defaultProps = {\r\n    strokeWidth: 1,\r\n    strokeDasharray: '2 5',\r\n    direction: 'all',\r\n    strokeColor: 'rgba(153, 153, 153, 0.5)'\r\n};\n\nconst GridlineSeries = ({ line, stripe, yScale, xScale, yAxis, xAxis, height, width }) => {\r\n    const shouldRenderY = (direction) => direction === 'all' || direction === 'y';\r\n    const shouldRenderX = (direction) => direction === 'all' || direction === 'x';\r\n    const { yAxisGrid, xAxisGrid } = useMemo(() => {\r\n        return {\r\n            yAxisGrid: getTicks(yScale, yAxis.tickSeries.props.tickValues, yAxis.type, getMaxTicks(yAxis.tickSeries.props.tickSize, height), yAxis.tickSeries.props.interval),\r\n            xAxisGrid: getTicks(xScale, xAxis.tickSeries.props.tickValues, xAxis.type, getMaxTicks(xAxis.tickSeries.props.tickSize, width), xAxis.tickSeries.props.interval)\r\n        };\r\n    }, [height, width, xAxis, yAxis, yScale, xScale]);\r\n    const renderGroup = useCallback((element, grid, scale, direction, type) => {\r\n        return grid.map((point, index) => (jsx(Fragment, { children: jsx(CloneElement, { element: element, index: index, scale: scale, data: point, height: height, width: width, direction: direction }, void 0) }, `${type}-${direction}-${index}`)));\r\n    }, [height, width]);\r\n    const renderSeries = useCallback((yAxisGrid, xAxisGrid, element, type) => {\r\n        return (jsxs(Fragment, { children: [shouldRenderY(element.props.direction) &&\r\n                    renderGroup(element, yAxisGrid, yScale, 'y', type), shouldRenderX(element.props.direction) &&\r\n                    renderGroup(element, xAxisGrid, xScale, 'x', type)] }, void 0));\r\n    }, [renderGroup, xScale, yScale]);\r\n    return (jsxs(\"g\", Object.assign({ style: { pointerEvents: 'none' } }, { children: [line && renderSeries(yAxisGrid, xAxisGrid, line, 'line'), stripe && renderSeries(yAxisGrid, xAxisGrid, stripe, 'stripe')] }), void 0));\r\n};\r\nGridlineSeries.defaultProps = {\r\n    line: jsx(Gridline, { direction: \"all\" }, void 0),\r\n    stripe: null\r\n};\n\nvar css_248z$h = \".GridStripe-module_gridStripe__1UttV {\\n  pointer-events: none;\\n}\\n\";\nvar css$h = {\"gridStripe\":\"GridStripe-module_gridStripe__1UttV\"};\nstyleInject(css_248z$h);\n\nconst GridStripe = ({ fill, className, position, data, height, width, scale, index }) => {\r\n    const coords = useMemo(() => {\r\n        const pos = scale(data);\r\n        const stripeFill = index % 2 ? 'none' : fill;\r\n        const dim = scale.bandwidth();\r\n        if (position === 'vertical') {\r\n            return {\r\n                y: 0,\r\n                x: pos,\r\n                height: height,\r\n                width: dim,\r\n                fill: stripeFill\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                y: pos,\r\n                x: 0,\r\n                height: dim,\r\n                width,\r\n                fill: stripeFill\r\n            };\r\n        }\r\n    }, [scale, data, index, height, width, fill, position]);\r\n    return jsx(\"rect\", Object.assign({ className: classNames(css$h.gridStripe, className) }, coords), void 0);\r\n};\r\nGridStripe.defaultProps = {\r\n    fill: '#393c3e'\r\n};\n\nvar css_248z$g = \".MarkLine-module_markLine__2002U {\\n  pointer-events: none;\\n  stroke-dasharray: 4, 4;\\n  stroke-linecap: round;\\n}\\n\";\nvar css$g = {\"markLine\":\"MarkLine-module_markLine__2002U\"};\nstyleInject(css_248z$g);\n\nconst MarkLine = ({ pointX, height, strokeWidth = 1, strokeColor = '#eee' }) => (jsx(\"line\", { stroke: strokeColor, strokeWidth: strokeWidth, y1: \"0\", vectorEffect: \"non-scaling-stroke\", y2: height, x1: pointX, x2: pointX, className: css$g.markLine }, void 0));\n\nconst GradientStop = ({ color, offset, stopOpacity = 1 }) => jsx(\"stop\", { offset: offset, stopOpacity: stopOpacity, stopColor: color }, void 0);\n\nconst Gradient = ({ id, color, direction = 'vertical', stops = [\r\n    jsx(GradientStop, { offset: \"0%\", stopOpacity: 0.3 }, \"start\"),\r\n    jsx(GradientStop, { offset: \"80%\", stopOpacity: 1 }, \"stop\")\r\n] }) => {\r\n    const pos = direction === 'vertical'\r\n        ? {\r\n            x1: '10%',\r\n            x2: '10%',\r\n            y1: '100%',\r\n            y2: '0%'\r\n        }\r\n        : {\r\n            y1: '0%',\r\n            y2: '0%',\r\n            x1: '0%',\r\n            x2: '100%'\r\n        };\r\n    return (jsx(\"linearGradient\", Object.assign({ spreadMethod: \"pad\", id: id }, pos, { children: stops.map((stop, index) => (jsx(CloneElement, { element: stop, color: stop.props.color || color }, `gradient-${index}`))) }), void 0));\r\n};\n\nconst RadialGradient = ({ id, color, radius = '30%', stops = [\r\n    jsx(GradientStop, { offset: \"0%\", stopOpacity: 0.2 }, \"start\"),\r\n    jsx(GradientStop, { offset: \"80%\", stopOpacity: 0.7 }, \"stop\")\r\n] }) => (jsx(\"radialGradient\", Object.assign({ id: id, cx: 0, cy: 0, r: radius, gradientUnits: \"userSpaceOnUse\" }, { children: stops.map((stop, index) => (jsx(CloneElement, { element: stop, color: color }, `gradient-${index}`))) }), void 0));\n\nconst Mask = ({ id, fill }) => (jsx(\"mask\", Object.assign({ id: id }, { children: jsx(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\", fill: fill }, void 0) }), void 0));\n\nconst Stripes = ({ id, fill }) => (jsx(\"pattern\", Object.assign({ id: id, width: \"4\", height: \"4\", patternUnits: \"userSpaceOnUse\", patternTransform: \"rotate(45)\" }, { children: jsx(\"rect\", { className: \"area-stripe\", width: \"1\", height: \"4\", fill: fill }, void 0) }), void 0));\n\nvar css_248z$f = \".TooltipTemplate-module_label__1-9Eq {\\n  font-size: 16px;\\n  margin-bottom: 3px;\\n  color: var(--color-on-tooltip);\\n}\\n\\n.TooltipTemplate-module_value__3RhFW {\\n  font-size: 13px;\\n  color: var(--color-on-tooltip);\\n  opacity: 0.7;\\n}\\n\\n.TooltipTemplate-module_subValue__2jKhI {\\n  display: block;\\n  text-align: left;\\n  padding: 3px 5px;\\n}\\n\\n.TooltipTemplate-module_subValue__2jKhI .TooltipTemplate-module_subValueColor__2Mkos {\\n    width: 5px;\\n    height: 15px;\\n    margin-right: 8px;\\n    display: inline-block;\\n  }\\n\\n.TooltipTemplate-module_subValue__2jKhI .TooltipTemplate-module_subValueName__MtlOy {\\n    margin-right: 5px;\\n  }\\n\";\nvar css$f = {\"label\":\"TooltipTemplate-module_label__1-9Eq\",\"value\":\"TooltipTemplate-module_value__3RhFW\",\"subValue\":\"TooltipTemplate-module_subValue__2jKhI\",\"subValueColor\":\"TooltipTemplate-module_subValueColor__2Mkos\",\"subValueName\":\"TooltipTemplate-module_subValueName__MtlOy\"};\nstyleInject(css_248z$f);\n\nconst TooltipTemplate = ({ value, color, className }) => {\r\n    if (!value) {\r\n        return null;\r\n    }\r\n    const renderValues = (data, index) => {\r\n        const fill = color(data, index);\r\n        return (jsxs(\"span\", Object.assign({ className: css$f.subValue }, { children: [jsx(\"span\", { className: css$f.subValueColor, style: { backgroundColor: fill } }, void 0),\r\n                jsxs(\"span\", Object.assign({ className: css$f.subValueName }, { children: [formatValue(data.key || data.x), \":\"] }), void 0),\r\n                jsx(\"span\", { children: formatValue(data.value || data.y) }, void 0)] }), void 0));\r\n    };\r\n    const renderMultiple = (value) => {\r\n        const excessCount = value.data.length - 15;\r\n        const pagedValues = value.data.slice(0, 15);\r\n        return (jsxs(Fragment, { children: [pagedValues.map((point, i) => (jsx(Fragment, { children: renderValues(point, i) }, i))),\r\n                excessCount > 0 && jsxs(\"div\", { children: [\"...\", excessCount, \" more...\"] }, void 0)] }, void 0));\r\n    };\r\n    const isMultiple = Array.isArray(value.data);\r\n    return (jsxs(\"div\", Object.assign({ className: className, role: \"tooltip\" }, { children: [jsx(\"div\", Object.assign({ className: css$f.label }, { children: formatValue(value.x) }), void 0),\r\n            jsxs(\"div\", Object.assign({ className: css$f.value }, { children: [isMultiple && renderMultiple(value),\r\n                    !isMultiple && (jsx(Fragment, { children: formatValue(value.value ||\r\n                            value.y) }, void 0))] }), void 0)] }), void 0));\r\n};\n\nconst ChartTooltip = (_a) => {\r\n    var { content, value, data, color } = _a, rest = __rest(_a, [\"content\", \"value\", \"data\", \"color\"]);\r\n    return (jsx(Tooltip, Object.assign({}, rest, { content: () => {\r\n            if (!value && !data) {\r\n                return null;\r\n            }\r\n            return typeof content === 'function'\r\n                ? content(data || value, color)\r\n                : cloneElement(content, Object.assign(Object.assign({}, content.props), { value,\r\n                    color }));\r\n        } }), void 0));\r\n};\r\nChartTooltip.defaultProps = {\r\n    content: jsx(TooltipTemplate, {}, void 0)\r\n};\n\nclass TooltipArea extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = {};\r\n        this.ref = createRef();\r\n        this.transformData = memoize((series) => {\r\n            const { inverse, isHorizontal } = this.props;\r\n            const result = [];\r\n            if (inverse) {\r\n                for (const point of series) {\r\n                    const seriesPoint = point;\r\n                    if (Array.isArray(seriesPoint.data)) {\r\n                        for (const nestedPoint of seriesPoint.data) {\r\n                            const right = nestedPoint.x;\r\n                            let idx = result.findIndex((r) => {\r\n                                const left = r.x;\r\n                                if (left instanceof Date && right instanceof Date) {\r\n                                    return left.getTime() === right.getTime();\r\n                                }\r\n                                return left === right;\r\n                            });\r\n                            if (idx === -1) {\r\n                                result.push({\r\n                                    x: nestedPoint.x,\r\n                                    data: []\r\n                                });\r\n                                idx = result.length - 1;\r\n                            }\r\n                            const data = result[idx].data;\r\n                            if (Array.isArray(data)) {\r\n                                data.push(nestedPoint);\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        result.push(point);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                for (const point of series) {\r\n                    const nestedPoint = point;\r\n                    if (Array.isArray(nestedPoint.data)) {\r\n                        result.push(Object.assign(Object.assign({}, nestedPoint), { x: nestedPoint.key, data: nestedPoint.data.map((d) => (Object.assign(Object.assign({}, d), { key: !isHorizontal ? d.x : d.y, value: !isHorizontal ? d.y : d.x }))) }));\r\n                    }\r\n                    else {\r\n                        const shallowPoint = point;\r\n                        result.push(Object.assign(Object.assign({}, shallowPoint), { \r\n                            // Histograms special logic...\r\n                            x: shallowPoint.key === undefined ? shallowPoint.x0 : point.key, y: shallowPoint.value === undefined\r\n                                ? shallowPoint.y\r\n                                : shallowPoint.value }));\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        });\r\n    }\r\n    getXCoord(x, y) {\r\n        const { isRadial, width, height } = this.props;\r\n        // If the shape is radial, we need to convert the X coords to a radial format.\r\n        if (isRadial) {\r\n            const outerRadius = Math.min(width, height) / 2;\r\n            let rad = Math.atan2(y - outerRadius, x - outerRadius) + Math.PI / 2;\r\n            // TODO: Figure out what the 'correct' way to do this is...\r\n            if (rad < 0) {\r\n                rad += Math.PI * 2;\r\n            }\r\n            return rad;\r\n        }\r\n        return x;\r\n    }\r\n    onMouseMove(event) {\r\n        const { xScale, yScale, onValueEnter, height, width, data, isRadial, isHorizontal, placement } = this.props;\r\n        const { value } = this.state;\r\n        const transformed = this.transformData(data);\r\n        // Get our default placement\r\n        let newPlacement = placement;\r\n        if (!placement) {\r\n            if (isHorizontal) {\r\n                newPlacement = 'right';\r\n            }\r\n            else {\r\n                newPlacement = 'top';\r\n            }\r\n        }\r\n        // Get the path container element\r\n        let target = this.ref.current;\r\n        const { y, x } = getPositionForTarget({\r\n            target: target,\r\n            // Manually pass the x/y from the event\r\n            clientX: event.clientX,\r\n            clientY: event.clientY\r\n        });\r\n        // Need to flip scales/coords if we are a horz layout\r\n        let keyScale;\r\n        let valueScale;\r\n        let coord;\r\n        if (isHorizontal) {\r\n            keyScale = yScale;\r\n            valueScale = xScale;\r\n            coord = y;\r\n        }\r\n        else {\r\n            coord = this.getXCoord(x, y);\r\n            keyScale = xScale;\r\n            valueScale = yScale;\r\n        }\r\n        const newValue = getClosestPoint(coord, keyScale, transformed);\r\n        if (!isEqual(newValue, value) && newValue) {\r\n            const pointX = keyScale(newValue.x);\r\n            let pointY = valueScale(newValue.y);\r\n            let marginX = 0;\r\n            let marginY = 0;\r\n            if (isNaN(pointY)) {\r\n                pointY = height / 2;\r\n                marginX = 10;\r\n                if (!placement) {\r\n                    newPlacement = 'right';\r\n                }\r\n            }\r\n            else {\r\n                marginY = -10;\r\n            }\r\n            // If the points didn't change, don't trigger an update\r\n            if (pointX === this.prevX && pointY === this.prevY) {\r\n                return;\r\n            }\r\n            this.prevY = pointY;\r\n            this.prevX = pointX;\r\n            const target = event.target;\r\n            const { top, left } = target.getBoundingClientRect();\r\n            let offsetX = 0;\r\n            let offsetY = 0;\r\n            if (isRadial) {\r\n                // If its radial, we need to convert the coords to radial format\r\n                const outerRadius = Math.min(width, height) / 2;\r\n                offsetX = pointY * Math.cos(pointX - Math.PI / 2) + outerRadius;\r\n                offsetY = pointY * Math.sin(pointX - Math.PI / 2) + outerRadius;\r\n            }\r\n            else {\r\n                offsetX = pointX;\r\n                offsetY = pointY;\r\n            }\r\n            offsetX += left + marginX;\r\n            offsetY += top + marginY;\r\n            this.setState({\r\n                placement: newPlacement,\r\n                visible: true,\r\n                value: newValue,\r\n                offsetX,\r\n                offsetY\r\n            });\r\n            onValueEnter({\r\n                visible: true,\r\n                value: newValue,\r\n                pointY,\r\n                pointX,\r\n                offsetX,\r\n                offsetY,\r\n                nativeEvent: event\r\n            });\r\n        }\r\n    }\r\n    onMouseLeave() {\r\n        this.prevX = undefined;\r\n        this.prevY = undefined;\r\n        this.setState({\r\n            value: undefined,\r\n            visible: false\r\n        });\r\n        this.props.onValueLeave();\r\n    }\r\n    getTooltipReference() {\r\n        const { offsetX, offsetY } = this.state;\r\n        return {\r\n            width: 4,\r\n            height: 4,\r\n            top: offsetY,\r\n            left: offsetX\r\n        };\r\n    }\r\n    renderRadial() {\r\n        let { height, width, innerRadius, outerRadius } = this.props;\r\n        innerRadius = innerRadius || 0;\r\n        outerRadius = outerRadius || Math.min(width, height) / 2;\r\n        const d = arc()({\r\n            innerRadius,\r\n            outerRadius,\r\n            startAngle: 180,\r\n            endAngle: Math.PI / 2\r\n        });\r\n        return (jsx(\"path\", { d: d, opacity: \"0\", cursor: \"auto\", ref: this.ref, onMouseMove: bind(this.onMouseMove, this) }, void 0));\r\n    }\r\n    renderLinear() {\r\n        const { height, width } = this.props;\r\n        return (jsx(\"rect\", { height: height, ref: this.ref, width: width, opacity: 0, cursor: \"auto\", onMouseMove: bind(this.onMouseMove, this) }, void 0));\r\n    }\r\n    render() {\r\n        const { isRadial, children, tooltip, disabled, color } = this.props;\r\n        const { visible, placement, value } = this.state;\r\n        return (jsxs(Fragment, { children: [disabled && children, !disabled && (jsxs(\"g\", Object.assign({ onMouseLeave: bind(this.onMouseLeave, this) }, { children: [isRadial && this.renderRadial(), !isRadial && this.renderLinear(), jsx(CloneElement, { element: tooltip, visible: visible, placement: placement, modifiers: {\r\n                                offset: {\r\n                                    offset: '0, 15px'\r\n                                }\r\n                            }, reference: this.getTooltipReference(), color: color, value: value }, void 0), children] }), void 0))] }, void 0));\r\n    }\r\n}\r\nTooltipArea.defaultProps = {\r\n    isRadial: false,\r\n    tooltip: jsx(ChartTooltip, {}, void 0),\r\n    inverse: true,\r\n    onValueEnter: () => undefined,\r\n    onValueLeave: () => undefined\r\n};\n\n/**\r\n * Gets the min/max values handling nested arrays.\r\n */\r\nfunction extent(data, attr) {\r\n    const accessor = (val, fn) => {\r\n        if (Array.isArray(val.data)) {\r\n            return fn(val.data, (vv) => vv[attr]);\r\n        }\r\n        return val[attr];\r\n    };\r\n    const minVal = min(data, (d) => accessor(d, min));\r\n    const maxVal = max(data, (d) => accessor(d, max));\r\n    return [minVal, maxVal];\r\n}\r\n/**\r\n * Get the domain for the Y Axis.\r\n */\r\nfunction getYDomain({ data, scaled = false, isDiverging = false }) {\r\n    const [startY, endY] = extent(data, 'y');\r\n    const [startY1, endY1] = extent(data, 'y1');\r\n    // If dealing w/ negative numbers, we should\r\n    // normalize the top and bottom values\r\n    if (startY < 0 || isDiverging) {\r\n        const posStart = -startY;\r\n        const maxNum = Math.max(posStart, endY);\r\n        return [-maxNum, maxNum];\r\n    }\r\n    // Scaled start scale at non-zero\r\n    if (scaled) {\r\n        return [startY1, endY1];\r\n    }\r\n    // Start at 0 based\r\n    return [0, endY1];\r\n}\r\n/**\r\n * Get the domain for the X Axis.\r\n */\r\nfunction getXDomain({ data, scaled = false, isDiverging = false }) {\r\n    const startX0 = extent(data, 'x0')[0];\r\n    const endX1 = extent(data, 'x1')[1];\r\n    // Histograms use dates for start/end\r\n    if (typeof startX0 === 'number' && typeof endX1 === 'number') {\r\n        // If dealing w/ negative numbers, we should\r\n        // normalize the top and bottom values\r\n        if (startX0 < 0 || isDiverging) {\r\n            const posStart = -startX0;\r\n            const maxNum = Math.max(posStart, endX1);\r\n            return [-maxNum, maxNum];\r\n        }\r\n        // If not scaled, return 0/max domains\r\n        if (!scaled) {\r\n            return [0, endX1];\r\n        }\r\n    }\r\n    // Scaled start scale at non-zero\r\n    return [startX0, endX1];\r\n}\n\n/**\r\n * Helper function for interpolation.\r\n */\r\nfunction interpolate(type) {\r\n    if (type === 'smooth') {\r\n        return curveMonotoneX;\r\n    }\r\n    else if (type === 'step') {\r\n        return curveStep;\r\n    }\r\n    else {\r\n        return curveLinear;\r\n    }\r\n}\n\n/**\r\n * Calculates whether the stroke should be shown.\r\n */\r\nfunction calculateShowStroke(current, data) {\r\n    const i = data.indexOf(current);\r\n    let showLine = false;\r\n    const prev = data[i - 1];\r\n    if (i > 0 && prev.y) {\r\n        showLine = true;\r\n    }\r\n    const cur = data[i];\r\n    if (cur.y) {\r\n        showLine = true;\r\n    }\r\n    const next = data[i + 1];\r\n    if (i < data.length - 1 && next.y) {\r\n        showLine = true;\r\n    }\r\n    return showLine;\r\n}\n\n/**\r\n * Get the angle from a radian.\r\n */\r\nconst getDegrees = (radians) => (radians / Math.PI) * 180 - 90;\n\nconst functionProps = (prop, val, data) => {\r\n    if (typeof val === 'function') {\r\n        return val(data);\r\n    }\r\n    else if (prop === 'className') {\r\n        return classNames(val);\r\n    }\r\n    else if (val !== undefined || val !== null) {\r\n        return val;\r\n    }\r\n    return {};\r\n};\r\nconst constructFunctionProps = (props, data) => ({\r\n    className: functionProps('className', props.className, data),\r\n    style: functionProps('style', props.style, data)\r\n});\n\nfunction wrapText({ key, x = 0, y = 0, paddingY, paddingX, width, height, fontFamily, fontSize }) {\r\n    const size = calculateDimensions(key, fontFamily, fontSize);\r\n    const words = key.toString().split(/\\s+/);\r\n    if (words.length > 1 && size.width > width) {\r\n        let rows = [];\r\n        let maxWidth = 0;\r\n        let maxHeight = 0;\r\n        let curText = '';\r\n        let currWidth = 0;\r\n        let nextText = '';\r\n        let nextWidth = 0;\r\n        for (const word of words) {\r\n            nextText = curText === '' ? word : `${curText} ${word}`;\r\n            nextWidth = calculateDimensions(nextText, fontFamily, fontSize).width;\r\n            if (nextWidth <= width - (paddingX ? 2 * paddingX : 0)) {\r\n                curText = nextText;\r\n                currWidth = nextWidth;\r\n            }\r\n            else {\r\n                rows.push(curText);\r\n                maxWidth = Math.max(maxWidth, currWidth);\r\n                curText = word;\r\n                currWidth = calculateDimensions(curText, fontFamily, fontSize).width;\r\n            }\r\n        }\r\n        rows.push(curText);\r\n        maxHeight = rows.length * size.height;\r\n        if (height && maxHeight >= height - (paddingY ? 2 * paddingY : 0)) {\r\n            return null;\r\n        }\r\n        if (width && maxWidth >= width - (paddingX ? 2 * paddingX : 0)) {\r\n            return null;\r\n        }\r\n        return rows.map((r, i) => (jsx(\"tspan\", Object.assign({ dominantBaseline: \"alphabetic\", style: { baselineShift: '0%' }, dy: i > 0\r\n                ? size.height\r\n                : height\r\n                    ? size.height / 2 - 5\r\n                    : -maxHeight / 2 + size.height, x: x }, { children: r }), i)));\r\n    }\r\n    if (height && size.height + paddingY >= height) {\r\n        return null;\r\n    }\r\n    if (width && size.width + paddingX >= width) {\r\n        return null;\r\n    }\r\n    // NOTE: 5px seems to magic number for making it center\r\n    return (jsx(\"tspan\", Object.assign({ dominantBaseline: \"alphabetic\", style: { baselineShift: '0%' }, dy: size.height / 2 - 5, x: x }, { children: key }), void 0));\r\n}\n\nclass ZoomPan extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.zoomRef = createRef();\r\n        this.panRef = createRef();\r\n        this.state = {\r\n            isZooming: false,\r\n            isPanning: false,\r\n            matrix: identity()\r\n        };\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        // TODO: the types in the library don't seem to be correct...\r\n        const matrix = transform(fromDefinition([\r\n            { type: 'translate', tx: props.x, ty: props.y },\r\n            { type: 'scale', sx: props.scale, sy: props.scale }\r\n        ]));\r\n        if (!isEqual(matrix, state.matrix)) {\r\n            return {\r\n                matrix\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    onPanStart(event) {\r\n        this.setState({\r\n            isPanning: true\r\n        });\r\n        this.props.onPanStart(event);\r\n    }\r\n    onPanMove(event) {\r\n        this.props.onZoomPan({\r\n            scale: this.props.scale,\r\n            x: event.x,\r\n            y: event.y,\r\n            type: 'pan',\r\n            nativeEvent: event.nativeEvent\r\n        });\r\n        this.props.onPanMove(event);\r\n    }\r\n    onPanEnd(event) {\r\n        this.setState({ isPanning: false });\r\n        this.props.onPanEnd(event);\r\n    }\r\n    onZoom(event) {\r\n        this.props.onZoomPan({\r\n            x: event.x,\r\n            y: event.y,\r\n            scale: event.scale,\r\n            nativeEvent: event.nativeEvent,\r\n            type: 'zoom'\r\n        });\r\n        this.props.onZoom(event);\r\n    }\r\n    onZoomEnd() {\r\n        this.setState({\r\n            isZooming: false\r\n        });\r\n        this.props.onZoomEnd();\r\n    }\r\n    render() {\r\n        const { height, width, children, disabled, pannable, maxZoom, minZoom, zoomable, scale, x, y, disableMouseWheel, constrain, zoomStep, onPanCancel, requireZoomModifier, globalPanning } = this.props;\r\n        const { isZooming, isPanning } = this.state;\r\n        const cursor = pannable ? 'move' : 'auto';\r\n        const selection = isZooming || isPanning ? 'none' : 'auto';\r\n        const matrix = fromObject(this.state.matrix);\r\n        return (jsx(Pan, Object.assign({ x: x, y: y, scale: scale, matrix: matrix, constrain: constrain, height: height, width: width, disabled: !pannable || disabled, ref: this.panRef, globalPanning: globalPanning, onPanStart: bind(this.onPanStart, this), onPanMove: bind(this.onPanMove, this), onPanEnd: bind(this.onPanEnd, this), onPanCancel: onPanCancel }, { children: jsxs(Zoom, Object.assign({ ref: this.zoomRef, disabled: !zoomable || disabled, scaleFactor: zoomStep, disableMouseWheel: disableMouseWheel, maxZoom: maxZoom, minZoom: minZoom, scale: scale, x: x, y: y, style: { cursor }, requireZoomModifier: requireZoomModifier, matrix: matrix, onZoom: bind(this.onZoom, this), onZoomEnd: bind(this.onZoomEnd, this) }, { children: [!disabled && (jsx(\"rect\", { height: height, width: width, opacity: 0, className: \"pan-container\" }, void 0)),\r\n                    jsx(\"g\", Object.assign({ style: {\r\n                            pointerEvents: selection,\r\n                            userSelect: selection\r\n                        } }, { children: children }), void 0)] }), void 0) }), void 0));\r\n    }\r\n}\r\nZoomPan.defaultProps = {\r\n    maxZoom: 10,\r\n    minZoom: 0,\r\n    zoomStep: 0.1,\r\n    pannable: true,\r\n    zoomable: true,\r\n    constrain: true,\r\n    height: 0,\r\n    width: 0,\r\n    x: 0,\r\n    y: 0,\r\n    scale: 1,\r\n    globalPanning: true,\r\n    onPanStart: () => undefined,\r\n    onPanMove: () => undefined,\r\n    onPanEnd: () => undefined,\r\n    onPanCancel: () => undefined,\r\n    onZoom: () => undefined,\r\n    onZoomEnd: () => undefined\r\n};\n\n/**\r\n * Gets the X Scale function.\r\n */\r\nfunction getXScale({ type, roundDomains, data, width, domain, padding, scaled, isMultiSeries = false, isDiverging = false }) {\r\n    let scale;\r\n    if (type === 'time' || type === 'duration' || type === 'value') {\r\n        if (type === 'time') {\r\n            scale = scaleTime().rangeRound([0, width]);\r\n        }\r\n        else {\r\n            scale = scaleLinear().rangeRound([0, width]);\r\n        }\r\n        scale = scale.domain(domain || getXDomain({ data, scaled, isDiverging }));\r\n    }\r\n    else {\r\n        if (!domain) {\r\n            if (isMultiSeries) {\r\n                domain = uniqueBy(data, (d) => d.key);\r\n            }\r\n            else {\r\n                domain = uniqueBy(data, (d) => d.x);\r\n            }\r\n        }\r\n        scale = scaleBand()\r\n            .rangeRound([0, width])\r\n            .padding(padding || 0)\r\n            .domain(domain);\r\n    }\r\n    return roundDomains ? scale.nice() : scale;\r\n}\r\n/**\r\n * Gets the Y Scale function.\r\n */\r\nfunction getYScale({ type, height, data, domain, roundDomains = false, scaled = false, padding = 0, isMultiSeries = false, isDiverging = false }) {\r\n    let scale;\r\n    if (type === 'time' || type === 'value' || type === 'duration') {\r\n        scale = scaleLinear()\r\n            .range([height, 0])\r\n            .domain(domain || getYDomain({ data, scaled, isDiverging }));\r\n    }\r\n    else {\r\n        if (!domain) {\r\n            if (isMultiSeries) {\r\n                domain = uniqueBy(data, (d) => d.key);\r\n            }\r\n            else {\r\n                domain = uniqueBy(data, (d) => d.y);\r\n            }\r\n        }\r\n        scale = scaleBand()\r\n            .rangeRound([height, 0])\r\n            .padding(padding)\r\n            .domain(domain);\r\n    }\r\n    return roundDomains ? scale.nice() : scale;\r\n}\n\n/**\r\n * Get a linear scale for the mariemko chart.\r\n */\r\nconst getMarimekkoScale = (width, roundDomains) => {\r\n    const scale = scaleLinear().rangeRound([0, width]);\r\n    return roundDomains ? scale.nice() : scale;\r\n};\r\n/**\r\n * Builds a fake scale function to get a group scale for a marimekko value scale.\r\n */\r\nconst getMarimekkoGroupScale = ({ data, width, valueScale, padding }) => {\r\n    const domain = uniqueBy(data, (d) => d.key);\r\n    const barCount = data.length;\r\n    const widthMinusPadding = width - padding * (barCount - 1);\r\n    const xMultiplier = widthMinusPadding / width;\r\n    // Given a data series, find the x0/x1 for it.\r\n    const getXRange = (series) => {\r\n        const [val] = series.data;\r\n        const x0 = valueScale(val.x0);\r\n        const x1 = valueScale(val.x1);\r\n        return { x0, x1 };\r\n    };\r\n    const scale = (arg) => {\r\n        let result = 0;\r\n        const index = data.findIndex((d) => d.key === arg);\r\n        const series = data[index];\r\n        if (series && series.data && series.data.length) {\r\n            const { x1, x0 } = getXRange(series);\r\n            result = (x1 - x0) / 2 + x0;\r\n            if (padding) {\r\n                result = result * xMultiplier + index * padding;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    scale.range = () => [0, width];\r\n    scale.domain = () => domain;\r\n    // Special invert function for marimekko\r\n    scale.mariemkoInvert = (offset) => {\r\n        let found;\r\n        for (let i = 0; i < domain.length; i++) {\r\n            const attr = domain[i];\r\n            const series = data[i];\r\n            const { x1, x0 } = getXRange(series);\r\n            if (offset >= x0 - padding / 2 && offset <= x1 - padding / 2) {\r\n                found = attr;\r\n                break;\r\n            }\r\n        }\r\n        return found;\r\n    };\r\n    return scale;\r\n};\n\n/**\r\n * Get the group scale aka x0.\r\n */\r\nfunction getGroupScale({ dimension, padding, data, direction = 'vertical' }) {\r\n    const domain = uniqueBy(data, (d) => d.key);\r\n    const spacing = domain.length / (dimension / padding + 1);\r\n    const range = direction === 'vertical' ? [0, dimension] : [dimension, 0];\r\n    return scaleBand()\r\n        .rangeRound(range)\r\n        .paddingInner(spacing)\r\n        .paddingOuter(spacing / 2)\r\n        .domain(domain);\r\n}\r\n/**\r\n * Get the inner scale aka x1.\r\n */\r\nfunction getInnerScale({ groupScale, padding, data, prop = 'x' }) {\r\n    const dimension = groupScale.bandwidth();\r\n    const domain = uniqueBy(data, (d) => d.data, (d) => d[prop]);\r\n    const spacing = domain.length / (dimension / padding + 1);\r\n    return scaleBand()\r\n        .rangeRound([0, dimension])\r\n        .paddingInner(spacing)\r\n        .domain(domain);\r\n}\n\n/**\r\n * Get the Y Scale for a given set of radiuses.\r\n * Reference: https://github.com/d3/d3-scale/issues/90\r\n */\r\nconst getRadialYScale = (innerRadius, outerRadius, domain) => {\r\n    if (domain[0] === 0 && domain[1] === 0) {\r\n        // If all values are 0, set the domain to [0, 1], so the zero values are\r\n        // all at the bottom of the chart, not the middle.\r\n        domain = [0, 1];\r\n    }\r\n    const y = scaleLinear()\r\n        .range([innerRadius * innerRadius, outerRadius * outerRadius])\r\n        .domain(domain);\r\n    const yScale = Object.assign((d) => Math.sqrt(y(d)), y);\r\n    return yScale;\r\n};\n\nclass ChartZoomPan extends Component {\r\n    onZoomPan(event) {\r\n        const { width, data, axisType, roundDomains, onZoomPan } = this.props;\r\n        const can = event.type === 'zoom' || (event.type === 'pan' && event.scale > 1);\r\n        if (can) {\r\n            const scale = getXScale({\r\n                width: width,\r\n                type: axisType,\r\n                roundDomains,\r\n                data\r\n            });\r\n            const newScale = scale.copy().domain(scale\r\n                .range()\r\n                .map((x) => (x - event.x) / event.scale)\r\n                .map(scale.clamp(true).invert, event.x));\r\n            onZoomPan({\r\n                domain: newScale.domain(),\r\n                isZoomed: event.scale !== 1\r\n            });\r\n        }\r\n    }\r\n    getOffset() {\r\n        let zoomOffset = {\r\n            scale: undefined,\r\n            x: undefined\r\n        };\r\n        const { disabled, domain, width, data, axisType, roundDomains } = this.props;\r\n        if (!disabled && domain) {\r\n            const xScale = getXScale({\r\n                width,\r\n                type: axisType,\r\n                roundDomains,\r\n                data\r\n            });\r\n            let offset = xScale(domain[0]);\r\n            const endOffset = xScale(domain[1]);\r\n            const scale = width / (endOffset - offset);\r\n            // Apply the new scale to the offset so its scaled correctly\r\n            offset = offset * scale;\r\n            zoomOffset = {\r\n                scale: scale,\r\n                x: -offset\r\n            };\r\n        }\r\n        return zoomOffset;\r\n    }\r\n    render() {\r\n        const _a = this.props, { data, height, children, width, onZoomPan } = _a, rest = __rest(_a, [\"data\", \"height\", \"children\", \"width\", \"onZoomPan\"]);\r\n        const { scale, x } = this.getOffset();\r\n        return (jsx(ZoomPan, Object.assign({}, rest, { scale: scale, x: x, height: height, width: width, pannable: scale > 1, onZoomPan: bind(this.onZoomPan, this) }, { children: children }), void 0));\r\n    }\r\n}\r\nChartZoomPan.defaultProps = {\r\n    onZoomPan: () => undefined\r\n};\n\nconst DEFAULT_TRANSITION = {\r\n    type: 'spring',\r\n    velocity: 5,\r\n    damping: 20,\r\n    // https://github.com/framer/motion/issues/1513#issuecomment-1121133717\r\n    restDelta: 0.01,\r\n    restSpeed: 0.01\r\n};\n\nconst MotionPath = (_a) => {\r\n    var { custom, transition } = _a, rest = __rest(_a, [\"custom\", \"transition\"]);\r\n    const d = useMotionValue(custom.exit.d);\r\n    const prevPath = useMotionValue(custom.exit.d);\r\n    const spring = useSpring(prevPath, Object.assign(Object.assign({}, DEFAULT_TRANSITION), { from: 0, to: 1 }));\r\n    useEffect(() => {\r\n        const interpolator = interpolate$1(prevPath.get(), custom.enter.d);\r\n        const unsub = spring.onChange((v) => d.set(interpolator(v)));\r\n        prevPath.set(custom.enter.d);\r\n        return unsub;\r\n    });\r\n    const _b = custom.enter, { d: enterD } = _b, enterRest = __rest(_b, [\"d\"]);\r\n    const _c = custom.exit, exitRest = __rest(_c, [\"d\"]);\r\n    return (jsx(motion.path, Object.assign({}, rest, { initial: exitRest, exit: exitRest, animate: enterRest, transition: transition, d: transition.type !== false ? d : enterD }), void 0));\r\n};\n\n/**\r\n * Color Schemes\r\n * Credits: https://gka.github.io/chroma.js/#chroma-brewer\r\n */\r\nconst schemes = Object.assign({ cybertron: chroma.scale(['#2d60e8', '#26efb5']).correctLightness().colors(8) }, chroma.brewer);\n\n/**\r\n * Given a point, get the key attributes for it.\r\n */\r\nconst rangeHelper = (point, attribute) => point.map((r, i) => {\r\n    if (r) {\r\n        if (r[attribute] !== undefined) {\r\n            return r[attribute];\r\n        }\r\n        else if (r.data && r.data[attribute] !== undefined) {\r\n            return r.data[attribute];\r\n        }\r\n    }\r\n    return i;\r\n});\r\n/**\r\n * Get a color given a range.\r\n */\r\nconst getColor = (props) => {\r\n    let { point, colorScheme, attribute, index, data, active, isMultiSeries, domain, key, scale } = Object.assign({ attribute: 'key', isMultiSeries: false, scale: scaleOrdinal }, props);\r\n    if (typeof colorScheme === 'string' && schemes[colorScheme]) {\r\n        colorScheme = schemes[colorScheme];\r\n    }\r\n    if (Array.isArray(colorScheme)) {\r\n        if (!domain) {\r\n            if (isMultiSeries && Array.isArray(data)) {\r\n                const maxIdx = maxIndex(data, (d) => d.data.length);\r\n                const maxVal = data[maxIdx];\r\n                data = maxVal.data;\r\n            }\r\n            domain = rangeHelper(data, attribute);\r\n        }\r\n        key = key !== undefined ? key : point[attribute];\r\n        return scale(colorScheme).domain(domain)(key);\r\n    }\r\n    else if (typeof colorScheme === 'function') {\r\n        return colorScheme(point, index, active);\r\n    }\r\n    else {\r\n        return colorScheme;\r\n    }\r\n};\n\nconst COUNT_DEFAULTS = {\r\n    from: 0,\r\n    duration: 1,\r\n    delay: 0,\r\n    format: true,\r\n    decimalPlaces: 0\r\n};\r\nconst useCount = ({ from, to, duration, delay, decimalPlaces, format }) => {\r\n    const nodeRef = useRef(null);\r\n    from = from || COUNT_DEFAULTS.from;\r\n    duration = duration || COUNT_DEFAULTS.duration;\r\n    delay = delay || COUNT_DEFAULTS.delay;\r\n    format = format || COUNT_DEFAULTS.format;\r\n    decimalPlaces = decimalPlaces || COUNT_DEFAULTS.decimalPlaces;\r\n    useEffect(() => {\r\n        const node = nodeRef.current;\r\n        const controls = animate(from, to, {\r\n            duration,\r\n            delay,\r\n            onUpdate(value) {\r\n                let formatted = value;\r\n                if (decimalPlaces) {\r\n                    formatted = Number(value.toFixed(decimalPlaces));\r\n                }\r\n                else {\r\n                    formatted = Number(value.toFixed(0));\r\n                }\r\n                if (format) {\r\n                    formatted = formatted.toLocaleString();\r\n                }\r\n                node.textContent = formatted;\r\n            }\r\n        });\r\n        return () => controls.stop();\r\n    }, [from, to, duration, delay, decimalPlaces, format]);\r\n    return nodeRef;\r\n};\n\nconst Count = (_a) => {\r\n    var { className } = _a, rest = __rest(_a, [\"className\"]);\r\n    const ref = useCount(rest);\r\n    return jsx(\"span\", { ref: ref, className: className }, void 0);\r\n};\r\nCount.defaultProps = {\r\n    from: 0,\r\n    duration: 1,\r\n    delay: 0,\r\n    localize: true,\r\n    decimalPlaces: 0\r\n};\n\nvar css_248z$e = \".ScatterPoint-module_inactive__3ahvT {\\n  opacity: 0.2;\\n}\\n\";\nvar css$e = {\"inactive\":\"ScatterPoint-module_inactive__3ahvT\"};\nstyleInject(css_248z$e);\n\nconst ScatterPoint = (_a) => {\r\n    var { symbol, index, id, data, xScale, yScale, active, tooltip, cursor, size, color, animated, onClick, onMouseEnter, onMouseLeave } = _a, rest = __rest(_a, [\"symbol\", \"index\", \"id\", \"data\", \"xScale\", \"yScale\", \"active\", \"tooltip\", \"cursor\", \"size\", \"color\", \"animated\", \"onClick\", \"onMouseEnter\", \"onMouseLeave\"]);\r\n    const rectRef = useRef(null);\r\n    const [tooltipVisible, setTooltipVisible] = useState(false);\r\n    const extras = useMemo(() => constructFunctionProps(rest, data), [rest, data]);\r\n    const r = useMemo(() => (typeof size === 'function' ? size(data) : size), [size, data]);\r\n    const renderedSymbol = useMemo(() => (symbol ? symbol(data) : null), [data, symbol]);\r\n    const transitionProps = useMemo(() => animated\r\n        ? Object.assign(Object.assign({}, DEFAULT_TRANSITION), { delay: index * 0.005 }) : {\r\n        type: false,\r\n        delay: 0\r\n    }, [index, animated]);\r\n    const enterProps = useMemo(() => {\r\n        let cy = yScale(data.y1);\r\n        if (yScale.bandwidth) {\r\n            const width = yScale.bandwidth();\r\n            cy = cy + width / 2;\r\n        }\r\n        return {\r\n            x: xScale(data.x),\r\n            y: cy\r\n        };\r\n    }, [data, yScale]);\r\n    const exitProps = useMemo(() => {\r\n        const [yStartDomain] = yScale.domain();\r\n        return {\r\n            y: yScale(yStartDomain),\r\n            x: xScale(data.x)\r\n        };\r\n    }, [data, yScale]);\r\n    const fill = useMemo(() => getColor({\r\n        colorScheme: color,\r\n        index,\r\n        point: data\r\n    }), [data, color, index]);\r\n    return (jsxs(Fragment, { children: [jsx(\"g\", Object.assign({ ref: rectRef, onMouseEnter: () => {\r\n                    setTooltipVisible(true);\r\n                    onMouseEnter(data);\r\n                }, onMouseLeave: () => {\r\n                    setTooltipVisible(false);\r\n                    onMouseLeave(data);\r\n                }, onClick: () => onClick(data), className: classNames({\r\n                    [css$e.inactive]: !active\r\n                }) }, { children: symbol ? (jsx(motion.g, Object.assign({}, extras, { initial: {\r\n                        translateX: exitProps.x,\r\n                        translateY: exitProps.y,\r\n                        opacity: 0\r\n                    }, animate: {\r\n                        translateX: enterProps.x,\r\n                        translateY: enterProps.y,\r\n                        opacity: 1\r\n                    }, exit: {\r\n                        translateX: exitProps.x,\r\n                        translateY: exitProps.y,\r\n                        opacity: 0\r\n                    }, transition: transitionProps }, { children: renderedSymbol }), `symbol-${id}-${data.id}`)) : (jsx(motion.circle, { className: extras.className, style: Object.assign(Object.assign({}, extras.style), { cursor }), initial: {\r\n                        cx: exitProps.x,\r\n                        cy: exitProps.y,\r\n                        fill,\r\n                        r,\r\n                        opacity: 0\r\n                    }, animate: {\r\n                        cx: enterProps.x,\r\n                        cy: enterProps.y,\r\n                        opacity: 1,\r\n                        fill,\r\n                        r\r\n                    }, exit: {\r\n                        cx: exitProps.x,\r\n                        cy: exitProps.y,\r\n                        fill,\r\n                        r,\r\n                        opacity: 0\r\n                    }, transition: transitionProps }, `symbol-${id}-${data.id}`)) }), void 0),\r\n            tooltip && !tooltip.props.disabled && (jsx(CloneElement, { element: tooltip, visible: tooltipVisible, reference: rectRef, value: data }, void 0))] }, void 0));\r\n};\r\nScatterPoint.defaultProps = {\r\n    active: true,\r\n    toolti: jsx(ChartTooltip, {}, void 0),\r\n    cursor: 'pointer',\r\n    size: 4,\r\n    color: schemes.cybertron[0],\r\n    animated: true,\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined\r\n};\n\n// For bubble charts, often symbols exceed the area\r\n// and we want to add a little bit of padding to prevent clipping\r\nconst PADDING$1 = 25;\r\nconst HALF_PADDING$1 = PADDING$1 / 2;\r\nconst ScatterSeries = (_a) => {\r\n    var { data, height, width, id, isZoomed, activeIds, point } = _a, rest = __rest(_a, [\"data\", \"height\", \"width\", \"id\", \"isZoomed\", \"activeIds\", \"point\"]);\r\n    const renderPoint = useCallback((pointData, index) => {\r\n        let pointId;\r\n        if (pointData.id) {\r\n            pointId = pointData.id;\r\n        }\r\n        const key = pointId || index;\r\n        const active = !(activeIds && activeIds.length) || activeIds.includes(pointId);\r\n        const visible = point.props.visible;\r\n        if (visible && !visible(pointData, index)) {\r\n            return jsx(Fragment, {}, key);\r\n        }\r\n        return (jsx(CloneElement, Object.assign({ element: point }, rest, { id: id, data: pointData, index: index, active: active }), key));\r\n    }, [point, id, rest, activeIds]);\r\n    return (jsxs(Fragment, { children: [jsx(\"defs\", { children: jsx(\"clipPath\", Object.assign({ id: `${id}-path` }, { children: jsx(\"rect\", { width: isZoomed ? width : width + PADDING$1, height: height + PADDING$1, x: isZoomed ? 0 : -HALF_PADDING$1, y: -HALF_PADDING$1 }, void 0) }), void 0) }, void 0),\r\n            jsx(\"g\", Object.assign({ clipPath: `url(#${id}-path)` }, { children: data.map(renderPoint) }), void 0)] }, void 0));\r\n};\r\nScatterSeries.defaultProps = {\r\n    point: jsx(ScatterPoint, {}, void 0)\r\n};\n\nvar css_248z$d = \".ScatterPlot-module_scatterPlot__1gWRV {\\n  overflow: visible;\\n}\\n\";\nvar css$d = {\"scatterPlot\":\"ScatterPlot-module_scatterPlot__1gWRV\"};\nstyleInject(css_248z$d);\n\nconst ScatterPlot = ({ id, width, height, margins, className, series, xAxis, yAxis, data, gridlines, containerClassName, brush, zoomPan, secondaryAxis }) => {\r\n    const zoomControlled = useMemo(() => { var _a, _b; \r\n    // eslint-disable-next-line\r\n    return !((_b = (_a = zoomPan === null || zoomPan === void 0 ? void 0 : zoomPan.props) === null || _a === void 0 ? void 0 : _a.domain) === null || _b === void 0 ? void 0 : _b.hasOwnProperty('domain')); }, [zoomPan]);\r\n    const timeout = useRef(null);\r\n    const [preventAnimation, setPreventAnimation] = useState(false);\r\n    const [zoomDomain, setZoomDomain] = useState(null);\r\n    const [isZoomed, setIsZoomed] = useState(false);\r\n    const aggregatedData = useMemo(() => buildShallowChartData(data), [data]);\r\n    const getScales = useCallback((chartHeight, chartWidth) => {\r\n        const yScale = getYScale({\r\n            roundDomains: yAxis.props.roundDomains,\r\n            type: yAxis.props.type,\r\n            height: chartHeight,\r\n            data: aggregatedData,\r\n            domain: yAxis.props.domain\r\n        });\r\n        const xScale = getXScale({\r\n            width: chartWidth,\r\n            type: xAxis.props.type,\r\n            roundDomains: xAxis.props.roundDomains,\r\n            data: aggregatedData,\r\n            domain: zoomDomain || xAxis.props.domain\r\n        });\r\n        return {\r\n            yScale,\r\n            xScale\r\n        };\r\n    }, [yAxis, xAxis, aggregatedData, zoomDomain]);\r\n    const onZoomPan = useCallback((event) => {\r\n        if (zoomControlled) {\r\n            setPreventAnimation(true);\r\n            setZoomDomain(event.domain);\r\n            setIsZoomed(event.isZoomed);\r\n            clearTimeout(timeout.current);\r\n            timeout.current = setTimeout(() => setPreventAnimation(true), 500);\r\n        }\r\n    }, [zoomControlled]);\r\n    const renderChart = useCallback(({ chartHeight, chartWidth, id, updateAxes, chartSized }) => {\r\n        const { yScale, xScale } = getScales(chartHeight, chartWidth);\r\n        const animated = preventAnimation === true ? false : series.props.animated;\r\n        const disableBrush = aggregatedData.length <= 1;\r\n        return (jsxs(Fragment, { children: [chartSized && gridlines && (jsx(CloneElement, { element: gridlines, height: chartHeight, width: chartWidth, yScale: yScale, xScale: xScale, yAxis: yAxis.props, xAxis: xAxis.props }, void 0)),\r\n                jsx(CloneElement, { element: xAxis, height: chartHeight, width: chartWidth, scale: xScale, onDimensionsChange: (e) => updateAxes('horizontal', e) }, void 0),\r\n                jsx(CloneElement, { element: yAxis, height: chartHeight, width: chartWidth, scale: yScale, onDimensionsChange: (e) => updateAxes('vertical', e) }, void 0),\r\n                secondaryAxis &&\r\n                    secondaryAxis.map((axis, i) => (jsx(CloneElement, { element: axis, height: chartHeight, width: chartWidth, onDimensionsChange: (e) => updateAxes('horizontal', e) }, i))),\r\n                chartSized && (jsx(CloneElement, Object.assign({ disabled: disableBrush, element: brush, height: chartHeight, width: chartWidth, scale: xScale }, { children: jsx(CloneElement, Object.assign({ element: zoomPan, onZoomPan: onZoomPan, height: chartHeight, width: chartWidth, axisType: xAxis.props.type, roundDomains: xAxis.props.roundDomains, data: aggregatedData, domain: zoomDomain }, { children: jsx(CloneElement, { element: series, id: `area-series-${id}`, data: aggregatedData, height: chartHeight, width: chartWidth, yScale: yScale, xScale: xScale, isZoomed: isZoomed, animated: animated }, void 0) }), void 0) }), void 0))] }, void 0));\r\n    }, [\r\n        getScales,\r\n        preventAnimation,\r\n        series,\r\n        gridlines,\r\n        yAxis,\r\n        xAxis,\r\n        secondaryAxis,\r\n        brush,\r\n        zoomPan,\r\n        onZoomPan,\r\n        aggregatedData,\r\n        zoomDomain,\r\n        isZoomed\r\n    ]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, containerClassName: containerClassName, margins: margins, xAxisVisible: isAxisVisible(xAxis.props), yAxisVisible: isAxisVisible(yAxis.props), className: classNames(css$d.scatterPlot, className) }, { children: renderChart }), void 0));\r\n};\r\nScatterPlot.defaultProps = {\r\n    data: [],\r\n    xAxis: jsx(LinearXAxis, { type: \"time\" }, void 0),\r\n    yAxis: jsx(LinearYAxis, { type: \"value\" }, void 0),\r\n    series: jsx(ScatterSeries, {}, void 0),\r\n    gridlines: jsx(GridlineSeries, {}, void 0),\r\n    brush: null,\r\n    zoomPan: null\r\n};\n\nvar css_248z$c = \".PointSeries-module_point__3cXpV {\\n  stroke: rgba(255, 255, 255, 0.5);\\n  stroke-width: 1px;\\n}\\n\";\nvar css$c = {\"point\":\"PointSeries-module_point__3cXpV\"};\nstyleInject(css_248z$c);\n\nconst PointSeries = ({ data, xScale, yScale, animated, point, color, height, width, id, activeValues, show }) => {\r\n    const getIsVisible = useCallback((point, index) => {\r\n        const isActive = activeValues && point && isEqual(activeValues.x, point.x);\r\n        if (show === 'hover') {\r\n            return isActive;\r\n        }\r\n        else if (show === 'first') {\r\n            if (activeValues) {\r\n                return isActive;\r\n            }\r\n            else {\r\n                return index === 0;\r\n            }\r\n        }\r\n        else if (show === 'last') {\r\n            if (activeValues) {\r\n                return isActive;\r\n            }\r\n            else {\r\n                return index === data.length - 1;\r\n            }\r\n        }\r\n        return show;\r\n    }, [activeValues, data.length, show]);\r\n    return (jsx(ScatterSeries, { height: height, width: width, id: id, animated: animated, data: data, xScale: xScale, yScale: yScale, point: jsx(CloneElement, { element: point, color: color, className: css$c.point, size: 4, tooltip: null, visible: getIsVisible }, void 0) }, void 0));\r\n};\r\nPointSeries.defaultProps = {\r\n    show: 'hover',\r\n    point: jsx(ScatterPoint, {}, void 0)\r\n};\n\nconst Area = (_a) => {\r\n    var { id, gradient, mask, data, color, index, total, xScale, yScale, animated, interpolation } = _a, rest = __rest(_a, [\"id\", \"gradient\", \"mask\", \"data\", \"color\", \"index\", \"total\", \"xScale\", \"yScale\", \"animated\", \"interpolation\"]);\r\n    const stroke = color(data, index);\r\n    const coords = useMemo(() => {\r\n        return data.map((item) => ({\r\n            x: xScale(item.x),\r\n            x1: xScale(item.x) - xScale(item.x1),\r\n            y: yScale(item.y),\r\n            y0: yScale(item.y0),\r\n            y1: yScale(item.y1)\r\n        }));\r\n    }, [data, xScale, yScale]);\r\n    const getAreaPath = useCallback((d) => {\r\n        // If the input data is a single value and this is the only\r\n        // area in a series, fill the available space with an area:\r\n        if (d.length === 1 && total === 1) {\r\n            const [point] = d;\r\n            // Assume the single data point's `x` value\r\n            // is the middle of the graph:\r\n            const midpoint = point.x;\r\n            d = [Object.assign({}, point), Object.assign({}, point)];\r\n            const [start, end] = d;\r\n            start.x = 0;\r\n            end.x = midpoint * 2;\r\n        }\r\n        const fn = area()\r\n            .x((d) => d.x)\r\n            .y0((d) => d.y0)\r\n            .y1((d) => d.y1)\r\n            .curve(interpolate(interpolation));\r\n        return fn(d);\r\n    }, [interpolation, total]);\r\n    const enter = useMemo(() => {\r\n        const areaPath = getAreaPath(coords);\r\n        return {\r\n            d: areaPath === null ? undefined : areaPath\r\n        };\r\n    }, [coords, getAreaPath]);\r\n    const exit = useMemo(() => {\r\n        const maxY = Math.max(...yScale.range());\r\n        const coords = data.map((item) => ({\r\n            x: xScale(item.x),\r\n            x1: 0,\r\n            y: 0,\r\n            y1: maxY,\r\n            y0: maxY\r\n        }));\r\n        const areaPath = getAreaPath(coords);\r\n        return {\r\n            d: areaPath === null ? undefined : areaPath\r\n        };\r\n    }, [data, getAreaPath, xScale, yScale]);\r\n    const fill = useMemo(() => {\r\n        if (mask) {\r\n            return `url(#mask-pattern-${id})`;\r\n        }\r\n        else {\r\n            if (gradient) {\r\n                return `url(#gradient-${id})`;\r\n            }\r\n            return '';\r\n        }\r\n    }, [gradient, id, mask]);\r\n    const transition = useMemo(() => {\r\n        if (animated) {\r\n            return Object.assign(Object.assign({}, DEFAULT_TRANSITION), { delay: index * 0.05 });\r\n        }\r\n        else {\r\n            return {\r\n                type: false,\r\n                delay: 0\r\n            };\r\n        }\r\n    }, [animated, index]);\r\n    const renderArea = useCallback(() => {\r\n        const maskPath = mask ? `url(#mask-${id})` : '';\r\n        const extras = constructFunctionProps(rest, data);\r\n        return (jsx(MotionPath, Object.assign({}, extras, { pointerEvents: \"none\", mask: maskPath, fill: fill, transition: transition, custom: {\r\n                enter,\r\n                exit\r\n            } }), void 0));\r\n    }, [data, enter, exit, fill, id, mask, rest, transition]);\r\n    return (jsxs(Fragment, { children: [renderArea(), mask && (jsxs(Fragment, { children: [jsx(Mask, { id: `mask-${id}`, fill: `url(#gradient-${id})` }, void 0),\r\n                    jsx(CloneElement, { element: mask, id: `mask-pattern-${id}`, fill: stroke }, void 0)] }, void 0)),\r\n            gradient && (jsx(CloneElement, { element: gradient, id: `gradient-${id}`, color: stroke }, void 0))] }, void 0));\r\n};\r\nArea.defaultProps = {\r\n    gradient: jsx(Gradient, {}, void 0),\r\n    interpolation: 'linear'\r\n};\n\nconst Line = (_a) => {\r\n    var { width, data, color, index, strokeWidth, hasArea, animated, yScale, xScale, showZeroStroke, interpolation } = _a, rest = __rest(_a, [\"width\", \"data\", \"color\", \"index\", \"strokeWidth\", \"hasArea\", \"animated\", \"yScale\", \"xScale\", \"showZeroStroke\", \"interpolation\"]);\r\n    const [pathLength, setPathLength] = useState(null);\r\n    const ghostPathRef = useRef(null);\r\n    useEffect(() => {\r\n        if (ghostPathRef.current) {\r\n            setPathLength(ghostPathRef.current.getTotalLength());\r\n        }\r\n    }, [data, xScale, yScale, width]);\r\n    const getLinePath = useCallback((point) => {\r\n        const fn = line()\r\n            .x((d) => d.x)\r\n            .y((d) => d.y1)\r\n            .defined((d) => showZeroStroke || calculateShowStroke(d, point))\r\n            .curve(interpolate(interpolation));\r\n        return fn(point);\r\n    }, [interpolation, showZeroStroke]);\r\n    const transition = useMemo(() => {\r\n        if (animated) {\r\n            return Object.assign(Object.assign({}, DEFAULT_TRANSITION), { delay: hasArea ? 0 : index * 0.05 });\r\n        }\r\n        else {\r\n            return {\r\n                type: false,\r\n                delay: 0\r\n            };\r\n        }\r\n    }, [animated, hasArea, index]);\r\n    const coords = useMemo(() => {\r\n        return data.map((item) => ({\r\n            x: xScale(item.x),\r\n            x1: xScale(item.x) - xScale(item.x1),\r\n            y: yScale(item.y),\r\n            y0: yScale(item.y0),\r\n            y1: yScale(item.y1)\r\n        }));\r\n    }, [data, xScale, yScale]);\r\n    const enter = useMemo(() => {\r\n        const linePath = getLinePath(coords);\r\n        let strokeDasharray = '';\r\n        if (!hasArea && pathLength !== null) {\r\n            strokeDasharray = `${pathLength} ${pathLength}`;\r\n        }\r\n        return {\r\n            d: linePath === null ? undefined : linePath,\r\n            strokeDashoffset: 0,\r\n            strokeDasharray: strokeDasharray\r\n        };\r\n    }, [coords, getLinePath, hasArea, pathLength]);\r\n    const exit = useMemo(() => {\r\n        let newCoords = coords;\r\n        if (hasArea) {\r\n            const maxY = Math.max(...yScale.range());\r\n            newCoords = data.map((item) => ({\r\n                x: xScale(item.x),\r\n                x1: 0,\r\n                y: maxY,\r\n                y1: maxY,\r\n                y0: maxY\r\n            }));\r\n        }\r\n        const linePath = getLinePath(newCoords);\r\n        let strokeDasharray = '';\r\n        let strokeDashoffset = 0;\r\n        if (!hasArea && pathLength !== null) {\r\n            strokeDasharray = `${pathLength} ${pathLength}`;\r\n            strokeDashoffset = pathLength;\r\n        }\r\n        return {\r\n            d: linePath === null ? undefined : linePath,\r\n            strokeDasharray,\r\n            strokeDashoffset\r\n        };\r\n    }, [coords, data, getLinePath, hasArea, pathLength, xScale, yScale]);\r\n    const stroke = color(data, index);\r\n    const extras = constructFunctionProps(rest, data);\r\n    const showLine = hasArea || pathLength !== null;\r\n    // framer-motion freaks out when these are added for area\r\n    if (hasArea) {\r\n        delete enter.strokeDashoffset;\r\n        delete exit.strokeDashoffset;\r\n    }\r\n    return (jsxs(Fragment, { children: [showLine && (jsx(MotionPath, Object.assign({}, extras, { pointerEvents: \"none\", stroke: stroke, strokeWidth: strokeWidth, fill: \"none\", transition: transition, custom: {\r\n                    enter,\r\n                    exit\r\n                } }), void 0)),\r\n            !hasArea && (jsx(\"path\", { opacity: \"0\", d: enter.d, ref: ghostPathRef, pointerEvents: \"none\" }, void 0))] }, void 0));\r\n};\r\nLine.defaultProps = {\r\n    showZeroStroke: true,\r\n    strokeWidth: 3\r\n};\n\n// For area charts, often symbols exceed the area\r\n// and we want to add a little bit of padding to prevent clipping\r\nconst PADDING = 25;\r\nconst HALF_PADDING = PADDING / 2;\r\nconst AreaSeries = ({ data, height, id, width, isZoomed, tooltip, xScale, yScale, type, markLine, symbols, animated, area, interpolation, line, colorScheme }) => {\r\n    const [activeValues, setActiveValues] = useState(null);\r\n    const [activePoint, setActivePoint] = useState(null);\r\n    const onValueEnter = useCallback((event) => {\r\n        setActivePoint(event.pointX);\r\n        setActiveValues(event.value);\r\n    }, []);\r\n    const onValueLeave = useCallback(() => {\r\n        setActivePoint(undefined);\r\n        setActiveValues(undefined);\r\n    }, []);\r\n    const isMulti = type === 'grouped' || type === 'stacked' || type === 'stackedNormalized';\r\n    const getPointColor = useCallback((point, index) => {\r\n        var _a;\r\n        const key = Array.isArray(point) ? (_a = point === null || point === void 0 ? void 0 : point[0]) === null || _a === void 0 ? void 0 : _a.key : point === null || point === void 0 ? void 0 : point.key;\r\n        return getColor({\r\n            data,\r\n            colorScheme,\r\n            active: activeValues,\r\n            point,\r\n            index,\r\n            key\r\n        });\r\n    }, [activeValues, colorScheme, data]);\r\n    const renderArea = useCallback((data, index = 0, total = 1) => {\r\n        return (jsxs(Fragment, { children: [line && (jsx(CloneElement, { element: line, xScale: xScale, yScale: yScale, data: data, width: width, index: index, hasArea: area !== null, animated: animated, interpolation: interpolation, color: getPointColor }, void 0)),\r\n                area && (jsx(CloneElement, { element: area, id: `${id}-area-${index}`, xScale: xScale, yScale: yScale, data: data, index: index, total: total, animated: animated, interpolation: interpolation, color: getPointColor }, void 0))] }, void 0));\r\n    }, [\r\n        animated,\r\n        area,\r\n        getPointColor,\r\n        id,\r\n        interpolation,\r\n        line,\r\n        width,\r\n        xScale,\r\n        yScale\r\n    ]);\r\n    const renderSymbols = useCallback((data, index = 0) => {\r\n        const visible = symbols !== null;\r\n        const activeSymbols = (symbols && symbols.props.activeValues) || activeValues;\r\n        // Animations are only valid for Area\r\n        const isAnimated = area !== undefined && animated && !activeSymbols;\r\n        return (jsx(Fragment, { children: visible && (jsx(CloneElement, { element: symbols, id: id, height: height, width: width, activeValues: activeSymbols, xScale: xScale, yScale: yScale, index: index, data: data, animated: isAnimated, color: () => getPointColor(data, index) }, `point-series-${id}`)) }, void 0));\r\n    }, [\r\n        activeValues,\r\n        animated,\r\n        area,\r\n        getPointColor,\r\n        height,\r\n        id,\r\n        symbols,\r\n        width,\r\n        xScale,\r\n        yScale\r\n    ]);\r\n    const renderMarkLine = useCallback(() => {\r\n        return (jsx(Fragment, { children: activeValues && markLine && (jsx(CloneElement, { element: markLine, height: height, pointX: activePoint }, void 0)) }, void 0));\r\n    }, [activePoint, activeValues, height, markLine]);\r\n    const renderSingleSeries = useCallback((data) => {\r\n        return (jsxs(Fragment, { children: [renderArea(data), renderMarkLine(), renderSymbols(data)] }, void 0));\r\n    }, [renderArea, renderMarkLine, renderSymbols]);\r\n    const renderMultiSeries = useCallback((data) => {\r\n        return (jsxs(Fragment, { children: [data\r\n                    .map((point, index) => (jsx(Fragment, { children: renderArea(point.data, index, data.length) }, `${point.key.toString()}`)))\r\n                    .reverse(), renderMarkLine(), data\r\n                    .map((point, index) => (jsx(Fragment, { children: renderSymbols(point.data, index) }, `${point.key.toString()}`)))\r\n                    .reverse()] }, void 0));\r\n    }, [renderArea, renderMarkLine, renderSymbols]);\r\n    return (jsxs(Fragment, { children: [jsx(\"defs\", { children: jsx(\"clipPath\", Object.assign({ id: `${id}-path` }, { children: jsx(\"rect\", { width: isZoomed ? width : width + PADDING, height: height + PADDING, x: isZoomed ? 0 : -HALF_PADDING, y: -HALF_PADDING }, void 0) }), void 0) }, void 0),\r\n            jsx(CloneElement, Object.assign({ element: tooltip, xScale: xScale, yScale: yScale, data: data, height: height, width: width, color: getColor, onValueEnter: onValueEnter, onValueLeave: onValueLeave }, { children: jsxs(\"g\", Object.assign({ clipPath: `url(#${id}-path)` }, { children: [isMulti && renderMultiSeries(data),\r\n                        !isMulti &&\r\n                            renderSingleSeries(data)] }), void 0) }), void 0)] }, void 0));\r\n};\r\nAreaSeries.defaultProps = {\r\n    colorScheme: 'cybertron',\r\n    animated: true,\r\n    interpolation: 'linear',\r\n    type: 'standard',\r\n    line: jsx(Line, {}, void 0),\r\n    area: jsx(Area, {}, void 0),\r\n    markLine: jsx(MarkLine, {}, void 0),\r\n    tooltip: jsx(TooltipArea, {}, void 0),\r\n    symbols: jsx(PointSeries, {}, void 0)\r\n};\n\nconst StackedNormalizedAreaSeries = (_a) => {\r\n    var { type, symbols } = _a, rest = __rest(_a, [\"type\", \"symbols\"]);\r\n    return (jsx(AreaSeries, Object.assign({}, rest, { type: \"stackedNormalized\", symbols: symbols && (jsx(CloneElement, Object.assign({ element: symbols }, symbols.props, { point: jsx(CloneElement, Object.assign({ element: symbols.props.point }, symbols.props.point.props, { tooltip: null }), void 0) }), void 0)) }), void 0));\r\n};\r\nStackedNormalizedAreaSeries.defaultProps = Object.assign(Object.assign({}, AreaSeries.defaultProps), { type: 'stackedNormalized', tooltip: (jsx(TooltipArea, { tooltip: jsx(ChartTooltip, { content: (series, color) => {\r\n                if (!series) {\r\n                    return null;\r\n                }\r\n                const value = Object.assign(Object.assign({}, series), { data: series.data.map((d) => (Object.assign(Object.assign({}, d), { value: `${formatValue(d.value)} ∙ ${formatValue(Math.floor((d.y1 - d.y0) * 100))}%` }))) });\r\n                return jsx(TooltipTemplate, { color: color, value: value }, void 0);\r\n            } }, void 0) }, void 0)) });\n\nconst StackedAreaSeries = (_a) => {\r\n    var { type, symbols } = _a, rest = __rest(_a, [\"type\", \"symbols\"]);\r\n    return (jsx(AreaSeries, Object.assign({}, rest, { type: \"stacked\", symbols: symbols && (jsx(CloneElement, Object.assign({ element: symbols }, symbols.props, { point: jsx(CloneElement, Object.assign({ element: symbols.props.point }, symbols.props.point.props, { tooltip: null }), void 0) }), void 0)) }), void 0));\r\n};\r\nStackedAreaSeries.defaultProps = Object.assign(Object.assign({}, AreaSeries.defaultProps), { type: 'stacked' });\n\nvar css_248z$b = \".AreaChart-module_areaChart__1BikF {\\n  overflow: visible;\\n}\\n\";\nvar css$b = {\"areaChart\":\"AreaChart-module_areaChart__1BikF\"};\nstyleInject(css_248z$b);\n\nconst AreaChart = ({ xAxis, yAxis, id, data, width, height, margins, className, containerClassName, series, gridlines, brush, zoomPan, secondaryAxis }) => {\r\n    const zoom = zoomPan ? zoomPan.props : {};\r\n    const [zoomDomain, setZoomDomain] = useState(zoom.domain);\r\n    const [preventAnimation, setPreventAnimation] = useState(false);\r\n    const [isZoomed, setIsZoomed] = useState(!!zoom.domain);\r\n    // eslint-disable-next-line\r\n    const [zoomControlled] = useState(!zoom.hasOwnProperty('domain'));\r\n    const timeoutRef = useRef(null);\r\n    const seriesType = series.props.type;\r\n    const isMultiSeries = seriesType === 'stacked' ||\r\n        seriesType === 'stackedNormalized' ||\r\n        seriesType === 'grouped';\r\n    const animated = preventAnimation === true ? false : series.props.animated;\r\n    useEffect(() => {\r\n        if (zoomPan) {\r\n            const zoom = zoomPan.props;\r\n            if (!zoomControlled && zoom.domain !== zoomDomain) {\r\n                setZoomDomain(zoom.domain);\r\n                setIsZoomed(!!zoom.domain);\r\n            }\r\n        }\r\n    }, [zoomControlled, zoomDomain, zoomPan]);\r\n    const aggregatedData = useMemo(() => {\r\n        if (seriesType === 'stacked' || seriesType === 'stackedNormalized') {\r\n            return buildStackData(data, seriesType === 'stackedNormalized');\r\n        }\r\n        else if (seriesType === 'grouped') {\r\n            return buildNestedChartData(data, true);\r\n        }\r\n        else {\r\n            return buildShallowChartData(data);\r\n        }\r\n    }, [data, seriesType]);\r\n    const getScales = useCallback((chartWidth, chartHeight) => {\r\n        const xScale = getXScale({\r\n            width: chartWidth,\r\n            type: xAxis.props.type,\r\n            roundDomains: xAxis.props.roundDomains,\r\n            data: aggregatedData,\r\n            domain: zoomDomain || xAxis.props.domain,\r\n            isMultiSeries\r\n        });\r\n        const yScale = getYScale({\r\n            roundDomains: yAxis.props.roundDomains,\r\n            type: yAxis.props.type,\r\n            height: chartHeight,\r\n            data: aggregatedData,\r\n            domain: yAxis.props.domain,\r\n            isMultiSeries\r\n        });\r\n        return { xScale, yScale };\r\n    }, [\r\n        aggregatedData,\r\n        isMultiSeries,\r\n        xAxis.props.domain,\r\n        xAxis.props.roundDomains,\r\n        xAxis.props.type,\r\n        yAxis.props.domain,\r\n        yAxis.props.roundDomains,\r\n        yAxis.props.type,\r\n        zoomDomain\r\n    ]);\r\n    const onZoomPan = useCallback((event) => {\r\n        if (zoomControlled) {\r\n            setZoomDomain(event.domain);\r\n            setIsZoomed(event.isZoomed);\r\n            setPreventAnimation(true);\r\n            clearTimeout(timeoutRef.current);\r\n            timeoutRef.current = setTimeout(() => setPreventAnimation(false));\r\n        }\r\n    }, [zoomControlled]);\r\n    const renderChart = useCallback(({ chartHeight, chartWidth, id, updateAxes, chartSized }) => {\r\n        const { xScale, yScale } = getScales(chartWidth, chartHeight);\r\n        const disableBrush = aggregatedData.length <= 1;\r\n        return (jsxs(Fragment, { children: [chartSized && gridlines && (jsx(CloneElement, { element: gridlines, height: chartHeight, width: chartWidth, yScale: yScale, xScale: xScale, yAxis: yAxis.props, xAxis: xAxis.props }, void 0)),\r\n                jsx(CloneElement, { element: xAxis, height: chartHeight, width: chartWidth, scale: xScale, onDimensionsChange: (event) => updateAxes('horizontal', event) }, void 0),\r\n                jsx(CloneElement, { element: yAxis, height: chartHeight, width: chartWidth, scale: yScale, onDimensionsChange: (event) => updateAxes('vertical', event) }, void 0),\r\n                secondaryAxis &&\r\n                    secondaryAxis.map((axis, i) => (jsx(CloneElement, { element: axis, height: chartHeight, width: chartWidth, onDimensionsChange: (event) => updateAxes('horizontal', event) }, i))),\r\n                chartSized && (jsx(CloneElement, Object.assign({ disabled: disableBrush, element: brush, height: chartHeight, width: chartWidth, scale: xScale }, { children: jsx(CloneElement, Object.assign({ element: zoomPan, onZoomPan: onZoomPan, height: chartHeight, width: chartWidth, axisType: xAxis.props.type, roundDomains: xAxis.props.roundDomains, data: aggregatedData, domain: zoomDomain }, { children: jsx(CloneElement, { element: series, id: `area-series-${id}`, data: aggregatedData, height: chartHeight, width: chartWidth, yScale: yScale, xScale: xScale, isZoomed: isZoomed, animated: animated }, void 0) }), void 0) }), void 0))] }, void 0));\r\n    }, [\r\n        aggregatedData,\r\n        animated,\r\n        brush,\r\n        getScales,\r\n        gridlines,\r\n        isZoomed,\r\n        onZoomPan,\r\n        secondaryAxis,\r\n        series,\r\n        xAxis,\r\n        yAxis,\r\n        zoomDomain,\r\n        zoomPan\r\n    ]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, margins: margins, containerClassName: containerClassName, xAxisVisible: isAxisVisible(xAxis.props), yAxisVisible: isAxisVisible(yAxis.props), className: classNames(css$b.areaChart, className, series.type) }, { children: renderChart }), void 0));\r\n};\r\nAreaChart.defaultProps = {\r\n    data: [],\r\n    xAxis: jsx(LinearXAxis, { type: \"time\" }, void 0),\r\n    yAxis: jsx(LinearYAxis, { type: \"value\" }, void 0),\r\n    series: jsx(AreaSeries, {}, void 0),\r\n    gridlines: jsx(GridlineSeries, {}, void 0),\r\n    brush: null,\r\n    zoomPan: null\r\n};\n\nconst StackedAreaChart = (props) => (jsx(AreaChart, Object.assign({}, props), void 0));\r\nStackedAreaChart.defaultProps = {\r\n    series: jsx(StackedAreaSeries, {}, void 0)\r\n};\n\nconst StackedNormalizedAreaChart = (props) => jsx(AreaChart, Object.assign({}, props), void 0);\r\nStackedNormalizedAreaChart.defaultProps = {\r\n    series: jsx(StackedNormalizedAreaSeries, {}, void 0),\r\n    yAxis: (jsx(LinearYAxis, { type: \"value\", tickSeries: jsx(LinearYAxisTickSeries, { label: jsx(LinearYAxisTickLabel, { rotation: false, format: (data) => `${data * 100}%` }, void 0) }, void 0) }, void 0))\r\n};\n\nconst Bar = ({ activeBrightness, id, gradient, data, barIndex, color, yScale, barCount, xScale, groupIndex, minHeight, rangeLines, animated, active, type, tooltip, layout, mask, label, cursor, rx, ry, isCategorical, className, style, width, padding, guide, xScale1, onMouseEnter, onClick, onMouseMove, onMouseLeave }) => {\r\n    const isVertical = useMemo(() => layout === 'vertical', [layout]);\r\n    const rect = useRef(null);\r\n    const [internalActive, setInternalActive] = useState(active);\r\n    const calculateLinearScalePadding = useCallback((scale, offset, size) => {\r\n        // This function calculates the padding on a linear scale used by the marimekko chart.\r\n        const totalSize = scale.range()[1];\r\n        const sizeMinusPadding = totalSize - padding * (barCount - 1);\r\n        const multiplier = sizeMinusPadding / totalSize;\r\n        offset = offset * multiplier + groupIndex * padding;\r\n        size = size * multiplier;\r\n        return { size, offset };\r\n    }, [barCount, groupIndex, padding]);\r\n    const getExit = useCallback(({ x, y, width, height }) => {\r\n        let newX = isVertical ? x : Math.min(...xScale.range());\r\n        let newY = isVertical ? Math.max(...yScale.range()) : y;\r\n        const newHeight = isVertical ? 0 : height;\r\n        const newWidth = isVertical ? width : 0;\r\n        if (type === 'stackedDiverging') {\r\n            if (isVertical) {\r\n                newY = newY / 2;\r\n            }\r\n            else {\r\n                newX = newX / 2;\r\n            }\r\n        }\r\n        return {\r\n            x: newX,\r\n            y: newY,\r\n            height: newHeight,\r\n            width: newWidth\r\n        };\r\n    }, [isVertical, type, xScale, yScale]);\r\n    const getKeyCoords = useCallback((v, v0, v1, scale, sizeOverride, isCategorical, padding) => {\r\n        let offset;\r\n        let size;\r\n        if (isCategorical) {\r\n            if (scale.bandwidth) {\r\n                offset = scale(v);\r\n                size = scale.bandwidth();\r\n                if (sizeOverride) {\r\n                    if (offset) {\r\n                        offset = offset + size / 2 - sizeOverride / 2;\r\n                    }\r\n                    else {\r\n                        // Stacked bar charts don't have offsets...\r\n                        offset = size / 2 - sizeOverride / 2;\r\n                    }\r\n                    size = sizeOverride;\r\n                }\r\n            }\r\n            else {\r\n                if (sizeOverride) {\r\n                    throw new Error('Not a valid option for this scale type');\r\n                }\r\n                offset = scale(v0);\r\n                size = scale(v1 - v0);\r\n                if (padding) {\r\n                    const calc = calculateLinearScalePadding(scale, offset, size);\r\n                    offset = calc.offset;\r\n                    size = calc.size;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (sizeOverride) {\r\n                throw new Error('Not a valid option for this scale type');\r\n            }\r\n            const c0 = scale(v0);\r\n            const c1 = scale(v1);\r\n            const delta = c1 - c0;\r\n            offset = c0;\r\n            size = Math.max(delta - 1, 0);\r\n        }\r\n        return {\r\n            offset: isNaN(offset) ? 0 : offset,\r\n            size: isNaN(size) ? 0 : size\r\n        };\r\n    }, [calculateLinearScalePadding]);\r\n    const getValueCoords = useCallback((v0, v1, scale) => {\r\n        const c0 = scale(v0);\r\n        const c1 = scale(v1);\r\n        const size = Math.abs(c0 - c1);\r\n        const minSize = Math.max(minHeight || 0, size);\r\n        const offset = Math.min(c0, c1);\r\n        return {\r\n            offset: isNaN(offset) ? 0 : offset,\r\n            size: isNaN(minSize) ? 0 : minSize\r\n        };\r\n    }, [minHeight]);\r\n    const getCoords = useCallback((data) => {\r\n        let newYScale = yScale;\r\n        let newXScale = xScale;\r\n        if (xScale1) {\r\n            if (isVertical) {\r\n                newXScale = xScale1;\r\n            }\r\n            else {\r\n                newYScale = xScale1;\r\n            }\r\n        }\r\n        if (isVertical) {\r\n            const xCoords = getKeyCoords(data.x, data.x0, data.x1, newXScale, width, isCategorical, padding);\r\n            const yCoords = getValueCoords(data.y0, data.y1, newYScale);\r\n            return {\r\n                x: xCoords.offset,\r\n                width: xCoords.size,\r\n                y: yCoords.offset,\r\n                height: yCoords.size\r\n            };\r\n        }\r\n        else {\r\n            const yCoords = getKeyCoords(data.y, data.y0, data.y1, newYScale, width, isCategorical, padding);\r\n            const xCoords = getValueCoords(data.x0, data.x1, newXScale);\r\n            return {\r\n                x: xCoords.offset,\r\n                width: xCoords.size,\r\n                y: yCoords.offset,\r\n                height: yCoords.size\r\n            };\r\n        }\r\n    }, [\r\n        getKeyCoords,\r\n        getValueCoords,\r\n        isCategorical,\r\n        isVertical,\r\n        padding,\r\n        width,\r\n        xScale,\r\n        xScale1,\r\n        yScale\r\n    ]);\r\n    const onMouseEnterInternal = useCallback((event) => {\r\n        // Only tooltip bars rely on this...\r\n        if (tooltip) {\r\n            setInternalActive(true);\r\n        }\r\n        onMouseEnter({\r\n            value: data,\r\n            nativeEvent: event\r\n        });\r\n    }, [data, onMouseEnter, tooltip]);\r\n    const onMouseLeaveInternal = useCallback((event) => {\r\n        // Only tooltip bars rely on this...\r\n        if (tooltip) {\r\n            setInternalActive(false);\r\n        }\r\n        onMouseLeave({\r\n            value: data,\r\n            nativeEvent: event\r\n        });\r\n    }, [data, onMouseLeave, tooltip]);\r\n    const onMouseClick = useCallback((event) => {\r\n        onClick({\r\n            value: data,\r\n            nativeEvent: event\r\n        });\r\n    }, [data, onClick]);\r\n    const getFill = useCallback((color) => {\r\n        if (mask) {\r\n            return `url(#mask-pattern-${id})`;\r\n        }\r\n        else {\r\n            if (gradient) {\r\n                return `url(#gradient-${id})`;\r\n            }\r\n            return color;\r\n        }\r\n    }, [gradient, id, mask]);\r\n    const tooltipData = useMemo(() => {\r\n        const xAttr = isCategorical ? 'x' : 'x0';\r\n        let x = data[xAttr];\r\n        // Stacked diverging negative numbers\r\n        // in horizontal layouts need to pull x0\r\n        if (data.x0 < 0) {\r\n            x = data.x0;\r\n        }\r\n        const matches = isVertical\r\n            ? data.key && data.key !== x\r\n            : data.key && data.key !== data.y;\r\n        if (matches) {\r\n            x = `${data.key} ∙ ${x}`;\r\n        }\r\n        return {\r\n            y: data.y,\r\n            x\r\n        };\r\n    }, [data, isCategorical, isVertical]);\r\n    const getTransition = useCallback((index) => {\r\n        if (animated) {\r\n            let delay = 0;\r\n            if (layout === 'vertical') {\r\n                delay = (index / barCount) * 0.5;\r\n            }\r\n            else {\r\n                delay = ((barCount - index) / barCount) * 0.5;\r\n            }\r\n            return Object.assign(Object.assign({}, DEFAULT_TRANSITION), { delay: delay });\r\n        }\r\n        else {\r\n            return {\r\n                type: false,\r\n                delay: 0\r\n            };\r\n        }\r\n    }, [animated, barCount, layout]);\r\n    const renderBar = useCallback((currentColorShade, coords, index) => {\r\n        const maskPath = mask ? `url(#mask-${id})` : '';\r\n        const fill = getFill(currentColorShade);\r\n        const initialExit = getExit(coords);\r\n        const extras = constructFunctionProps({ className, style }, data);\r\n        const transition = getTransition(index);\r\n        // UGH: https://github.com/framer/motion/issues/384\r\n        const initial = Object.assign(Object.assign({}, initialExit), { attrX: initialExit.x, attrY: initialExit.y, fill });\r\n        delete initial.x;\r\n        delete initial.y;\r\n        const animate = Object.assign(Object.assign({}, coords), { attrX: coords.x, attrY: coords.y, fill });\r\n        delete animate.x;\r\n        delete animate.y;\r\n        return (jsx(\"g\", Object.assign({ ref: rect }, { children: jsx(motion.rect, { className: classNames(extras.className), style: Object.assign(Object.assign({}, extras.style), { cursor }), mask: maskPath, rx: rx, ry: ry, initial: initial, animate: animate, exit: initial, transition: transition, onMouseEnter: onMouseEnterInternal, onMouseLeave: onMouseLeaveInternal, onClick: onMouseClick, onMouseMove: onMouseMove }, void 0) }), void 0));\r\n    }, [\r\n        className,\r\n        cursor,\r\n        data,\r\n        getExit,\r\n        getFill,\r\n        getTransition,\r\n        id,\r\n        mask,\r\n        onMouseClick,\r\n        onMouseEnterInternal,\r\n        onMouseLeaveInternal,\r\n        onMouseMove,\r\n        rx,\r\n        ry,\r\n        style\r\n    ]);\r\n    const renderGuideBar = useCallback(() => {\r\n        if (!guide) {\r\n            return null;\r\n        }\r\n        // If we are stacked, only render the first bar\r\n        if (type === 'stacked' && barIndex !== 0) {\r\n            return null;\r\n        }\r\n        // No reason to show them since they are always 100% tall\r\n        if (type === 'stackedNormalized' || type === 'marimekko') {\r\n            console.error('Guide bars are not supported for these chart types');\r\n            return null;\r\n        }\r\n        const valueScale = isVertical ? yScale : xScale;\r\n        const [start, end] = valueScale.domain();\r\n        const attr = isVertical ? 'y' : 'x';\r\n        // For stacked diverging we need to flip the points for positive / negative bars\r\n        const attrStart = type === 'stackedDiverging' ? '0' : '1';\r\n        const endPoint = type === 'stackedDiverging' ? start : end;\r\n        const startPoint = type === 'stackedDiverging' && data[attr] > 0 ? end : endPoint;\r\n        const coords = getCoords(Object.assign(Object.assign({}, data), { [attr]: endPoint, [`${attr}${attrStart}`]: startPoint }));\r\n        return (jsx(CloneElement, Object.assign({ element: guide }, coords, { active: active }), void 0));\r\n    }, [\r\n        active,\r\n        barIndex,\r\n        data,\r\n        getCoords,\r\n        guide,\r\n        isVertical,\r\n        type,\r\n        xScale,\r\n        yScale\r\n    ]);\r\n    const isActive = tooltip ? internalActive : active;\r\n    const stroke = color(data, barIndex);\r\n    const coords = getCoords(data);\r\n    const currentColorShade = active\r\n        ? chroma(stroke).brighten(activeBrightness).hex()\r\n        : stroke;\r\n    const rangeLineColor = (rangeLines && rangeLines.props.color) || stroke;\r\n    const rangeLineColorShade = active\r\n        ? chroma(rangeLineColor).brighten(activeBrightness)\r\n        : rangeLineColor;\r\n    const index = groupIndex !== undefined ? groupIndex : barIndex;\r\n    const scale = isVertical ? yScale : xScale;\r\n    const barLabel = isVertical ? tooltipData.y : tooltipData.x;\r\n    const placement = layout === 'vertical' ? 'top' : 'right';\r\n    return (jsxs(Fragment, { children: [renderGuideBar(), renderBar(currentColorShade, coords, index), rangeLines && (jsx(CloneElement, Object.assign({ element: rangeLines }, coords, { index: index, data: data, scale: scale, color: rangeLineColorShade, barCount: barCount, animated: animated, layout: layout, type: type }), void 0)),\r\n            mask && (jsxs(Fragment, { children: [jsx(Mask, { id: `mask-${id}`, fill: `url(#gradient-${id})` }, void 0),\r\n                    jsx(CloneElement, { element: mask, id: `mask-pattern-${id}`, fill: stroke }, void 0)] }, void 0)),\r\n            gradient && (jsx(CloneElement, { element: gradient, id: `gradient-${id}`, direction: layout, color: currentColorShade }, void 0)),\r\n            label && (jsx(CloneElement, Object.assign({ element: label }, coords, { text: formatValue(barLabel), index: index, data: data, scale: scale, fill: label.props.fill || currentColorShade, barCount: barCount, animated: animated, layout: layout, type: type }), void 0)),\r\n            tooltip && (jsx(CloneElement, { element: tooltip, visible: !!isActive, reference: rect, color: color, value: tooltipData, placement: tooltip.props.placement || placement, data: data }, void 0))] }, void 0));\r\n};\r\nBar.defaultProps = {\r\n    activeBrightness: 0.5,\r\n    rx: 0,\r\n    ry: 0,\r\n    cursor: 'auto',\r\n    rangeLines: null,\r\n    label: null,\r\n    tooltip: null,\r\n    layout: 'vertical',\r\n    guide: null,\r\n    gradient: jsx(Gradient, {}, void 0),\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined,\r\n    onMouseMove: () => undefined\r\n};\n\nconst BarSeries = ({ data, tooltip, xScale, yScale, height, width, colorScheme, xScale1, bar, padding, animated, isCategorical, layout, type, id }) => {\r\n    const ref = useRef(null);\r\n    const [activeValues, setActiveValues] = useState(null);\r\n    const isVertical = useMemo(() => layout === 'vertical', [layout]);\r\n    const isMultiSeries = useMemo(() => {\r\n        return (type === 'grouped' ||\r\n            type === 'stacked' ||\r\n            type === 'marimekko' ||\r\n            type === 'stackedNormalized' ||\r\n            type === 'stackedDiverging');\r\n    }, [type]);\r\n    const getTransform = useCallback((data) => {\r\n        let xPos = 0;\r\n        let yPos = 0;\r\n        if (type !== 'marimekko') {\r\n            if (layout === 'vertical') {\r\n                const val = xScale(data.key);\r\n                xPos = val;\r\n            }\r\n            else {\r\n                const val = yScale(data.key);\r\n                yPos = val;\r\n            }\r\n        }\r\n        return `translate(${xPos}, ${yPos})`;\r\n    }, [layout, type, xScale, yScale]);\r\n    const getBarColor = useCallback((point, index) => {\r\n        let key = 'key';\r\n        if (isMultiSeries) {\r\n            if (layout === 'vertical') {\r\n                key = 'x';\r\n            }\r\n            else {\r\n                key = 'y';\r\n            }\r\n        }\r\n        // histograms...\r\n        if (point[key] === undefined) {\r\n            key = 'x0';\r\n        }\r\n        return getColor({\r\n            colorScheme,\r\n            point,\r\n            index,\r\n            data,\r\n            isMultiSeries,\r\n            attribute: key\r\n        });\r\n    }, [colorScheme, data, isMultiSeries, layout]);\r\n    const onMouseMove = useCallback((event) => {\r\n        var _a;\r\n        // Manuallly call mouse move so we don't have to kill bar pointer events\r\n        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.onMouseMove(event);\r\n    }, []);\r\n    const onValueEnter = useCallback((event) => {\r\n        setActiveValues(event.value);\r\n    }, []);\r\n    const onValueLeave = useCallback(() => {\r\n        setActiveValues(null);\r\n    }, []);\r\n    const renderBar = useCallback((data, barIndex, barCount, groupIndex) => {\r\n        const active = activeValues && activeValues.x === data.key;\r\n        let newYScale = yScale;\r\n        let newXScale = xScale;\r\n        if (xScale1) {\r\n            if (isVertical) {\r\n                newXScale = xScale1;\r\n            }\r\n            else {\r\n                newYScale = xScale1;\r\n            }\r\n        }\r\n        // Histograms dont have keys\r\n        let key = barIndex.toString();\r\n        if (data.key) {\r\n            key = `${data.key.toString()}-${groupIndex}-${data.x}`;\r\n        }\r\n        let barElements = Array.isArray(bar) ? bar[barIndex] : bar;\r\n        if (!bar) {\r\n            barElements = jsx(Bar, {}, void 0);\r\n        }\r\n        return (jsx(Fragment, { children: jsx(CloneElement, { element: barElements, id: `${id}-bar-${groupIndex}-${barIndex}`, animated: animated, active: active, xScale: newXScale, xScale1: xScale1, yScale: newYScale, padding: padding, barCount: barCount, groupIndex: groupIndex, barIndex: barIndex, data: data, isCategorical: isCategorical, color: getBarColor, layout: layout, type: type, onMouseMove: onMouseMove }, void 0) }, key));\r\n    }, [\r\n        activeValues,\r\n        animated,\r\n        bar,\r\n        getBarColor,\r\n        id,\r\n        isCategorical,\r\n        isVertical,\r\n        layout,\r\n        onMouseMove,\r\n        padding,\r\n        type,\r\n        xScale,\r\n        xScale1,\r\n        yScale\r\n    ]);\r\n    const renderBarGroup = useCallback((data, barCount, groupIndex) => {\r\n        return (jsx(Fragment, { children: data.map((barData, barIndex) => renderBar(barData, barIndex, barCount, groupIndex)) }, void 0));\r\n    }, [renderBar]);\r\n    return (jsxs(CloneElement, Object.assign({ element: tooltip, childRef: ref, xScale: xScale, yScale: yScale, data: data, height: height, width: width, inverse: false, isHorizontal: layout === 'horizontal', color: getBarColor, onValueEnter: onValueEnter, onValueLeave: onValueLeave }, { children: [isMultiSeries &&\r\n                data.map((groupData, index) => (jsx(\"g\", Object.assign({ transform: getTransform(groupData) }, { children: renderBarGroup(groupData.data, data.length, index) }), `bar-group-${index}`))),\r\n            !isMultiSeries &&\r\n                renderBarGroup(data, data.length)] }), void 0));\r\n};\r\nBarSeries.defaultProps = {\r\n    type: 'standard',\r\n    padding: 0.1,\r\n    groupPadding: 16,\r\n    animated: true,\r\n    tooltip: (jsx(TooltipArea, { tooltip: jsx(ChartTooltip, { followCursor: true, modifiers: {\r\n                offset: '5px, 5px'\r\n            } }, void 0) }, void 0)),\r\n    colorScheme: 'cybertron',\r\n    bar: jsx(Bar, {}, void 0),\r\n    layout: 'vertical'\r\n};\n\nconst RangeLines = ({ layout, color, x, y, scale, type, height, position, strokeWidth, width, animated, index, barCount, data }) => {\r\n    const isVertical = useMemo(() => layout === 'vertical', [layout]);\r\n    const rangeLineHeight = useMemo(() => Math.min(strokeWidth, isVertical ? height : width), [height, isVertical, strokeWidth, width]);\r\n    const [newWidth, newHeight] = useMemo(() => [\r\n        isVertical ? width : rangeLineHeight,\r\n        isVertical ? rangeLineHeight : height\r\n    ], [height, isVertical, rangeLineHeight, width]);\r\n    const enterProps = useMemo(() => {\r\n        let newY = y;\r\n        let newX = x;\r\n        // If its diverging and the value is negative, we\r\n        // need to reverse the type...\r\n        const isTop = position === 'top';\r\n        const direction = isVertical\r\n            ? data.y < 0 && isTop\r\n                ? 'bottom'\r\n                : position\r\n            : data.x0 < 0 && isTop\r\n                ? 'bottom'\r\n                : position;\r\n        if (isVertical) {\r\n            if (direction === 'top') {\r\n                newY = y;\r\n            }\r\n            else {\r\n                newY = y + height - rangeLineHeight;\r\n            }\r\n        }\r\n        else {\r\n            if (direction === 'top') {\r\n                newX = x + width - rangeLineHeight;\r\n            }\r\n            else {\r\n                newX = x;\r\n            }\r\n        }\r\n        return {\r\n            x: newX,\r\n            y: newY,\r\n            opacity: 1\r\n        };\r\n    }, [\r\n        data.x0,\r\n        data.y,\r\n        height,\r\n        isVertical,\r\n        position,\r\n        rangeLineHeight,\r\n        width,\r\n        x,\r\n        y\r\n    ]);\r\n    const exitProps = useMemo(() => {\r\n        let newY = y;\r\n        let newX = x;\r\n        if (isVertical) {\r\n            const maxY = Math.max(...scale.range());\r\n            if (position === 'top') {\r\n                newY = maxY;\r\n            }\r\n            else {\r\n                newY = maxY + height - rangeLineHeight;\r\n            }\r\n        }\r\n        else {\r\n            const minX = Math.min(...scale.range());\r\n            if (position === 'top') {\r\n                newX = minX;\r\n            }\r\n            else {\r\n                newX = minX + width - rangeLineHeight;\r\n            }\r\n        }\r\n        if (type === 'stackedDiverging') {\r\n            if (isVertical) {\r\n                newY = newY / 2;\r\n            }\r\n            else {\r\n                newX = newX / 2;\r\n            }\r\n        }\r\n        return {\r\n            y: newY,\r\n            x: newX,\r\n            opacity: 0\r\n        };\r\n    }, [height, isVertical, position, rangeLineHeight, scale, type, width, x, y]);\r\n    const delay = useMemo(() => {\r\n        let delay = 0;\r\n        if (animated) {\r\n            if (layout === 'vertical') {\r\n                return (index / barCount) * 0.5;\r\n            }\r\n            else {\r\n                return ((barCount - index) / barCount) * 0.5;\r\n            }\r\n        }\r\n        return delay;\r\n    }, [animated, barCount, index, layout]);\r\n    // UGH: https://github.com/framer/motion/issues/384\r\n    const initial = useMemo(() => {\r\n        const r = Object.assign(Object.assign({}, exitProps), { attrX: exitProps.x, attrY: exitProps.y });\r\n        delete r.x;\r\n        delete r.y;\r\n        return r;\r\n    }, [exitProps]);\r\n    const animate = useMemo(() => {\r\n        const r = Object.assign(Object.assign({}, enterProps), { attrX: enterProps.x, attrY: enterProps.y });\r\n        delete r.x;\r\n        delete r.y;\r\n        return r;\r\n    }, [enterProps]);\r\n    return (jsx(motion.rect, { pointerEvents: \"none\", fill: color, width: newWidth, height: newHeight, initial: initial, animate: animate, exit: initial, transition: Object.assign(Object.assign({}, DEFAULT_TRANSITION), { delay }) }, void 0));\r\n};\r\nRangeLines.defaultProps = {\r\n    position: 'top',\r\n    strokeWidth: 1,\r\n    layout: 'vertical'\r\n};\n\nconst StackedBarSeries = (props) => (jsx(BarSeries, Object.assign({ type: \"stackedNormalized\" }, props), void 0));\r\nStackedBarSeries.defaultProps = Object.assign(Object.assign({}, BarSeries.defaultProps), { type: 'stacked', bar: (jsx(Bar, { gradient: jsx(Gradient, { stops: [\r\n                jsx(GradientStop, { offset: \"5%\", stopOpacity: 0.1 }, \"start\"),\r\n                jsx(GradientStop, { offset: \"90%\", stopOpacity: 0.7 }, \"stop\")\r\n            ] }, void 0), rangeLines: jsx(RangeLines, { position: \"top\", strokeWidth: 3 }, void 0) }, void 0)) });\n\nconst StackedNormalizedBarSeries = (props) => jsx(BarSeries, Object.assign({ type: \"stackedNormalized\" }, props), void 0);\r\nStackedNormalizedBarSeries.defaultProps = Object.assign(Object.assign({}, BarSeries.defaultProps), { type: 'stackedNormalized', tooltip: (jsx(TooltipArea, { tooltip: jsx(ChartTooltip, { followCursor: true, modifiers: {\r\n                offset: '5px, 5px'\r\n            }, content: (point, color) => {\r\n                point.data = point.data.map((d) => {\r\n                    // Handle horz case\r\n                    const start = isNaN(d.y0) ? d.x0 : d.y0;\r\n                    const end = isNaN(d.y1) ? d.x1 : d.y1;\r\n                    return Object.assign(Object.assign({}, d), { value: `${formatValue(Math.floor((end - start) * 100))}%` });\r\n                });\r\n                return jsx(TooltipTemplate, { value: point, color: color }, void 0);\r\n            } }, void 0) }, void 0)), bar: (jsx(Bar, { gradient: jsx(Gradient, { stops: [\r\n                jsx(GradientStop, { offset: \"5%\", stopOpacity: 0.1 }, \"start\"),\r\n                jsx(GradientStop, { offset: \"90%\", stopOpacity: 0.7 }, \"stop\")\r\n            ] }, void 0), rangeLines: jsx(RangeLines, { position: \"top\", strokeWidth: 3 }, void 0) }, void 0)) });\n\nconst MarimekkoBarSeries = (props) => (jsx(BarSeries, Object.assign({ type: \"marimekko\" }, props), void 0));\r\nMarimekkoBarSeries.defaultProps = Object.assign(Object.assign({}, BarSeries.defaultProps), { type: 'marimekko', padding: 10, tooltip: (jsx(TooltipArea, { tooltip: jsx(ChartTooltip, { followCursor: true, modifiers: {\r\n                offset: '5px, 5px'\r\n            }, content: (point, color) => {\r\n                const data = Object.assign(Object.assign({}, point), { data: point.data.map((d) => (Object.assign(Object.assign({}, d), { value: `${formatValue(d.value)} ∙ ${formatValue(Math.floor((d.y1 - d.y0) * 100))}%` }))) });\r\n                return jsx(TooltipTemplate, { value: data, color: color }, void 0);\r\n            } }, void 0) }, void 0)), bar: (jsx(Bar, { padding: 10, gradient: jsx(Gradient, { stops: [\r\n                jsx(GradientStop, { offset: \"5%\", stopOpacity: 0.1 }, \"start\"),\r\n                jsx(GradientStop, { offset: \"90%\", stopOpacity: 0.7 }, \"stop\")\r\n            ] }, void 0), rangeLines: jsx(RangeLines, { position: \"top\", strokeWidth: 3 }, void 0) }, void 0)) });\n\nconst BarLabel = ({ fontSize, fontFamily, fill, layout, className, text, x, y, height, position, width, data, padding, scale, type, animated, index, barCount }) => {\r\n    const isVertical = useMemo(() => layout === 'vertical', [layout]);\r\n    const textAnchor = isVertical ? 'middle' : 'start';\r\n    const enterProps = useMemo(() => {\r\n        let newY = y;\r\n        let newX = x;\r\n        // If its diverging and the value is negative, we\r\n        // need to reverse the type...\r\n        const isTop = position === 'top';\r\n        const direction = isVertical\r\n            ? data.y < 0 && isTop\r\n                ? 'bottom'\r\n                : position\r\n            : data.x0 < 0 && isTop\r\n                ? 'bottom'\r\n                : position;\r\n        if (isVertical) {\r\n            if (direction === 'top') {\r\n                newY = y - padding;\r\n            }\r\n            else if (direction === 'center') {\r\n                newY = y + height / 2;\r\n            }\r\n            else if (direction === 'bottom') {\r\n                newY = y + height - padding;\r\n            }\r\n            newX = newX + width / 2;\r\n        }\r\n        else {\r\n            if (direction === 'top') {\r\n                newX = x + width + padding;\r\n            }\r\n            else if (direction === 'center') {\r\n                newX = x + width / 2;\r\n            }\r\n            else if (direction === 'bottom') {\r\n                newX = x + padding;\r\n            }\r\n            newY = newY + height / 2;\r\n        }\r\n        return {\r\n            translateX: newX,\r\n            translateY: newY,\r\n            opacity: 1\r\n        };\r\n    }, [data.x0, data.y, height, isVertical, padding, position, width, x, y]);\r\n    const exitProps = useMemo(() => {\r\n        let newY = y;\r\n        let newX = x;\r\n        if (isVertical) {\r\n            const maxY = Math.max(...scale.range());\r\n            if (position === 'top') {\r\n                newY = maxY;\r\n            }\r\n            else {\r\n                newY = maxY + height + padding;\r\n            }\r\n            newX = newX + width / 2;\r\n        }\r\n        else {\r\n            const minX = Math.min(...scale.range());\r\n            if (position === 'top') {\r\n                newX = minX;\r\n            }\r\n            else {\r\n                newX = minX + width + padding;\r\n            }\r\n            newY = newY + height / 2;\r\n        }\r\n        if (type === 'stackedDiverging') {\r\n            if (isVertical) {\r\n                newY = newY / 2;\r\n            }\r\n            else {\r\n                newX = newX / 2;\r\n            }\r\n        }\r\n        return {\r\n            translateY: newY,\r\n            translateX: newX,\r\n            opacity: 0\r\n        };\r\n    }, [height, isVertical, padding, position, scale, type, width, x, y]);\r\n    const delay = useMemo(() => {\r\n        let delay = 0;\r\n        if (animated) {\r\n            if (layout === 'vertical') {\r\n                return (index / barCount) * 0.5;\r\n            }\r\n            else {\r\n                return ((barCount - index) / barCount) * 0.5;\r\n            }\r\n        }\r\n        return delay;\r\n    }, [animated, barCount, index, layout]);\r\n    return (jsx(motion.g, Object.assign({ initial: exitProps, animate: enterProps, exit: exitProps, transition: Object.assign(Object.assign({}, DEFAULT_TRANSITION), { delay }), fontSize: fontSize, fontFamily: fontFamily }, { children: jsx(\"text\", Object.assign({ fill: fill, className: className, textAnchor: textAnchor }, { children: text }), void 0) }), void 0));\r\n};\r\nBarLabel.defaultProps = {\r\n    position: 'top',\r\n    layout: 'vertical',\r\n    fontSize: 13,\r\n    padding: 5,\r\n    fontFamily: 'sans-serif',\r\n    fill: '#000'\r\n};\n\nconst HistogramBarSeries = (_a) => {\r\n    var rest = __rest(_a, [\"type\"]);\r\n    return jsx(BarSeries, Object.assign({}, rest), void 0);\r\n};\r\nHistogramBarSeries.defaultProps = Object.assign(Object.assign({}, BarSeries.defaultProps), { colorScheme: schemes.cybertron[0], tooltip: (jsx(TooltipArea, { tooltip: jsx(ChartTooltip, { followCursor: true, modifiers: {\r\n                offset: '5px, 5px'\r\n            }, content: (point, color) => {\r\n                const data = Object.assign(Object.assign({}, point), { x: `${formatValue(point.x0)} - ${formatValue(point.x1)}`, value: point.y });\r\n                return jsx(TooltipTemplate, { value: data, color: color }, void 0);\r\n            } }, void 0) }, void 0)) });\n\nconst GuideBar = (_a) => {\r\n    var { active, opacity = 0.15 } = _a, rest = __rest(_a, [\"active\", \"opacity\"]);\r\n    const { x, y } = rest, other = __rest(rest, [\"x\", \"y\"]);\r\n    return (jsx(motion.rect, Object.assign({}, other, { pointerEvents: \"none\", initial: \"hidden\", animate: active ? 'visible' : 'hidden', variants: {\r\n            hidden: { opacity: 0, attrX: x, attrY: y },\r\n            visible: { opacity, attrX: x, attrY: y }\r\n        } }), void 0));\r\n};\r\nGuideBar.defaultProps = {\r\n    fill: '#eee',\r\n    opacity: 0.15\r\n};\n\nvar css_248z$a = \".BarChart-module_barChart__36biH {\\n  overflow: visible;\\n}\\n\\n  .BarChart-module_barChart__36biH.BarChart-module_stackedNormalized__3l5Vx .bar, .BarChart-module_barChart__36biH.BarChart-module_stacked__12DMR .bar, .BarChart-module_barChart__36biH.BarChart-module_marimekko__33Uhg .bar {\\n      stroke: var(--color-background);\\n      stroke-width: 0.2;\\n    }\\n\";\nvar css$a = {\"barChart\":\"BarChart-module_barChart__36biH\",\"stackedNormalized\":\"BarChart-module_stackedNormalized__3l5Vx\",\"stacked\":\"BarChart-module_stacked__12DMR\",\"marimekko\":\"BarChart-module_marimekko__33Uhg\"};\nstyleInject(css_248z$a);\n\nconst BarChart = ({ id, width, height, margins, className, data, xAxis, yAxis, series, brush, gridlines, secondaryAxis, containerClassName }) => {\r\n    const isVertical = useMemo(() => series.props.layout === 'vertical', [series]);\r\n    const keyAxis = useMemo(() => (isVertical ? xAxis : yAxis), [yAxis, xAxis, isVertical]);\r\n    const isDiverging = useMemo(() => series.props.type === 'stackedDiverging', [series.props.type]);\r\n    const getMarimekkoGroupScales = useCallback((aggregatedData, axis, width) => {\r\n        const keyScale = getMarimekkoScale(width, axis.props.roundDomains);\r\n        const groupScale = getMarimekkoGroupScale({\r\n            width,\r\n            padding: series.props.padding,\r\n            data: aggregatedData,\r\n            valueScale: keyScale\r\n        });\r\n        return {\r\n            keyScale,\r\n            groupScale\r\n        };\r\n    }, [series.props.padding]);\r\n    const getMultiGroupScales = useCallback((aggregatedData, height, width) => {\r\n        const { groupPadding, layout } = series.props;\r\n        const groupScale = getGroupScale({\r\n            dimension: isVertical ? width : height,\r\n            direction: layout,\r\n            padding: groupPadding,\r\n            data: aggregatedData\r\n        });\r\n        const keyScale = getInnerScale({\r\n            groupScale: groupScale,\r\n            padding: series.props.padding,\r\n            data: aggregatedData,\r\n            prop: isVertical ? 'x' : 'y'\r\n        });\r\n        return {\r\n            groupScale,\r\n            keyScale\r\n        };\r\n    }, [isVertical, series.props]);\r\n    const getKeyScale = useCallback((aggregatedData, axis, isMultiSeries, width) => {\r\n        return getXScale({\r\n            width,\r\n            type: axis.props.type,\r\n            roundDomains: axis.props.roundDomains,\r\n            data: aggregatedData,\r\n            padding: series.props.padding,\r\n            domain: axis.props.domain,\r\n            isMultiSeries,\r\n            isDiverging\r\n        });\r\n    }, [isDiverging, series]);\r\n    const getValueScale = useCallback((aggregatedData, axis, isMultiSeries, height) => {\r\n        return getYScale({\r\n            roundDomains: axis.props.roundDomains,\r\n            padding: series.props.padding,\r\n            type: axis.props.type,\r\n            height,\r\n            data: aggregatedData,\r\n            domain: axis.props.domain,\r\n            isMultiSeries,\r\n            isDiverging\r\n        });\r\n    }, [isDiverging, series]);\r\n    const getScalesAndData = useCallback((chartHeight, chartWidth) => {\r\n        const { type, layout } = series.props;\r\n        const isMarimekko = type === 'marimekko';\r\n        const isGrouped = type === 'grouped';\r\n        const isStacked = type === 'stacked' ||\r\n            type === 'stackedNormalized' ||\r\n            type === 'stackedDiverging';\r\n        const isMultiSeries = isGrouped || isStacked;\r\n        let aggregatedData;\r\n        if (isStacked) {\r\n            let distroType = 'default';\r\n            if (type === 'stackedNormalized') {\r\n                distroType = 'expand';\r\n            }\r\n            else if (type === 'stackedDiverging') {\r\n                distroType = 'diverging';\r\n            }\r\n            aggregatedData = buildBarStackData(data, distroType, layout);\r\n        }\r\n        else if (type === 'waterfall') {\r\n            aggregatedData = buildWaterfall(data, layout, series.props.binSize);\r\n        }\r\n        else if (isMarimekko) {\r\n            aggregatedData = buildMarimekkoData(data);\r\n        }\r\n        else if (isGrouped) {\r\n            aggregatedData = buildNestedChartData(data, false, layout);\r\n        }\r\n        else {\r\n            aggregatedData = buildShallowChartData(data, layout, series.props.binSize);\r\n        }\r\n        let yScale;\r\n        let xScale;\r\n        let xScale1;\r\n        if (isVertical) {\r\n            if (isGrouped) {\r\n                const { keyScale, groupScale } = getMultiGroupScales(aggregatedData, chartHeight, chartWidth);\r\n                xScale = groupScale;\r\n                xScale1 = keyScale;\r\n            }\r\n            else if (isMarimekko) {\r\n                const { keyScale, groupScale } = getMarimekkoGroupScales(aggregatedData, xAxis, chartWidth);\r\n                xScale = groupScale;\r\n                xScale1 = keyScale;\r\n            }\r\n            else {\r\n                xScale = getKeyScale(aggregatedData, xAxis, isMultiSeries, chartWidth);\r\n            }\r\n            yScale = getValueScale(aggregatedData, yAxis, isMultiSeries, chartHeight);\r\n        }\r\n        else {\r\n            if (isGrouped) {\r\n                const { keyScale, groupScale } = getMultiGroupScales(aggregatedData, chartHeight, chartWidth);\r\n                yScale = groupScale;\r\n                xScale1 = keyScale;\r\n                xScale = getKeyScale(aggregatedData, xAxis, isMultiSeries, chartWidth);\r\n            }\r\n            else if (isMarimekko) {\r\n                throw new Error('Marimekko is currently not supported for horizontal layouts');\r\n            }\r\n            else {\r\n                xScale = getKeyScale(aggregatedData, xAxis, isMultiSeries, chartWidth);\r\n                yScale = getValueScale(aggregatedData, yAxis, isMultiSeries, chartHeight);\r\n            }\r\n        }\r\n        return { xScale, xScale1, yScale, aggregatedData };\r\n    }, [\r\n        getKeyScale,\r\n        data,\r\n        getMarimekkoGroupScales,\r\n        getMultiGroupScales,\r\n        getValueScale,\r\n        isVertical,\r\n        series.props,\r\n        xAxis,\r\n        yAxis\r\n    ]);\r\n    const renderChart = useCallback((containerProps) => {\r\n        const { chartHeight, chartWidth, id, updateAxes, chartSized } = containerProps;\r\n        const { xScale, xScale1, yScale, aggregatedData } = getScalesAndData(chartHeight, chartWidth);\r\n        const isCategorical = keyAxis.props.type === 'category';\r\n        const disableBrush = aggregatedData.length <= 1;\r\n        return (jsxs(Fragment, { children: [chartSized && gridlines && (jsx(CloneElement, { element: gridlines, height: chartHeight, width: chartWidth, yScale: yScale, xScale: xScale, yAxis: yAxis.props, xAxis: xAxis.props }, void 0)),\r\n                jsx(CloneElement, { element: xAxis, height: chartHeight, width: chartWidth, scale: xScale, onDimensionsChange: (event) => updateAxes(isVertical ? 'horizontal' : 'vertical', event) }, void 0),\r\n                jsx(CloneElement, { element: yAxis, height: chartHeight, width: chartWidth, scale: yScale, onDimensionsChange: (event) => updateAxes(isVertical ? 'vertical' : 'horizontal', event) }, void 0),\r\n                secondaryAxis &&\r\n                    secondaryAxis.map((axis, i) => (jsx(CloneElement, { element: axis, height: chartHeight, width: chartWidth, onDimensionsChange: (event) => updateAxes('horizontal', event) }, i))),\r\n                chartSized && (jsx(CloneElement, Object.assign({ disabled: disableBrush, element: brush, height: chartHeight, width: chartWidth, scale: xScale }, { children: jsx(CloneElement, { element: series, id: `bar-series-${id}`, data: aggregatedData, height: chartHeight, width: chartWidth, isCategorical: isCategorical, xScale: xScale, xScale1: xScale1, yScale: yScale }, void 0) }), void 0))] }, void 0));\r\n    }, [\r\n        brush,\r\n        getScalesAndData,\r\n        gridlines,\r\n        isVertical,\r\n        keyAxis,\r\n        secondaryAxis,\r\n        series,\r\n        xAxis,\r\n        yAxis\r\n    ]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, margins: margins, containerClassName: containerClassName, xAxisVisible: isAxisVisible(xAxis.props), yAxisVisible: isAxisVisible(yAxis.props), className: classNames(css$a.barChart, className, css$a[series.props.type]) }, { children: renderChart }), void 0));\r\n};\r\nBarChart.defaultProps = {\r\n    data: [],\r\n    xAxis: (jsx(LinearXAxis, { type: \"category\", tickSeries: jsx(LinearXAxisTickSeries, { tickSize: 20 }, void 0) }, void 0)),\r\n    yAxis: jsx(LinearYAxis, { type: \"value\" }, void 0),\r\n    series: jsx(BarSeries, {}, void 0),\r\n    gridlines: jsx(GridlineSeries, {}, void 0),\r\n    brush: null\r\n};\n\nconst MarimekkoChart = (props) => (jsx(BarChart, Object.assign({}, props), void 0));\r\nMarimekkoChart.defaultProps = {\r\n    series: jsx(MarimekkoBarSeries, {}, void 0),\r\n    xAxis: (jsx(LinearXAxis, { type: \"category\", tickSeries: jsx(LinearXAxisTickSeries, { tickSize: 15 }, void 0) }, void 0)),\r\n    yAxis: (jsx(LinearYAxis, { type: \"value\", tickSeries: jsx(LinearYAxisTickSeries, { label: jsx(LinearYAxisTickLabel, { rotation: false, format: (data) => `${data * 100}%` }, void 0) }, void 0) }, void 0))\r\n};\n\nconst StackedBarChart = (props) => (jsx(BarChart, Object.assign({}, props), void 0));\r\nStackedBarChart.defaultProps = {\r\n    series: jsx(StackedBarSeries, {}, void 0)\r\n};\n\nconst StackedNormalizedBarChart = (props) => jsx(BarChart, Object.assign({}, props), void 0);\r\nStackedNormalizedBarChart.defaultProps = {\r\n    series: jsx(StackedNormalizedBarSeries, {}, void 0),\r\n    yAxis: (jsx(LinearYAxis, { type: \"value\", tickSeries: jsx(LinearYAxisTickSeries, { label: jsx(LinearYAxisTickLabel, { rotation: false, format: (data) => `${data * 100}%` }, void 0) }, void 0) }, void 0))\r\n};\n\nconst HistogramBarChart = (props) => jsx(BarChart, Object.assign({}, props), void 0);\r\nHistogramBarChart.defaultProps = {\r\n    series: jsx(HistogramBarSeries, {}, void 0)\r\n};\n\nconst LineSeries = (props) => (jsx(AreaSeries, Object.assign({}, props), void 0));\r\nLineSeries.defaultProps = Object.assign(Object.assign({}, AreaSeries.defaultProps), { area: null, line: jsx(Line, { strokeWidth: 3 }, void 0) });\n\nconst LineChart = (props) => (jsx(AreaChart, Object.assign({}, props), void 0));\r\nLineChart.defaultProps = Object.assign(Object.assign({}, AreaChart.defaultProps), { series: jsx(LineSeries, {}, void 0) });\n\nconst Map$1 = ({ id, width, height, margins, className, containerClassName, markers, data, fill, projection = 'mercator' }) => {\r\n    const getProjection = useCallback(({ chartWidth, chartHeight }) => {\r\n        if (projection === 'natural-earth') {\r\n            return geoNaturalEarth1()\r\n                .fitSize([chartWidth, chartHeight], data)\r\n                .center([0, 0]);\r\n        }\r\n        return geoMercator()\r\n            .fitSize([chartWidth, chartHeight], data)\r\n            .center([0, 35]);\r\n    }, [data, projection]);\r\n    const renderMarker = useCallback((marker, index, projection) => {\r\n        const position = projection(marker.props.coordinates);\r\n        if (!position) {\r\n            console.warn(`Position for ${marker.props.coordinates.toString()} not found.`);\r\n            return null;\r\n        }\r\n        return (jsx(CloneElement, { element: marker, cx: position[0], cy: position[1], index: index }, void 0));\r\n    }, []);\r\n    const renderCountry = useCallback((point, index, path) => {\r\n        // Exclude ATA\r\n        if (point.id === '010') {\r\n            return null;\r\n        }\r\n        return jsx(\"path\", { d: path(point), fill: fill }, `path-${index}`);\r\n    }, [fill]);\r\n    const renderChart = useCallback((containerProps) => {\r\n        if (!data) {\r\n            return null;\r\n        }\r\n        const geoProjection = getProjection(containerProps);\r\n        const path = geoPath().projection(geoProjection);\r\n        return (jsxs(motion.g, Object.assign({ initial: {\r\n                opacity: 0\r\n            }, animate: {\r\n                opacity: 1\r\n            } }, { children: [data.features.map((point, index) => renderCountry(point, index, path)), markers &&\r\n                    markers.map((marker, index) => (jsx(Fragment, { children: renderMarker(marker, index, geoProjection) }, `marker-${index}`)))] }), void 0));\r\n    }, [data, getProjection, markers, renderCountry, renderMarker]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, margins: margins, containerClassName: containerClassName, xAxisVisible: false, yAxisVisible: false, className: className }, { children: (props) => renderChart(props) }), void 0));\r\n};\r\nMap$1.defaultProps = {\r\n    fill: 'rgba(255, 255, 255, 0.3)'\r\n};\n\nvar css_248z$9 = \".MapMarker-module_marker__3uyJu {\\n  fill: var(--color-primary);\\n  cursor: pointer;\\n}\\n\";\nvar css$9 = {\"marker\":\"MapMarker-module_marker__3uyJu\"};\nstyleInject(css_248z$9);\n\n// Set padding modifier for the tooltips\r\nconst modifiers$1 = {\r\n    offset: {\r\n        offset: '0, 3px'\r\n    }\r\n};\r\nconst MapMarker = ({ size = 3, index, tooltip, cx, cy, onClick = () => undefined }) => {\r\n    const ref = useRef(null);\r\n    const [active, setActive] = useState(false);\r\n    return (jsxs(Fragment, { children: [jsx(motion.circle, { initial: {\r\n                    opacity: 0,\r\n                    scale: 0.02\r\n                }, animate: {\r\n                    opacity: 1,\r\n                    scale: 1\r\n                }, transition: {\r\n                    delay: index * 0.3\r\n                }, ref: ref, className: css$9.marker, cx: cx, cy: cy, r: size, onMouseEnter: () => setActive(true), onMouseLeave: () => setActive(false), onClick: onClick }, void 0),\r\n            tooltip && (jsx(Tooltip, { visible: active, reference: ref, modifiers: modifiers$1, content: tooltip }, void 0))] }, void 0));\r\n};\n\nconst useInterpolate$1 = ({ data, animated, arc }) => {\r\n    const prevEnter = useRef(null);\r\n    const exit = useMemo(() => {\r\n        const startAngle = data.startAngle;\r\n        const endAngle = animated ? startAngle : data.endAngle;\r\n        return Object.assign(Object.assign({}, data), { startAngle,\r\n            endAngle });\r\n    }, [data, animated]);\r\n    const transition = useMemo(() => animated\r\n        ? Object.assign({}, DEFAULT_TRANSITION) : {\r\n        delay: 0\r\n    }, [animated]);\r\n    // Cache the previous for transition use later\r\n    const previousEnter = prevEnter.current\r\n        ? Object.assign({}, prevEnter.current) : undefined;\r\n    prevEnter.current = Object.assign({}, data);\r\n    const d = useMotionValue('');\r\n    const prevPath = useMotionValue(exit);\r\n    const spring = useSpring(prevPath, Object.assign(Object.assign({}, DEFAULT_TRANSITION), { from: 0, to: 1 }));\r\n    useEffect(() => {\r\n        const from = previousEnter || prevPath.get();\r\n        const interpolator = interpolate$1(from, data);\r\n        const unsub = spring.onChange((v) => d.set(arc(interpolator(v))));\r\n        prevPath.set(data);\r\n        return unsub;\r\n    }, [arc, data]);\r\n    return {\r\n        d,\r\n        transition\r\n    };\r\n};\n\nconst PieArc = ({ color, data, arc, cursor, animated, disabled, onClick, onMouseEnter, onMouseLeave, tooltip }) => {\r\n    const arcRef = useRef(null);\r\n    const { transition, d } = useInterpolate$1({ animated, arc, data });\r\n    const [active, setActive] = useState(false);\r\n    const fill = useMemo(() => (active ? chroma(color).brighten(0.5) : color), [color, active]);\r\n    return (jsxs(\"g\", Object.assign({ ref: arcRef }, { children: [jsx(motion.path, { role: \"graphics-symbol\", transition: transition, d: d, style: { cursor }, fill: fill, onMouseEnter: (event) => {\r\n                    if (!disabled) {\r\n                        setActive(true);\r\n                        onMouseEnter({\r\n                            value: data.data,\r\n                            nativeEvent: event\r\n                        });\r\n                    }\r\n                }, onMouseLeave: (event) => {\r\n                    if (!disabled) {\r\n                        setActive(false);\r\n                        onMouseLeave({\r\n                            value: data.data,\r\n                            nativeEvent: event\r\n                        });\r\n                    }\r\n                }, onClick: (event) => {\r\n                    if (!disabled) {\r\n                        onClick({\r\n                            value: data.data,\r\n                            nativeEvent: event\r\n                        });\r\n                    }\r\n                } }, void 0),\r\n            tooltip && !tooltip.props.disabled && (jsx(CloneElement, { element: tooltip, visible: !!active, reference: arcRef, value: { y: data.data.data, x: data.data.key } }, void 0))] }), void 0));\r\n};\r\nPieArc.defaultProps = {\r\n    cursor: 'initial',\r\n    animated: true,\r\n    disabled: false,\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined,\r\n    tooltip: jsx(ChartTooltip, {}, void 0)\r\n};\n\n/**\r\n * Finds intermediate point between two points so that this three points\r\n * can be nicely connected by two lines. One of this lines must be horizontal\r\n */\r\nfunction findBreakPoint([startX, startY], [endX, endY]) {\r\n    let breakPoint = [0, 0];\r\n    // whether we should create breakpoint near pie or near label\r\n    const breakPointCondition = (endY - startY) * Math.sign(startY) >= 0;\r\n    if (breakPointCondition) {\r\n        // extend the line starting from startY till the endY\r\n        let scale = Math.abs(endY / startY) || 1;\r\n        const minScale = 1;\r\n        const maxScale = Math.abs(endX / startX) || 1;\r\n        scale = Math.max(Math.min(maxScale, scale), minScale);\r\n        breakPoint = [startX * scale, endY];\r\n    }\r\n    else {\r\n        // some arbitrary scale to ensure that break point will be placed\r\n        // at some horizontal distance from the end point\r\n        let scale = 0.85;\r\n        const minScale = Math.abs(startX / endX) || 1;\r\n        const maxScale = 1;\r\n        scale = Math.max(Math.min(maxScale, scale), minScale);\r\n        breakPoint = [endX * scale, startY];\r\n    }\r\n    return breakPoint;\r\n}\n\nconst getTextAnchor = ({ startAngle, endAngle }) => \r\n// we could also use the sign of position[0]\r\nstartAngle + (endAngle - startAngle) / 2 < Math.PI ? 'start' : 'end';\r\nconst PieArcLabel = ({ centroid, data, lineStroke, padding, fontSize, fontFill, format, fontFamily, position, outerRadius, width, height }) => {\r\n    const textAnchor = getTextAnchor(data);\r\n    const text = format\r\n        ? format(Object.assign(Object.assign({}, data.data), { textAnchor }))\r\n        : formatValue(data.data.key);\r\n    const [posX, posY] = position;\r\n    // we want to have at least some pixels of straight line (margin)\r\n    // from pie section till we start to change line direction\r\n    const minRadius = outerRadius + 4;\r\n    const startPoint = centroid(data);\r\n    const innerPoint = arc()\r\n        .innerRadius(minRadius)\r\n        .outerRadius(minRadius)\r\n        .centroid(data);\r\n    const breakPoint = findBreakPoint(innerPoint, position);\r\n    return (jsxs(motion.g, Object.assign({ initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, transition: {\r\n            duration: 0.1\r\n        } }, { children: [typeof text === 'string' ? (jsxs(Fragment$1, { children: [jsx(\"title\", { children: text }, void 0),\r\n                    jsx(\"text\", Object.assign({ dy: padding, fill: fontFill, fontSize: fontSize, fontFamily: fontFamily, textAnchor: textAnchor, style: {\r\n                            shapeRendering: 'crispEdges',\r\n                            transform: `translate3d(${posX}px,${posY}px, 0)`\r\n                        } }, { children: text }), void 0)] }, void 0)) : (jsx(\"foreignObject\", Object.assign({ width: width, height: height, style: {\r\n                    transform: `translate3d(${textAnchor === 'start' ? posX : posX - width}px,${posY - height / 2}px, 0)`,\r\n                    color: fontFill,\r\n                    fontFamily,\r\n                    fontSize\r\n                } }, { children: text }), void 0)),\r\n            jsx(\"polyline\", { fill: \"none\", stroke: lineStroke, points: `${startPoint},${innerPoint},${breakPoint},${position}` }, void 0)] }), void 0));\r\n};\r\nPieArcLabel.defaultProps = {\r\n    format: undefined,\r\n    lineStroke: 'rgba(127,127,127,0.5)',\r\n    fontFill: '#8F979F',\r\n    fontSize: 11,\r\n    fontFamily: 'sans-serif',\r\n    padding: '.35em',\r\n    height: 11\r\n};\n\nconst factor = 1.2;\r\nconst midAngle = (d) => d.startAngle + (d.endAngle - d.startAngle) / 2;\r\nconst labelVisible = (arc) => arc.endAngle - arc.startAngle > Math.PI / 30;\r\nfunction shouldDisplayLabel(displayAllLabels, arcData) {\r\n    return displayAllLabels || labelVisible(arcData);\r\n}\r\nfunction calculateOuterRadius(outerRadius, data, point, explode) {\r\n    if (!explode || data === undefined) {\r\n        return outerRadius;\r\n    }\r\n    const maxVal = max(data, (d) => d.value);\r\n    return (outerRadius * point.value) / maxVal;\r\n}\r\nfunction calculateCentroid(data, innerRadius, outerRadius, explode) {\r\n    return (point) => {\r\n        const newOuter = calculateOuterRadius(outerRadius, data, point, explode);\r\n        return arc()\r\n            .innerRadius(innerRadius)\r\n            .outerRadius(newOuter)\r\n            .centroid(point);\r\n    };\r\n}\r\nfunction calculateRadius(height, width, label, arcWidth, doughnut) {\r\n    const minDimension = Math.min(width, height);\r\n    let outerRadius = minDimension / 2;\r\n    let labelWidth = 0;\r\n    if (label) {\r\n        labelWidth = label.props.width;\r\n        if (labelWidth) {\r\n            const outerArcRadius = width / 2 - labelWidth;\r\n            outerRadius = Math.min(outerArcRadius / factor, height / 2);\r\n        }\r\n        else {\r\n            outerRadius = minDimension / 3;\r\n            labelWidth = width / 2 - outerRadius * factor;\r\n        }\r\n    }\r\n    const innerRadius = doughnut ? outerRadius * (1 - arcWidth) : 0;\r\n    return {\r\n        outerRadius,\r\n        innerRadius,\r\n        labelWidth\r\n    };\r\n}\r\nfunction calculateInnerArc(data, innerRadius, outerRadius, cornerRadius, padAngle, padRadius, explode) {\r\n    return (point) => {\r\n        const newOuter = calculateOuterRadius(outerRadius, data, point, explode);\r\n        return arc()\r\n            .innerRadius(innerRadius)\r\n            .outerRadius(newOuter)\r\n            .cornerRadius(cornerRadius)\r\n            .padRadius(padRadius)\r\n            .padAngle(padAngle)(point);\r\n    };\r\n}\r\nfunction calculateLabelPositions(data, outerRadius, minDistance, cornerRadius, padAngle, padRadius, displayAllLabels) {\r\n    const outerArcRadius = outerRadius * factor;\r\n    const outerArc = arc()\r\n        .innerRadius(outerArcRadius)\r\n        .outerRadius(outerArcRadius)\r\n        .cornerRadius(cornerRadius)\r\n        .padAngle(padAngle)\r\n        .padRadius(padRadius);\r\n    const positions = data.map((d) => {\r\n        if (!shouldDisplayLabel(displayAllLabels, d)) {\r\n            return null;\r\n        }\r\n        const pos = outerArc.centroid(d);\r\n        // reposition the labels to the left/right from outerArc centroid\r\n        // so that all labels won't collide with pie\r\n        // when we will vertically reposition them\r\n        pos[0] = outerArcRadius * (midAngle(d) < Math.PI ? 1 : -1);\r\n        return pos;\r\n    });\r\n    for (let i = 0; i < data.length - 1; i++) {\r\n        if (!positions[i]) {\r\n            continue;\r\n        }\r\n        const [aPosX, aPosY] = positions[i];\r\n        for (let j = i + 1; j < data.length; j++) {\r\n            if (!positions[j]) {\r\n                continue;\r\n            }\r\n            const [bPosX, bPosY] = positions[j];\r\n            // if they're on the same side (both with - or + sign)\r\n            if (bPosX * aPosX > 0) {\r\n                // if they're overlapping\r\n                const overlap = minDistance - Math.abs(bPosY - aPosY);\r\n                if (overlap > 0) {\r\n                    // push the second up or down\r\n                    positions[j][1] += Math.sign(bPosX) * overlap;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return positions;\r\n}\n\nconst PieArcSeries = ({ doughnut, arcWidth, label, colorScheme, width, displayAllLabels, height, explode, animated, cornerRadius, padAngle, padRadius, arc, data }) => {\r\n    const { outerRadius, innerRadius, labelWidth } = calculateRadius(height, width, label, arcWidth, doughnut);\r\n    const innerArc = calculateInnerArc(data, innerRadius, outerRadius, cornerRadius, padAngle, padRadius, explode);\r\n    const positions = label\r\n        ? calculateLabelPositions(data, outerRadius, \r\n        // 4 is for vertical margins between labels\r\n        label.props.height + 4, cornerRadius, padAngle, padRadius, displayAllLabels)\r\n        : [];\r\n    const centroid = calculateCentroid(data, innerRadius, outerRadius, explode);\r\n    return (jsx(Fragment, { children: data.map((arcData, index) => (jsxs(Fragment, { children: [positions[index] && (jsx(CloneElement, { element: label, data: arcData, centroid: centroid, outerRadius: outerRadius, width: labelWidth, position: positions[index] }, void 0)),\r\n                jsx(CloneElement, { element: arc, data: arcData, animated: animated, arc: innerArc, color: getColor({\r\n                        data,\r\n                        colorScheme,\r\n                        point: arcData.data,\r\n                        index\r\n                    }) }, void 0)] }, arcData.data.key.toString()))) }, void 0));\r\n};\r\nPieArcSeries.defaultProps = {\r\n    animated: true,\r\n    colorScheme: 'cybertron',\r\n    innerRadius: 0,\r\n    cornerRadius: 0,\r\n    padAngle: 0,\r\n    padRadius: 0,\r\n    explode: false,\r\n    displayAllLabels: false,\r\n    arcWidth: 0.25,\r\n    label: jsx(PieArcLabel, {}, void 0),\r\n    arc: jsx(PieArc, {}, void 0)\r\n};\n\nconst PieChart = ({ id, width, height, className, containerClassName, displayAllLabels, data = [], margins, series }) => {\r\n    const getData = useMemo(() => {\r\n        const pieLayout = pie().value((d) => Number(d.data));\r\n        // Explode sort doesn't work right...\r\n        if (!series.props.explode) {\r\n            pieLayout.sort(null);\r\n        }\r\n        return pieLayout(data);\r\n    }, [data, series]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, margins: margins, containerClassName: containerClassName, xAxisVisible: false, yAxisVisible: false, center: true, className: classNames(className) }, { children: ({ chartWidth, chartHeight }) => (jsx(CloneElement, { element: series, data: getData, height: chartHeight, width: chartWidth, displayAllLabels: displayAllLabels }, void 0)) }), void 0));\r\n};\r\nPieChart.defaultProps = {\r\n    margins: 10,\r\n    series: jsx(PieArcSeries, {}, void 0)\r\n};\n\nconst JUSTIFICATION = {\r\n    justify: sankeyJustify,\r\n    center: sankeyCenter,\r\n    left: sankeyLeft,\r\n    right: sankeyRight\r\n};\r\nclass Sankey extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = { activeNodes: [], activeLinks: [] };\r\n    }\r\n    getNodeColor(node, index) {\r\n        const { colorScheme, nodes } = this.props;\r\n        if (colorScheme) {\r\n            return getColor({\r\n                data: nodes,\r\n                colorScheme,\r\n                point: nodes[index],\r\n                index\r\n            });\r\n        }\r\n        else {\r\n            return node.props.color;\r\n        }\r\n    }\r\n    onNodeActive(node) {\r\n        const activeNodes = [node];\r\n        const activeLinks = [];\r\n        if (node.sourceLinks) {\r\n            activeLinks.push(...node.sourceLinks);\r\n            node.sourceLinks.forEach((sourceLink) => {\r\n                const sourceLinkTarget = sourceLink.target;\r\n                if (sourceLinkTarget.index !== node.index) {\r\n                    activeNodes.push(sourceLinkTarget);\r\n                }\r\n            });\r\n        }\r\n        if (node.targetLinks) {\r\n            activeLinks.push(...node.targetLinks);\r\n            node.targetLinks.forEach((targetLink) => {\r\n                const targetLinkSource = targetLink.source;\r\n                if (targetLinkSource.index !== node.index) {\r\n                    activeNodes.push(targetLinkSource);\r\n                }\r\n            });\r\n        }\r\n        this.setState({ activeNodes, activeLinks });\r\n    }\r\n    onLinkActive(link) {\r\n        const activeNodes = [link.source, link.target];\r\n        const activeLinks = [link];\r\n        this.setState({ activeNodes, activeLinks });\r\n    }\r\n    onInactive() {\r\n        this.setState({ activeNodes: [], activeLinks: [] });\r\n    }\r\n    renderNode(computedNode, index, chartWidth, node) {\r\n        const { animated } = this.props;\r\n        const { activeNodes } = this.state;\r\n        const active = activeNodes.some((node) => node.index === computedNode.index);\r\n        const disabled = activeNodes.length > 0 && !active;\r\n        return (jsx(CloneElement, Object.assign({ element: node, active: active, animated: animated, disabled: disabled, chartWidth: chartWidth, onMouseEnter: bind(this.onNodeActive, this, computedNode), onMouseLeave: bind(this.onInactive, this, computedNode) }, computedNode), `node-${index}`));\r\n    }\r\n    renderNodes(nodes, chartWidth) {\r\n        const nodeMap = new Map();\r\n        this.props.nodes.forEach((node) => node && nodeMap.set(node.props.title, node));\r\n        nodes.sort((a, b) => {\r\n            const aX0 = a && a.x0 ? a.x0 : 0;\r\n            const aY0 = a && a.y0 ? a.y0 : 0;\r\n            const bX0 = b && b.x0 ? b.x0 : 0;\r\n            const bY0 = b && b.y0 ? b.y0 : 0;\r\n            return aX0 - bX0 || aY0 - bY0;\r\n        });\r\n        return (jsx(Fragment, { children: nodes.map((node, index) => this.renderNode(node, index, chartWidth, nodeMap.get(node.title))) }, void 0));\r\n    }\r\n    renderLink(computedLink, index, chartId) {\r\n        const { animated, links } = this.props;\r\n        const { activeLinks } = this.state;\r\n        const active = activeLinks.some((link) => link.index === computedLink.index);\r\n        const disabled = activeLinks.length > 0 && !active;\r\n        return (jsx(CloneElement, Object.assign({ element: links[index], active: active, animated: animated, chartId: chartId, disabled: disabled }, computedLink, { onMouseEnter: bind(this.onLinkActive, this, computedLink), onMouseLeave: bind(this.onInactive, this, computedLink) }), `link-${index}`));\r\n    }\r\n    renderChart(containerProps) {\r\n        const { id, chartWidth, chartHeight } = containerProps;\r\n        const { justification, nodeWidth, nodePadding } = this.props;\r\n        const nodesCopy = this.props.nodes.map((node, index) => ({\r\n            id: node.props.id,\r\n            title: node.props.title,\r\n            color: this.getNodeColor(node, index)\r\n        }));\r\n        const linksCopy = this.props.links.map((link) => ({\r\n            source: link.props.source,\r\n            target: link.props.target,\r\n            value: link.props.value\r\n        }));\r\n        const sankeyChart = sankey()\r\n            .extent([\r\n            [1, 1],\r\n            [chartWidth, chartHeight]\r\n        ])\r\n            .nodeWidth(nodeWidth)\r\n            .nodePadding(nodePadding)\r\n            .nodeAlign(JUSTIFICATION[justification])\r\n            .nodeId((node) => node.id || node.index);\r\n        const { nodes, links } = sankeyChart({\r\n            nodes: nodesCopy,\r\n            links: linksCopy\r\n        });\r\n        return (containerProps.chartSized && (jsxs(Fragment, { children: [links.map((link, index) => this.renderLink(link, index, `sankey-${id}`)),\r\n                this.renderNodes(nodes, chartWidth)] }, \"group\")));\r\n    }\r\n    render() {\r\n        const { id, width, height, margins, className, containerClassName } = this.props;\r\n        return (jsx(ChartContainer, Object.assign({ id: id, width: width, containerClassName: containerClassName, height: height, margins: margins, className: className }, { children: (props) => this.renderChart(props) }), void 0));\r\n    }\r\n}\r\nSankey.defaultProps = {\r\n    animated: true,\r\n    justification: 'justify',\r\n    nodeWidth: 15,\r\n    nodePadding: 10\r\n};\n\nvar css_248z$8 = \".SankeyLabel-module_label__2_aSZ {\\n  font-size: 12px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  pointer-events: none;\\n}\\n\";\nvar css$8 = {\"label\":\"SankeyLabel-module_label__2_aSZ\"};\nstyleInject(css_248z$8);\n\nclass SankeyLabel extends Component {\r\n    render() {\r\n        const { active, chartWidth, className, fill, node, opacity, padding, visible } = this.props;\r\n        const nodePositions = {\r\n            x0: node && node.x0 ? node.x0 : 0,\r\n            y0: node && node.y0 ? node.y0 : 0,\r\n            x1: node && node.x1 ? node.x1 : 0,\r\n            y1: node && node.y1 ? node.y1 : 0\r\n        };\r\n        const width = chartWidth || 0;\r\n        const showRightSide = nodePositions.x0 < width / 2;\r\n        const textAnchor = showRightSide ? 'start' : 'end';\r\n        return (visible &&\r\n            node && (jsx(\"text\", Object.assign({ className: classNames(css$8.label, className), x: showRightSide ? nodePositions.x1 + 6 : nodePositions.x0 - 6, y: (nodePositions.y1 + nodePositions.y0) / 2, dy: \"0.35em\", textAnchor: textAnchor, fill: fill, opacity: opacity(active), style: { padding } }, { children: node.title }), void 0)));\r\n    }\r\n}\r\nSankeyLabel.defaultProps = {\r\n    active: false,\r\n    fill: '#fff',\r\n    location: 'outside',\r\n    opacity: (active) => (active ? 1 : 0.5),\r\n    visible: true\r\n};\n\nconst DEFAULT_COLOR = 'rgba(255, 255, 255, 0.2)';\n\nvar css_248z$7 = \".SankeyLink-module_link__hzYa8 {\\n  fill: none;\\n  transition: stroke-opacity 100ms ease-in-out, stroke 100ms ease-in-out;\\n  mix-blend-mode: screen;\\n}\\n\\n.SankeyLink-module_tooltip__28O9b {\\n  text-align: center;\\n  pointer-events: none;\\n}\\n\\n.SankeyLink-module_tooltip__28O9b .SankeyLink-module_tooltipLabel__odxY7 {\\n    font-size: 16px;\\n    margin-bottom: 3px;\\n    color: rgba(255, 255, 255, 1);\\n    text-align: center;\\n  }\\n\\n.SankeyLink-module_tooltip__28O9b .SankeyLink-module_tooltipValue__cTGcv {\\n    font-size: 13px;\\n    color: rgba(255, 255, 255, 0.7);\\n    text-align: center;\\n  }\\n\";\nvar css$7 = {\"link\":\"SankeyLink-module_link__hzYa8\",\"tooltip\":\"SankeyLink-module_tooltip__28O9b\",\"tooltipLabel\":\"SankeyLink-module_tooltipLabel__odxY7\",\"tooltipValue\":\"SankeyLink-module_tooltipValue__cTGcv\"};\nstyleInject(css_248z$7);\n\nclass SankeyLink extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.link = createRef();\r\n        this.state = {};\r\n    }\r\n    getEnter() {\r\n        const path = sankeyLinkHorizontal();\r\n        const d = path(this.getLink());\r\n        const strokeWidth = Math.max(1, this.props.width);\r\n        return { d, strokeWidth };\r\n    }\r\n    getExit() {\r\n        const path = sankeyLinkHorizontal();\r\n        const d = path(Object.assign(Object.assign({}, this.getLink()), { width: 0 }));\r\n        return { d, strokeWidth: 0 };\r\n    }\r\n    getLink() {\r\n        const { index, value, y0, y1, source, target, width } = this.props;\r\n        return { index, y0, y1, value, width, source, target };\r\n    }\r\n    getStroke() {\r\n        const { color, index, gradient, chartId } = this.props;\r\n        return gradient ? `url(#${chartId}-gradient-${index})` : color;\r\n    }\r\n    onMouseEnter(event) {\r\n        this.setState({ hovered: true });\r\n        this.props.onMouseEnter(event);\r\n    }\r\n    onMouseLeave(event) {\r\n        this.setState({ hovered: false });\r\n        this.props.onMouseLeave(event);\r\n    }\r\n    renderLink() {\r\n        const { active, className, disabled, index, opacity, style, onClick } = this.props;\r\n        const enterProps = this.getEnter();\r\n        const exitProps = this.getExit();\r\n        return (jsx(\"g\", Object.assign({ ref: this.link }, { children: jsx(motion.path, { className: classNames(css$7.link, className), style: style, initial: exitProps, animate: enterProps, exit: exitProps, transition: {\r\n                    duration: 0.5\r\n                }, stroke: this.getStroke(), strokeOpacity: opacity(active, disabled), onClick: onClick, onMouseEnter: bind(this.onMouseEnter, this), onMouseLeave: bind(this.onMouseLeave, this) }, `sankey-link-${enterProps.d}-${index}`) }), void 0));\r\n    }\r\n    renderTooltipContent() {\r\n        const { source, target, value } = this.props;\r\n        return (jsxs(\"div\", Object.assign({ className: css$7.tooltip }, { children: [jsx(\"div\", Object.assign({ className: css$7.tooltipLabel }, { children: `${source.title} → ${target.title}` }), void 0),\r\n                jsx(\"div\", Object.assign({ className: css$7.tooltipValue }, { children: formatValue(value) }), void 0)] }), void 0));\r\n    }\r\n    render() {\r\n        const { gradient, index, source, target, tooltip, chartId } = this.props;\r\n        const linkSource = source;\r\n        const linkTarget = target;\r\n        return (jsxs(Fragment, { children: [gradient && (jsxs(\"linearGradient\", Object.assign({ id: `${chartId}-gradient-${index}`, gradientUnits: \"userSpaceOnUse\", x1: linkSource.x1, x2: linkTarget.x0 }, { children: [jsx(\"stop\", { offset: \"0%\", stopColor: linkSource.color }, void 0),\r\n                        jsx(\"stop\", { offset: \"100%\", stopColor: linkTarget.color }, void 0)] }), void 0)), this.renderLink(), !tooltip.props.disabled && (jsx(CloneElement, { content: this.renderTooltipContent.bind(this), element: tooltip, visible: this.state.hovered, reference: this.link }, void 0))] }, void 0));\r\n    }\r\n}\r\nSankeyLink.defaultProps = {\r\n    active: false,\r\n    animated: true,\r\n    color: DEFAULT_COLOR,\r\n    disabled: false,\r\n    gradient: true,\r\n    opacity: (active, disabled) => (active ? 0.5 : disabled ? 0.1 : 0.35),\r\n    tooltip: (jsx(Tooltip, { followCursor: true, modifiers: {\r\n            offset: {\r\n                offset: '0, 5px'\r\n            }\r\n        } }, void 0)),\r\n    width: 0,\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined\r\n};\n\nvar css_248z$6 = \".SankeyNode-module_node__1rkj0 {\\n  transition: opacity 100ms ease-in-out, fill-opacity 100ms ease-in-out;\\n}\\n\\n.SankeyNode-module_tooltip__1SZ4e {\\n  text-align: center;\\n  padding: 0 8px;\\n  pointer-events: none;\\n}\\n\\n.SankeyNode-module_tooltip__1SZ4e .SankeyNode-module_tooltipLabel__HfJ93 {\\n    font-size: 16px;\\n    margin-bottom: 3px;\\n    color: rgba(255, 255, 255, 1);\\n    text-align: center;\\n  }\\n\\n.SankeyNode-module_tooltip__1SZ4e .SankeyNode-module_tooltipValue__lnd_m {\\n    font-size: 13px;\\n    color: rgba(255, 255, 255, 0.7);\\n    text-align: center;\\n  }\\n\";\nvar css$6 = {\"node\":\"SankeyNode-module_node__1rkj0\",\"tooltip\":\"SankeyNode-module_tooltip__1SZ4e\",\"tooltipLabel\":\"SankeyNode-module_tooltipLabel__HfJ93\",\"tooltipValue\":\"SankeyNode-module_tooltipValue__lnd_m\"};\nstyleInject(css_248z$6);\n\nclass SankeyNode extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = {};\r\n        this.rect = createRef();\r\n    }\r\n    getNode() {\r\n        const { id, title, color, sourceLinks, targetLinks, value, index, x0, x1, y0, y1 } = this.props;\r\n        return {\r\n            id,\r\n            title,\r\n            color,\r\n            sourceLinks,\r\n            targetLinks,\r\n            value,\r\n            index,\r\n            x0,\r\n            x1,\r\n            y0,\r\n            y1\r\n        };\r\n    }\r\n    onMouseEnter(event) {\r\n        this.setState({ hovered: true });\r\n        this.props.onMouseEnter(event);\r\n    }\r\n    onMouseLeave(event) {\r\n        this.setState({ hovered: false });\r\n        this.props.onMouseLeave(event);\r\n    }\r\n    renderNode() {\r\n        const { active, className, color, disabled, index, opacity, style, width, x0, x1, y0, y1, onClick } = this.props;\r\n        const nodeWidth = width || (x1 && x0 && x1 - x0 > 0 ? x1 - x0 : 0);\r\n        const nodeHeight = y1 && y0 && y1 - y0 > 0 ? y1 - y0 : 0;\r\n        return (jsx(motion.g, Object.assign({ ref: this.rect }, { children: jsx(motion.rect, { className: classNames(css$6.node, className), fillOpacity: opacity(active, disabled), style: style, width: nodeWidth, height: nodeHeight, fill: color, initial: {\r\n                    opacity: 0,\r\n                    attrX: x0,\r\n                    attrY: y0\r\n                }, animate: {\r\n                    opacity: 1,\r\n                    attrX: x0,\r\n                    attrY: y0\r\n                }, exit: {\r\n                    opacity: 0,\r\n                    attrX: x0,\r\n                    attrY: y0\r\n                }, transition: {\r\n                    duration: 0.1\r\n                }, onClick: onClick, onMouseEnter: bind(this.onMouseEnter, this), onMouseLeave: bind(this.onMouseLeave, this) }, `sankey-node-${x0}-${x1}-${y0}-${y1}-${index}`) }), void 0));\r\n    }\r\n    renderTooltipContent() {\r\n        const { title, value } = this.props;\r\n        return (jsxs(\"div\", Object.assign({ className: css$6.tooltip }, { children: [jsx(\"div\", Object.assign({ className: css$6.tooltipLabel }, { children: title }), void 0),\r\n                jsx(\"div\", Object.assign({ className: css$6.tooltipValue }, { children: formatValue(value) }), void 0)] }), void 0));\r\n    }\r\n    render() {\r\n        const { active, chartWidth, label, tooltip, showLabel } = this.props;\r\n        return (jsxs(Fragment, { children: [this.renderNode(), showLabel && (jsx(CloneElement, { active: active, element: label, chartWidth: chartWidth, node: this.getNode() }, void 0)),\r\n                !tooltip.props.disabled && (jsx(CloneElement, { content: this.renderTooltipContent.bind(this), element: tooltip, visible: this.state.hovered, reference: this.rect }, void 0))] }, void 0));\r\n    }\r\n}\r\nSankeyNode.defaultProps = {\r\n    active: false,\r\n    animated: true,\r\n    color: DEFAULT_COLOR,\r\n    disabled: false,\r\n    label: jsx(SankeyLabel, {}, void 0),\r\n    opacity: (active, disabled) => (active ? 1 : disabled ? 0.2 : 0.9),\r\n    showLabel: true,\r\n    tooltip: (jsx(Tooltip, { followCursor: true, modifiers: {\r\n            offset: {\r\n                offset: '0, 5px'\r\n            }\r\n        } }, void 0)),\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined\r\n};\n\nconst SparklineChart = (props) => jsx(LineChart, Object.assign({}, props), void 0);\r\nSparklineChart.defaultProps = {\r\n    gridlines: null,\r\n    series: (jsx(AreaSeries, { symbols: jsx(PointSeries, { show: \"hover\" }, void 0), interpolation: \"smooth\", markLine: null, area: null, line: jsx(Line, { strokeWidth: 2 }, void 0) }, void 0)),\r\n    yAxis: (jsx(LinearYAxis, { scaled: true, type: \"value\", axisLine: null, tickSeries: jsx(LinearYAxisTickSeries, { line: null, label: null }, void 0) }, void 0)),\r\n    xAxis: (jsx(LinearXAxis, { type: \"time\", scaled: true, axisLine: null, tickSeries: jsx(LinearXAxisTickSeries, { line: null, label: null }, void 0) }, void 0))\r\n};\n\nconst AreaSparklineChart = (props) => jsx(AreaChart, Object.assign({}, props), void 0);\r\nAreaSparklineChart.defaultProps = {\r\n    gridlines: null,\r\n    series: (jsx(AreaSeries, { symbols: jsx(PointSeries, { show: \"hover\" }, void 0), interpolation: \"smooth\", markLine: null, area: jsx(Area, { mask: jsx(Stripes, {}, void 0), gradient: jsx(Gradient, { stops: [\r\n                    jsx(GradientStop, { offset: \"10%\", stopOpacity: 0 }, \"start\"),\r\n                    jsx(GradientStop, { offset: \"80%\", stopOpacity: 1 }, \"stop\")\r\n                ] }, void 0) }, void 0), line: jsx(Line, { strokeWidth: 3 }, void 0) }, void 0)),\r\n    yAxis: (jsx(LinearYAxis, { type: \"value\", scaled: true, axisLine: null, tickSeries: jsx(LinearYAxisTickSeries, { line: null, label: null }, void 0) }, void 0)),\r\n    xAxis: (jsx(LinearXAxis, { type: \"time\", scaled: true, axisLine: null, tickSeries: jsx(LinearXAxisTickSeries, { line: null, label: null }, void 0) }, void 0))\r\n};\n\nconst BarSparklineChart = (props) => jsx(BarChart, Object.assign({}, props), void 0);\r\nBarSparklineChart.defaultProps = {\r\n    gridlines: null,\r\n    series: jsx(BarSeries, { colorScheme: schemes.cybertron[0] }, void 0),\r\n    yAxis: (jsx(LinearYAxis, { type: \"value\", axisLine: null, tickSeries: jsx(LinearYAxisTickSeries, { line: null, label: null }, void 0) }, void 0)),\r\n    xAxis: (jsx(LinearXAxis, { type: \"category\", axisLine: null, tickSeries: jsx(LinearXAxisTickSeries, { line: null, label: null }, void 0) }, void 0))\r\n};\n\nconst SonarChart = (props) => (jsx(StackedBarChart, Object.assign({}, props, { margins: 0, gridlines: null, series: jsx(StackedBarSeries, { type: \"stackedDiverging\", colorScheme: \"rgb(17, 207, 247)\", tooltip: jsx(TooltipArea, { tooltip: jsx(ChartTooltip, { followCursor: true, modifiers: {\r\n                    offset: '5px, 5px'\r\n                }, content: (data, color) => (jsx(TooltipTemplate, { color: color, value: {\r\n                        x: formatValue(data.x),\r\n                        y: `${formatValue(Math.abs(data.data[0].y))}`\r\n                    } }, void 0)) }, void 0) }, void 0), bar: [\r\n            jsx(Bar, { width: 1, rangeLines: null, minHeight: 1, gradient: jsx(Gradient, { stops: [\r\n                        jsx(GradientStop, { offset: \"5%\", stopOpacity: 0.7 }, \"start\"),\r\n                        jsx(GradientStop, { offset: \"90%\", stopOpacity: 1 }, \"stop\")\r\n                    ] }, void 0) }, \"first\"),\r\n            jsx(Bar, { width: 1, rangeLines: null, minHeight: 1, gradient: jsx(Gradient, { stops: [\r\n                        jsx(GradientStop, { offset: \"5%\", stopOpacity: 1 }, \"stop\"),\r\n                        jsx(GradientStop, { offset: \"90%\", stopOpacity: 0.7 }, \"start\")\r\n                    ] }, void 0) }, \"second\")\r\n        ] }, void 0), yAxis: jsx(LinearYAxis, { type: \"value\", axisLine: null, tickSeries: jsx(LinearYAxisTickSeries, { line: null, label: null }, void 0) }, void 0), xAxis: jsx(LinearXAxis, { type: \"category\", axisLine: null, tickSeries: jsx(LinearXAxisTickSeries, { line: null, label: null }, void 0) }, void 0) }), void 0));\n\nconst RadialArea = ({ id, data, className, yScale, color, animated, outerRadius, xScale, innerRadius, interpolation, gradient }) => {\r\n    const transition = useMemo(() => animated\r\n        ? Object.assign({}, DEFAULT_TRANSITION) : {\r\n        type: false,\r\n        delay: 0\r\n    }, [animated]);\r\n    const getFill = useCallback((c) => {\r\n        if (!gradient) {\r\n            return c;\r\n        }\r\n        return `url(#${id}-gradient)`;\r\n    }, [id, gradient]);\r\n    const getPath = useCallback((d) => {\r\n        const curve = interpolation === 'smooth' ? curveCardinalClosed : curveLinearClosed;\r\n        const radialFn = radialArea()\r\n            .angle((dd) => xScale(dd.x))\r\n            .innerRadius((_) => innerRadius)\r\n            .outerRadius((d) => yScale(d.y))\r\n            .curve(curve);\r\n        return radialFn(d);\r\n    }, [xScale, yScale, interpolation, innerRadius]);\r\n    const enter = useMemo(() => ({\r\n        d: getPath(data),\r\n        opacity: 1\r\n    }), [data, getPath]);\r\n    const exit = useMemo(() => {\r\n        const [yStart] = yScale.domain();\r\n        return {\r\n            d: getPath(data.map((d) => (Object.assign(Object.assign({}, d), { y: yStart })))),\r\n            opacity: 0\r\n        };\r\n    }, [data, getPath, yScale]);\r\n    const fill = color(data, 0);\r\n    return (jsxs(Fragment, { children: [jsx(MotionPath, { custom: {\r\n                    enter,\r\n                    exit\r\n                }, transition: transition, pointerEvents: \"none\", className: className, fill: getFill(color) }, void 0),\r\n            gradient && (jsx(CloneElement, { element: gradient, id: `${id}-gradient`, radius: outerRadius, color: fill }, void 0))] }, void 0));\r\n};\r\nRadialArea.defaultProps = {\r\n    gradient: jsx(RadialGradient, {}, void 0)\r\n};\n\nconst RadialLine = ({ xScale, yScale, className, color, data, interpolation, strokeWidth, animated }) => {\r\n    const getPath = useCallback((preData) => {\r\n        const curve = interpolation === 'smooth' ? curveCardinalClosed : curveLinearClosed;\r\n        const radialFn = radialLine()\r\n            .angle((d) => xScale(d.x))\r\n            .radius((d) => yScale(d.y))\r\n            .curve(curve);\r\n        return radialFn(preData);\r\n    }, [xScale, yScale, interpolation]);\r\n    const transition = useMemo(() => animated\r\n        ? Object.assign({}, DEFAULT_TRANSITION) : {\r\n        type: false,\r\n        delay: 0\r\n    }, [animated]);\r\n    const fill = color(data, 0);\r\n    const enter = useMemo(() => ({\r\n        d: getPath(data),\r\n        opacity: 1\r\n    }), [data, getPath]);\r\n    const exit = useMemo(() => {\r\n        const [yStart] = yScale.domain();\r\n        return {\r\n            d: getPath(data.map((d) => (Object.assign(Object.assign({}, d), { y: yStart })))),\r\n            opacity: 0\r\n        };\r\n    }, [data, yScale, getPath]);\r\n    return (jsx(MotionPath, { custom: {\r\n            enter,\r\n            exit\r\n        }, transition: transition, className: className, pointerEvents: \"none\", stroke: fill, fill: \"none\", strokeWidth: strokeWidth }, void 0));\r\n};\r\nRadialLine.defaultProps = {\r\n    strokeWidth: 2,\r\n    animated: true\r\n};\n\nconst RadialScatterPlot = ({ id, width, height, margins, className, containerClassName, innerRadius, series, axis, data }) => {\r\n    const getScales = useCallback((aggregatedData, outer, inner) => {\r\n        const yDomain = getYDomain({ data: aggregatedData, scaled: false });\r\n        const xDomain = getXDomain({ data: aggregatedData });\r\n        const xScale = scaleTime()\r\n            .range([0, 2 * Math.PI])\r\n            .domain(xDomain);\r\n        const yScale = getRadialYScale(inner, outer, yDomain);\r\n        return {\r\n            yScale,\r\n            xScale\r\n        };\r\n    }, []);\r\n    const renderChart = useCallback((containerProps) => {\r\n        const { chartWidth, chartHeight, id } = containerProps;\r\n        const outerRadius = Math.min(chartWidth, chartHeight) / 2;\r\n        const aggregatedData = buildShallowChartData(data);\r\n        const { yScale, xScale } = getScales(aggregatedData, outerRadius, innerRadius);\r\n        return (jsxs(Fragment, { children: [axis && (jsx(CloneElement, { element: axis, xScale: xScale, height: chartHeight, width: chartWidth, innerRadius: innerRadius }, void 0)),\r\n                jsx(CloneElement, { element: series, id: id, data: aggregatedData, xScale: xScale, yScale: yScale }, void 0)] }, void 0));\r\n    }, [data, getScales, innerRadius, series, axis]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, containerClassName: containerClassName, width: width, height: height, margins: margins, xAxisVisible: false, yAxisVisible: false, center: true, className: className }, { children: renderChart }), void 0));\r\n};\n\nvar css_248z$5 = \".RadialScatterPoint-module_inactive__1RkCR {\\n  opacity: 0.4;\\n  transition: opacity 200ms ease-in-out;\\n}\\n\";\nvar css$5 = {\"inactive\":\"RadialScatterPoint-module_inactive__1RkCR\"};\nstyleInject(css_248z$5);\n\nconst RadialScatterPoint = (_a) => {\r\n    var { size, data, color, index, symbol, active, tooltip, yScale, xScale, animated, className } = _a, rest = __rest(_a, [\"size\", \"data\", \"color\", \"index\", \"symbol\", \"active\", \"tooltip\", \"yScale\", \"xScale\", \"animated\", \"className\"]);\r\n    const ref = useRef(null);\r\n    const [hovered, setHovered] = useState(false);\r\n    function onMouseEnter(event) {\r\n        setHovered(true);\r\n        rest.onMouseEnter({\r\n            value: data,\r\n            nativeEvent: event\r\n        });\r\n    }\r\n    function onMouseLeave(event) {\r\n        setHovered(false);\r\n        rest.onMouseLeave({\r\n            value: data,\r\n            nativeEvent: event\r\n        });\r\n    }\r\n    function onClick(event) {\r\n        rest.onClick({\r\n            value: data,\r\n            nativeEvent: event\r\n        });\r\n    }\r\n    function getTranslate(data) {\r\n        const fn = radialLine()\r\n            .radius((d) => yScale(d.y))\r\n            .angle((d) => xScale(d.x));\r\n        // Parse the generated path to get point coordinates\r\n        // Ref: https://bit.ly/2CnZcPl\r\n        const path = fn([data]);\r\n        if (path) {\r\n            const [translateX, translateY] = path.slice(1).slice(0, -1).split(',');\r\n            return {\r\n                translateX: parseFloat(translateX),\r\n                translateY: parseFloat(translateY)\r\n            };\r\n        }\r\n    }\r\n    function getTransition() {\r\n        if (animated) {\r\n            return Object.assign(Object.assign({}, DEFAULT_TRANSITION), { delay: index * 0.005 });\r\n        }\r\n        else {\r\n            return {\r\n                type: false,\r\n                delay: 0\r\n            };\r\n        }\r\n    }\r\n    const fill = typeof color === 'function' ? color(data, index) : color;\r\n    const transform = getTranslate(data);\r\n    const sizeVal = typeof size === 'function' ? size(data) : size;\r\n    const transition = getTransition();\r\n    const [yStart] = yScale.domain();\r\n    const exitTransform = getTranslate(Object.assign(Object.assign({}, data), { y: yStart }));\r\n    return (jsxs(Fragment, { children: [jsxs(motion.g, Object.assign({ initial: Object.assign(Object.assign({}, exitTransform), { opacity: 0 }), animate: Object.assign(Object.assign({}, transform), { opacity: 1 }), exit: Object.assign(Object.assign({}, exitTransform), { opacity: 0 }), transition: transition, ref: ref, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, onClick: onClick, className: classNames(className, {\r\n                    [css$5.inactive]: !active\r\n                }) }, { children: [symbol && symbol(data), !symbol && jsx(\"circle\", { r: sizeVal, fill: fill }, void 0)] }), void 0),\r\n            tooltip && (jsx(CloneElement, { element: tooltip, visible: hovered, reference: ref, value: data }, void 0))] }, void 0));\r\n};\r\nRadialScatterPoint.defaultProps = {\r\n    size: 3,\r\n    color: schemes.cybertron[0],\r\n    tooltip: jsx(ChartTooltip, {}, void 0),\r\n    active: true,\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined\r\n};\n\nconst RadialScatterSeries = ({ data, point, xScale, yScale, animated, activeIds }) => {\r\n    const [internalActiveIds, setInternalActiveIds] = useState(activeIds);\r\n    useEffect(() => {\r\n        setInternalActiveIds(activeIds || []);\r\n    }, [activeIds]);\r\n    const onMouseEnter = useCallback(({ value }) => {\r\n        // Only perform this on unmanaged activations\r\n        if (!activeIds) {\r\n            setInternalActiveIds([value.id]);\r\n        }\r\n    }, []);\r\n    const onMouseLeave = useCallback(() => {\r\n        // Only perform this on unmanaged activations\r\n        if (!activeIds) {\r\n            setInternalActiveIds([]);\r\n        }\r\n    }, []);\r\n    const renderPoint = useCallback((d, index) => {\r\n        let dataId;\r\n        if (d.id) {\r\n            dataId = d.id;\r\n        }\r\n        else {\r\n            console.warn('No \\'id\\' property provided for scatter point; provide one via \\'id\\'.');\r\n        }\r\n        const key = dataId || index;\r\n        const active = !(internalActiveIds && internalActiveIds.length) || internalActiveIds.includes(dataId);\r\n        const visible = point.props.visible;\r\n        if (visible && !visible(d, index)) {\r\n            return jsx(Fragment, {}, key);\r\n        }\r\n        return (jsx(CloneElement, { element: point, data: d, index: index, active: active, xScale: xScale, yScale: yScale, animated: animated, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave }, key));\r\n    }, [point, internalActiveIds, xScale, yScale, animated, onMouseEnter, onMouseLeave]);\r\n    return jsx(Fragment, { children: data.map(renderPoint) }, void 0);\r\n};\r\nRadialScatterSeries.defaultProps = {\r\n    point: jsx(RadialScatterPoint, {}, void 0),\r\n    animated: true\r\n};\n\nconst RadialPointSeries = ({ data, xScale, yScale, animated, color, activeValues, show, point }) => {\r\n    const isVisible = useCallback((point, index) => {\r\n        const isActive = activeValues && point && isEqual(activeValues.x, point.x);\r\n        if (show === 'hover') {\r\n            return isActive;\r\n        }\r\n        else if (show === 'first') {\r\n            if (activeValues) {\r\n                return isActive;\r\n            }\r\n            else {\r\n                return index === 0;\r\n            }\r\n        }\r\n        else if (show === 'last') {\r\n            if (activeValues) {\r\n                return isActive;\r\n            }\r\n            else {\r\n                return index === data.length - 1;\r\n            }\r\n        }\r\n        return show;\r\n    }, [data, activeValues, show]);\r\n    return (jsx(RadialScatterSeries, { animated: animated, data: data, xScale: xScale, yScale: yScale, point: jsx(CloneElement, { element: point, color: color, tooltip: null, visible: isVisible }, void 0) }, void 0));\r\n};\r\nRadialPointSeries.defaultProps = {\r\n    show: 'hover',\r\n    point: jsx(RadialScatterPoint, {}, void 0)\r\n};\n\nconst RadialAreaSeries = ({ area, line, symbols, tooltip, xScale, yScale, data, id, animated, width, height, innerRadius, outerRadius, colorScheme, interpolation }) => {\r\n    const [activeValues, setActiveValues] = useState(null);\r\n    const getColorForPoint = useCallback((point, index) => {\r\n        return getColor({\r\n            colorScheme,\r\n            data,\r\n            index,\r\n            point\r\n        });\r\n    }, [colorScheme, data]);\r\n    const renderArea = useCallback(() => (jsx(CloneElement, { element: area, id: `${id}-radial-area`, xScale: xScale, yScale: yScale, animated: animated, color: getColorForPoint, data: data, interpolation: interpolation, outerRadius: outerRadius, innerRadius: innerRadius }, void 0)), [\r\n        animated,\r\n        area,\r\n        data,\r\n        getColorForPoint,\r\n        id,\r\n        innerRadius,\r\n        interpolation,\r\n        outerRadius,\r\n        xScale,\r\n        yScale\r\n    ]);\r\n    const renderLine = useCallback(() => (jsx(CloneElement, { element: line, xScale: xScale, yScale: yScale, animated: animated, interpolation: interpolation, color: getColorForPoint, data: data }, void 0)), [animated, data, getColorForPoint, interpolation, line, xScale, yScale]);\r\n    const renderSymbols = useCallback(() => {\r\n        // Animations are only valid for Area\r\n        const activeSymbols = (symbols && symbols.props.activeValues) || activeValues;\r\n        const isAnimated = area !== undefined && animated && !activeSymbols;\r\n        return (jsx(CloneElement, { element: symbols, activeValues: activeValues, xScale: xScale, yScale: yScale, data: data, animated: isAnimated, color: getColorForPoint }, void 0));\r\n    }, [\r\n        activeValues,\r\n        animated,\r\n        area,\r\n        data,\r\n        getColorForPoint,\r\n        symbols,\r\n        xScale,\r\n        yScale\r\n    ]);\r\n    return (jsx(CloneElement, Object.assign({ element: tooltip, xScale: xScale, yScale: yScale, data: data, height: height, width: width, isRadial: true, innerRadius: innerRadius, outerRadius: outerRadius, color: getColorForPoint, onValueEnter: (event) => setActiveValues(event.value), onValueLeave: () => setActiveValues(null) }, { children: jsxs(\"g\", Object.assign({ clipPath: `url(#${id}-path)` }, { children: [area && renderArea(), line && renderLine(), symbols && renderSymbols()] }), void 0) }), void 0));\r\n};\r\nRadialAreaSeries.defaultProps = {\r\n    colorScheme: schemes.cybertron[0],\r\n    interpolation: 'smooth',\r\n    animated: true,\r\n    area: jsx(RadialArea, {}, void 0),\r\n    line: jsx(RadialLine, {}, void 0),\r\n    symbols: jsx(RadialPointSeries, {}, void 0),\r\n    tooltip: jsx(TooltipArea, {}, void 0)\r\n};\n\nconst RadialAreaChart = ({ id, width, height, className, data, containerClassName, innerRadius, series, axis, margins }) => {\r\n    const getScales = useCallback((preData, outerRadius, innerRadius) => {\r\n        const d = buildShallowChartData(preData);\r\n        const yDomain = getYDomain({ data: d, scaled: false });\r\n        let xScale;\r\n        if ((axis === null || axis === void 0 ? void 0 : axis.props.type) === 'category') {\r\n            const xDomain = uniqueBy(d, (dd) => dd.x);\r\n            xScale = scaleBand()\r\n                .range([0, 2 * Math.PI])\r\n                .domain(xDomain);\r\n        }\r\n        else {\r\n            const xDomain = getXDomain({ data: d });\r\n            xScale = scaleTime()\r\n                .range([0, 2 * Math.PI])\r\n                .domain(xDomain);\r\n        }\r\n        const yScale = getRadialYScale(innerRadius, outerRadius, yDomain);\r\n        return {\r\n            yScale,\r\n            xScale,\r\n            result: d\r\n        };\r\n    }, [axis === null || axis === void 0 ? void 0 : axis.props.type]);\r\n    const renderChart = useCallback((containerProps) => {\r\n        const { chartWidth, chartHeight, id } = containerProps;\r\n        const outerRadius = Math.min(chartWidth, chartHeight) / 2;\r\n        const { yScale, xScale, result } = getScales(data, outerRadius, innerRadius);\r\n        return (jsxs(Fragment, { children: [axis && (jsx(CloneElement, { element: axis, xScale: xScale, height: chartHeight, width: chartWidth, innerRadius: innerRadius }, void 0)),\r\n                jsx(CloneElement, { element: series, id: id, data: result, xScale: xScale, yScale: yScale, height: chartHeight, width: chartWidth, outerRadius: outerRadius, innerRadius: innerRadius }, void 0)] }, void 0));\r\n    }, [getScales, data, innerRadius, axis, series]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, containerClassName: containerClassName, margins: margins, xAxisVisible: false, yAxisVisible: false, center: true, className: className }, { children: renderChart }), void 0));\r\n};\r\nRadialAreaChart.defaultProps = {\r\n    innerRadius: 0.1,\r\n    series: jsx(RadialAreaSeries, {}, void 0),\r\n    axis: jsx(RadialAxis, {}, void 0),\r\n    margins: 75\r\n};\n\nconst pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nconst MotionBar = (_a) => {\r\n    var { custom, transition, arc } = _a, rest = __rest(_a, [\"custom\", \"transition\", \"arc\"]);\r\n    const d = useMotionValue('');\r\n    const prevPath = useMotionValue(custom.exit);\r\n    const spring = useSpring(prevPath, Object.assign(Object.assign({}, DEFAULT_TRANSITION), { from: 0, to: 1 }));\r\n    useEffect(() => {\r\n        const from = custom.previousEnter\r\n            ? custom.previousEnter.y\r\n            : prevPath.get().y;\r\n        const interpolator = interpolate$1(from, custom.enter.y);\r\n        const unsub = spring.onChange((v) => d.set(arc(Object.assign(Object.assign({}, custom.enter), { y: interpolator(v) }))));\r\n        prevPath.set(custom.enter);\r\n        return unsub;\r\n    });\r\n    const _b = custom.enter, { d: enterD } = _b, enterRest = __rest(_b, [\"d\"]);\r\n    const _c = custom.exit, exitRest = __rest(_c, [\"d\"]);\r\n    return (jsx(motion.path, Object.assign({}, rest, { initial: exitRest, exit: exitRest, animate: enterRest, transition: transition, d: transition.type !== false ? d : enterD }), void 0));\r\n};\n\nconst RadialGuideBar = ({ active, path, fill = '#eee', opacity = 0.2 }) => (jsx(motion.path, { d: path, fill: fill, pointerEvents: \"none\", initial: \"hidden\", animate: active ? 'visible' : 'hidden', variants: {\r\n        hidden: { opacity: 0 },\r\n        visible: { opacity }\r\n    } }, void 0));\r\nRadialGuideBar.defaultProps = {\r\n    fill: '#eee',\r\n    opacity: 0.2\r\n};\n\nconst RadialBar = ({ animated, innerRadius, xScale, yScale, curved, id, gradient, barCount, className, data, active, guide, index, color, onClick, onMouseEnter, onMouseLeave }) => {\r\n    const previousEnter = useRef(null);\r\n    const fill = color(data, index);\r\n    const currentColorShade = active ? chroma(fill).brighten(0.5) : fill;\r\n    const transition = useMemo(() => {\r\n        // const { animated, barCount, index } = this.props;\r\n        if (animated) {\r\n            return Object.assign(Object.assign({}, DEFAULT_TRANSITION), { delay: (index / barCount) * 0.5 });\r\n        }\r\n        else {\r\n            return {\r\n                type: false,\r\n                delay: 0\r\n            };\r\n        }\r\n    }, [animated, barCount, index]);\r\n    const getFill = useCallback((color) => {\r\n        if (!gradient) {\r\n            return color;\r\n        }\r\n        return `url(#${id}-gradient)`;\r\n    }, [gradient, id]);\r\n    const getArc = useCallback((data) => {\r\n        const outerRadius = yScale(data.y);\r\n        if (curved) {\r\n            const startAngle = xScale(data.x);\r\n            const endAngle = startAngle + xScale.bandwidth();\r\n            const arcFn = arc()\r\n                .innerRadius(innerRadius)\r\n                .outerRadius(outerRadius)\r\n                .startAngle(startAngle)\r\n                .endAngle(endAngle)\r\n                .padAngle(0.01)\r\n                .padRadius(innerRadius);\r\n            return arcFn(data);\r\n        }\r\n        else {\r\n            const startAngle = xScale(data.x) - Math.PI * 0.5;\r\n            const endAngle = startAngle + xScale.bandwidth();\r\n            const innerAngleDistance = endAngle - startAngle;\r\n            const arcLength = innerRadius * innerAngleDistance;\r\n            const outerAngleDistance = arcLength / outerRadius;\r\n            const halfAngleDistanceDelta = (innerAngleDistance - outerAngleDistance) / 2;\r\n            const pathFn = path();\r\n            pathFn.arc(0, 0, innerRadius, startAngle, endAngle);\r\n            pathFn.arc(0, 0, outerRadius, endAngle - halfAngleDistanceDelta, startAngle + halfAngleDistanceDelta, true);\r\n            return pathFn.toString();\r\n        }\r\n    }, [curved, innerRadius, xScale, yScale]);\r\n    const renderBar = useCallback((color) => {\r\n        const fill = getFill(color);\r\n        // Track previous props\r\n        const prev = previousEnter.current\r\n            ? Object.assign({}, previousEnter.current) : undefined;\r\n        previousEnter.current = Object.assign({}, data);\r\n        const [yStart, yEnd] = yScale.domain();\r\n        const exit = Object.assign(Object.assign({}, data), { y: yStart });\r\n        const guidePath = getArc(Object.assign(Object.assign({}, data), { y: yEnd }));\r\n        return (jsxs(Fragment, { children: [guide && (jsx(CloneElement, { element: guide, active: active, path: guidePath }, void 0)),\r\n                jsx(MotionBar, { arc: getArc, custom: {\r\n                        enter: data,\r\n                        exit,\r\n                        previousEnter: prev\r\n                    }, transition: transition, fill: fill, className: className, onMouseEnter: (event) => onMouseEnter({\r\n                        value: data,\r\n                        nativeEvent: event\r\n                    }), onMouseLeave: (event) => onMouseLeave({\r\n                        value: data,\r\n                        nativeEvent: event\r\n                    }), onClick: (event) => onClick({\r\n                        value: data,\r\n                        nativeEvent: event\r\n                    }) }, void 0)] }, void 0));\r\n    }, [\r\n        active,\r\n        className,\r\n        data,\r\n        getArc,\r\n        getFill,\r\n        guide,\r\n        onClick,\r\n        onMouseEnter,\r\n        onMouseLeave,\r\n        transition,\r\n        yScale\r\n    ]);\r\n    return (jsxs(Fragment, { children: [renderBar(currentColorShade), gradient && jsx(Gradient, { id: `${id}-gradient`, color: currentColorShade }, void 0)] }, void 0));\r\n};\r\nRadialBar.defaultProps = {\r\n    gradient: true,\r\n    curved: false,\r\n    guide: jsx(RadialGuideBar, {}, void 0),\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined\r\n};\n\nconst RadialBarSeries = ({ data, id, innerRadius, outerRadius, xScale, yScale, height, width, tooltip, colorScheme, bar, animated }) => {\r\n    const [activeValues, setActiveValues] = useState(null);\r\n    const renderBar = useCallback((point, index) => {\r\n        const active = activeValues && data && isEqual(activeValues.x, point.x);\r\n        return (jsx(Fragment, { children: jsx(CloneElement, { element: bar, id: `radialbar-${id}-${index}`, index: index, data: point, xScale: xScale, active: active, yScale: yScale, innerRadius: innerRadius, color: (point) => getColor({ data, point, index: 0, colorScheme }), barCount: data.length, animated: animated }, void 0) }, index));\r\n    }, [\r\n        activeValues,\r\n        animated,\r\n        bar,\r\n        colorScheme,\r\n        data,\r\n        id,\r\n        innerRadius,\r\n        xScale,\r\n        yScale\r\n    ]);\r\n    return (jsx(CloneElement, Object.assign({ element: tooltip, xScale: xScale, yScale: yScale, data: data, height: height, width: width, isRadial: true, innerRadius: innerRadius, outerRadius: outerRadius, onValueEnter: (event) => setActiveValues(event.value), onValueLeave: () => setActiveValues(null), color: (point, index) => getColor({ data, point, index, colorScheme }) }, { children: jsx(\"g\", Object.assign({ clipPath: `url(#${id}-path)` }, { children: data.map(renderBar) }), void 0) }), void 0));\r\n};\r\nRadialBarSeries.defaultProps = {\r\n    colorScheme: schemes.cybertron[0],\r\n    tooltip: jsx(TooltipArea, { tooltip: jsx(ChartTooltip, { followCursor: true }, void 0) }, void 0),\r\n    bar: jsx(RadialBar, {}, void 0),\r\n    animated: true\r\n};\n\nconst RadialBarChart = ({ id, width, height, margins, className, containerClassName, data, innerRadius, series, axis }) => {\r\n    const getScales = useCallback((preData, innerRadius, outerRadius) => {\r\n        const newData = buildShallowChartData(preData);\r\n        const xDomain = uniqueBy(newData, (d) => d.x);\r\n        const yDomain = getYDomain({ data: newData, scaled: false });\r\n        const xScale = scaleBand()\r\n            .range([0, 2 * Math.PI])\r\n            .domain(xDomain);\r\n        const yScale = getRadialYScale(innerRadius, outerRadius, yDomain);\r\n        return {\r\n            xScale,\r\n            yScale,\r\n            newData\r\n        };\r\n    }, []);\r\n    const renderChart = useCallback(({ chartWidth, chartHeight, id }) => {\r\n        const outerRadius = Math.min(chartWidth, chartHeight) / 2;\r\n        const { yScale, xScale, newData } = getScales(data, innerRadius, outerRadius);\r\n        return (jsxs(Fragment, { children: [axis && (jsx(CloneElement, { element: axis, xScale: xScale, height: chartHeight, width: chartWidth, innerRadius: innerRadius }, void 0)),\r\n                jsx(CloneElement, { element: series, id: id, data: newData, height: chartHeight, width: chartWidth, xScale: xScale, yScale: yScale, innerRadius: innerRadius, outerRadius: outerRadius }, void 0)] }, void 0));\r\n    }, [axis, data, getScales, innerRadius, series]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, margins: margins, xAxisVisible: false, yAxisVisible: false, center: true, className: className, containerClassName: containerClassName }, { children: renderChart }), void 0));\r\n};\r\nRadialBarChart.defaultProps = {\r\n    innerRadius: 0.1,\r\n    margins: 75,\r\n    axis: jsx(RadialAxis, {}, void 0),\r\n    series: jsx(RadialBarSeries, {}, void 0)\r\n};\n\nconst RadialGaugeArc = ({ data, startAngle, endAngle, innerRadius, outerRadius, cornerRadius, padAngle, color, animated, disabled, fill, onClick, onMouseEnter, onMouseLeave, tooltip }) => {\r\n    /**\r\n     * This function will generate the arcs\r\n     * https://github.com/d3/d3-shape#arcs\r\n     */\r\n    const arcGenerator = useMemo(() => {\r\n        return arc()\r\n            .innerRadius(innerRadius)\r\n            .outerRadius(outerRadius)\r\n            .cornerRadius(cornerRadius);\r\n    }, [innerRadius, outerRadius, cornerRadius]);\r\n    const arcData = {\r\n        // @ts-ignore Data must be passed\r\n        data: data || {},\r\n        startAngle,\r\n        endAngle,\r\n        padAngle\r\n    };\r\n    return (jsxs(\"g\", { children: [fill && jsx(\"circle\", { fill: fill, r: outerRadius }, void 0),\r\n            jsx(PieArc, { arc: arcGenerator, data: arcData, animated: animated, color: color, disabled: disabled, tooltip: tooltip, onClick: onClick, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave }, void 0)] }, void 0));\r\n};\r\nRadialGaugeArc.defaultProps = {\r\n    cornerRadius: 0,\r\n    padAngle: 0,\r\n    padRadius: 0,\r\n    color: '#353d44',\r\n    animated: true,\r\n    disabled: false,\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined,\r\n    tooltip: jsx(ChartTooltip, {}, void 0)\r\n};\n\nvar css_248z$4 = \".RadialGaugeLabel-module_valueLabel__1WLmV {\\n  font-size: 14px;\\n  font-weight: 400;\\n  fill: var(--color-on-background);\\n  opacity: 0.6;\\n}\\n\";\nvar css$4 = {\"valueLabel\":\"RadialGaugeLabel-module_valueLabel__1WLmV\"};\nstyleInject(css_248z$4);\n\nconst RadialGaugeLabel = ({ data, className, offset, onClick = () => undefined }) => {\r\n    const label = formatValue(data.key);\r\n    return (jsx(\"text\", Object.assign({ x: \"0\", y: offset, textAnchor: \"middle\", \r\n        // This is only valid when placed below the chart\r\n        alignmentBaseline: 'text-after-edge', onClick: (nativeEvent) => onClick({ data, nativeEvent }), className: classNames(className, css$4.valueLabel) }, { children: label }), void 0));\r\n};\n\nvar css_248z$3 = \".RadialGaugeValueLabel-module_valueLabel__2IASh {\\n  font-size: 18px;\\n  font-weight: 400;\\n  fill: var(--color-on-background);\\n}\\n\";\nvar css$3 = {\"valueLabel\":\"RadialGaugeValueLabel-module_valueLabel__2IASh\"};\nstyleInject(css_248z$3);\n\nconst RadialGaugeValueLabel = ({ data, className }) => {\r\n    const ref = useCount({\r\n        to: data.data\r\n    });\r\n    return (jsx(\"text\", { dy: \"-0.5em\", x: \"0\", y: \"15\", textAnchor: \"middle\", className: classNames(className, css$3.valueLabel), ref: ref }, void 0));\r\n};\n\nconst RadialGaugeOuterArc = (props) => jsx(RadialGaugeArc, Object.assign({}, props), void 0);\r\nRadialGaugeOuterArc.defaultProps = {\r\n    animated: false,\r\n    disabled: true\r\n};\n\nconst RadialGaugeSeries = (_a) => {\r\n    var { data, scale, startAngle, endAngle, arcWidth, outerArc, innerArc, label, valueLabel, colorScheme, padding, minGaugeWidth } = _a, props = __rest(_a, [\"data\", \"scale\", \"startAngle\", \"endAngle\", \"arcWidth\", \"outerArc\", \"innerArc\", \"label\", \"valueLabel\", \"colorScheme\", \"padding\", \"minGaugeWidth\"]);\r\n    const { columns, width, height, xScale, yScale } = useMemo(() => {\r\n        let rows = 1;\r\n        let columns = data.length;\r\n        if (props.width / data.length < minGaugeWidth) {\r\n            while (props.width / columns < minGaugeWidth) {\r\n                rows += 1;\r\n                columns = Math.ceil(data.length / rows);\r\n            }\r\n        }\r\n        const xScale = scaleBand();\r\n        xScale.domain(range(columns));\r\n        xScale.rangeRound([0, props.width], 0.1);\r\n        const yScale = scaleBand();\r\n        yScale.domain(range(rows));\r\n        yScale.rangeRound([0, props.height], 0.1);\r\n        return {\r\n            columns,\r\n            xScale,\r\n            yScale,\r\n            width: xScale.bandwidth(),\r\n            height: yScale.bandwidth()\r\n        };\r\n    }, [data.length, minGaugeWidth, props.height, props.width]);\r\n    const renderGauge = useCallback((point, index) => {\r\n        const dataEndAngle = scale(point.data);\r\n        const outerRadius = min([width - padding * 2, height - padding * 2]) / 2;\r\n        const innerRadius = outerRadius - arcWidth;\r\n        const labelOffset = height / 2;\r\n        const x = xScale(index % columns);\r\n        const y = yScale(Math.floor(index / columns));\r\n        const xOffset = x + width / 2;\r\n        const yOffset = y + height / 2;\r\n        return (jsxs(\"g\", Object.assign({ transform: `translate(${xOffset}, ${yOffset})` }, { children: [outerArc &&\r\n                    cloneElement(outerArc, {\r\n                        outerRadius,\r\n                        innerRadius,\r\n                        startAngle,\r\n                        endAngle\r\n                    }), innerArc &&\r\n                    cloneElement(innerArc, {\r\n                        outerRadius,\r\n                        innerRadius,\r\n                        startAngle,\r\n                        endAngle: dataEndAngle,\r\n                        data: point,\r\n                        color: getColor({\r\n                            data,\r\n                            colorScheme,\r\n                            point,\r\n                            index\r\n                        })\r\n                    }), valueLabel && cloneElement(valueLabel, { data: point }), label && cloneElement(label, { data: point, offset: labelOffset })] }), point.key.toLocaleString()));\r\n    }, [\r\n        arcWidth,\r\n        colorScheme,\r\n        columns,\r\n        data,\r\n        endAngle,\r\n        height,\r\n        innerArc,\r\n        label,\r\n        outerArc,\r\n        padding,\r\n        scale,\r\n        startAngle,\r\n        valueLabel,\r\n        width,\r\n        xScale,\r\n        yScale\r\n    ]);\r\n    return jsx(Fragment, { children: data.map(renderGauge) }, void 0);\r\n};\r\nRadialGaugeSeries.defaultProps = {\r\n    arcWidth: 5,\r\n    outerArc: jsx(RadialGaugeOuterArc, {}, void 0),\r\n    innerArc: jsx(RadialGaugeArc, {}, void 0),\r\n    label: jsx(RadialGaugeLabel, {}, void 0),\r\n    valueLabel: jsx(RadialGaugeValueLabel, {}, void 0),\r\n    colorScheme: ['#00ECB1'],\r\n    padding: 20,\r\n    minGaugeWidth: 50\r\n};\n\nvar css_248z$2 = \".StackedRadialGaugeValueLabel-module_stackedValueLabel__1t9Tt {\\n  font-size: 18px;\\n  font-weight: 400;\\n  fill: var(--color-on-background);\\n}\\n\";\nvar css$2 = {\"stackedValueLabel\":\"StackedRadialGaugeValueLabel-module_stackedValueLabel__1t9Tt\"};\nstyleInject(css_248z$2);\n\nconst StackedRadialGaugeValueLabel = ({ label, className, yOffset }) => (jsx(Fragment$1, { children: label && (jsx(\"text\", Object.assign({ x: \"0\", y: yOffset, textAnchor: \"middle\", alignmentBaseline: \"middle\", className: classNames(className, css$2.stackedValueLabel) }, { children: label }), void 0)) }, void 0));\r\nStackedRadialGaugeValueLabel.defaultProps = {\r\n    yOffset: 0\r\n};\n\nconst StackedRadialGaugeSeries = ({ data, width, height, scale, startAngle, endAngle, outerArc, innerArc, label, colorScheme, fillFactor, arcPadding }) => {\r\n    const radius = Math.min(width, height) / 2;\r\n    const innerRadius = radius * (1 - Math.min(fillFactor, 1));\r\n    const rAxis = scaleBand()\r\n        .domain(range(data.length))\r\n        .range([innerRadius, radius])\r\n        .paddingInner(arcPadding);\r\n    const renderStackedGauges = useCallback((point, index) => {\r\n        const dataEndAngle = scale(point.data);\r\n        const outerRadius = rAxis(index);\r\n        const innerRadius = outerRadius - rAxis.bandwidth();\r\n        return (jsxs(\"g\", { children: [outerArc &&\r\n                    cloneElement(outerArc, {\r\n                        outerRadius,\r\n                        innerRadius,\r\n                        startAngle,\r\n                        endAngle\r\n                    }), innerArc &&\r\n                    cloneElement(innerArc, {\r\n                        outerRadius,\r\n                        innerRadius,\r\n                        startAngle,\r\n                        endAngle: dataEndAngle,\r\n                        data: point,\r\n                        color: getColor({\r\n                            data,\r\n                            colorScheme,\r\n                            point,\r\n                            index\r\n                        })\r\n                    })] }, point.key.toLocaleString()));\r\n    }, [rAxis, colorScheme, data, endAngle, innerArc, outerArc, scale, startAngle]);\r\n    return (jsx(Fragment$1, { children: jsxs(\"g\", Object.assign({ transform: `translate(${width / 2}, ${height / 2})` }, { children: [data.map(renderStackedGauges), label] }), void 0) }, void 0));\r\n};\r\nStackedRadialGaugeSeries.defaultProps = {\r\n    outerArc: jsx(RadialGaugeArc, { disabled: true, animated: false }, void 0),\r\n    innerArc: jsx(RadialGaugeArc, { animated: true }, void 0),\r\n    label: jsx(StackedRadialGaugeValueLabel, {}, void 0),\r\n    colorScheme: ['#00ECB1'],\r\n    fillFactor: 0.2,\r\n    arcPadding: 0.15\r\n};\n\nconst RadialGauge = ({ id, width, height, margins, className, data, minValue, maxValue, startAngle, endAngle, series, containerClassName }) => {\r\n    const scale = scaleLinear()\r\n        .domain([minValue, maxValue])\r\n        .range([startAngle, endAngle]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, margins: margins, xAxisVisible: false, yAxisVisible: false, className: className, containerClassName: containerClassName }, { children: (props) => cloneElement(series, {\r\n            scale,\r\n            data,\r\n            startAngle,\r\n            endAngle,\r\n            width: props.width,\r\n            height: props.height\r\n        }) }), void 0));\r\n};\r\nRadialGauge.defaultProps = {\r\n    minValue: 0,\r\n    maxValue: 100,\r\n    startAngle: 0,\r\n    endAngle: Math.PI * 2,\r\n    series: jsx(RadialGaugeSeries, {}, void 0)\r\n};\n\nvar css_248z$1 = \".HeatmapCell-module_cell__2iO3O {\\n  transition: stroke 150ms ease-in-out;\\n}\\n\";\nvar css$1 = {\"cell\":\"HeatmapCell-module_cell__2iO3O\"};\nstyleInject(css_248z$1);\n\n// Set padding modifier for the tooltips\r\nconst modifiers = {\r\n    offset: {\r\n        offset: '0, 3px'\r\n    }\r\n};\r\nconst HeatmapCell = (_a) => {\r\n    var { rx, ry, cursor, tooltip, onClick, onMouseEnter, onMouseLeave, data, animated, cellIndex, cellCount, fill, x, y, style, className } = _a, rest = __rest(_a, [\"rx\", \"ry\", \"cursor\", \"tooltip\", \"onClick\", \"onMouseEnter\", \"onMouseLeave\", \"data\", \"animated\", \"cellIndex\", \"cellCount\", \"fill\", \"x\", \"y\", \"style\", \"className\"]);\r\n    const [active, setActive] = useState(false);\r\n    const rect = useRef(null);\r\n    const onMouseEnterWrapper = (event) => {\r\n        setActive(true);\r\n        onMouseEnter({\r\n            value: data,\r\n            nativeEvent: event\r\n        });\r\n    };\r\n    const onMouseLeaveWrapper = (event) => {\r\n        setActive(false);\r\n        onMouseLeave({\r\n            value: data,\r\n            nativeEvent: event\r\n        });\r\n    };\r\n    const onMouseClick = (event) => {\r\n        onClick({\r\n            value: data,\r\n            nativeEvent: event\r\n        });\r\n    };\r\n    const tooltipData = useMemo(() => ({\r\n        y: data.value,\r\n        x: `${data.key} ∙ ${data.x}`,\r\n        data\r\n    }), [data]);\r\n    const transition = useMemo(() => {\r\n        if (animated) {\r\n            return Object.assign(Object.assign({}, DEFAULT_TRANSITION), { delay: (cellIndex / cellCount) * 0.005 });\r\n        }\r\n        else {\r\n            return {\r\n                type: false,\r\n                delay: 0\r\n            };\r\n        }\r\n    }, [animated, cellIndex, cellCount]);\r\n    const extras = constructFunctionProps({ style, className }, data);\r\n    const isTransparent = fill === 'transparent';\r\n    const stroke = active && !isTransparent ? chroma(fill).brighten(1) : fill;\r\n    return (jsxs(Fragment, { children: [jsx(\"g\", Object.assign({ ref: rect }, { children: jsx(motion.rect, Object.assign({}, rest, { fill: fill, stroke: stroke, x: x, y: y, rx: rx, ry: ry, style: Object.assign(Object.assign({}, extras.style), { cursor }), className: classNames(css$1.cell, extras.className), initial: {\r\n                        opacity: 0\r\n                    }, animate: {\r\n                        opacity: 1\r\n                    }, exit: {\r\n                        opacity: 0\r\n                    }, transition: transition, onMouseEnter: onMouseEnterWrapper, onMouseLeave: onMouseLeaveWrapper, onClick: onMouseClick }), void 0) }), void 0),\r\n            tooltip && !tooltip.props.disabled && !isTransparent && (jsx(CloneElement, { element: tooltip, visible: active, modifiers: tooltip.props.modifiers || modifiers, reference: rect, value: tooltipData }, void 0))] }, void 0));\r\n};\r\nHeatmapCell.defaultProps = {\r\n    rx: 2,\r\n    ry: 2,\r\n    cursor: 'auto',\r\n    tooltip: jsx(ChartTooltip, {}, void 0),\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined\r\n};\n\nconst getValueScale = (data, colorScheme, emptyColor) => {\r\n    const valueDomain = extent$1(uniqueBy(data, (d) => d.data, (d) => d.value));\r\n    return (point) => {\r\n        // For 0 values, lets show a placeholder fill\r\n        if (point === undefined || point === null) {\r\n            return emptyColor;\r\n        }\r\n        return getColor({\r\n            scale: scaleQuantile,\r\n            domain: valueDomain,\r\n            key: point,\r\n            colorScheme\r\n        });\r\n    };\r\n};\r\nconst HeatmapSeries = ({ animated, emptyColor, colorScheme, cell: cellElement, xScale, yScale, data, id }) => {\r\n    const valueScale = getValueScale(data, colorScheme, emptyColor);\r\n    const height = yScale.bandwidth();\r\n    const width = xScale.bandwidth();\r\n    const cellCount = [...yScale.domain(), ...xScale.domain()].length;\r\n    const renderCell = ({ row, cell, rowIndex, cellIndex, width, height, cellCount }) => {\r\n        const x = xScale(row.key);\r\n        const y = yScale(cell.x);\r\n        const fill = valueScale(cell.value);\r\n        return (jsx(CloneElement, { element: cellElement, animated: animated, cellIndex: rowIndex + cellIndex, cellCount: cellCount, x: x, y: y, fill: fill, width: width, height: height, data: cell }, `${id}-${rowIndex}-${cellIndex}`));\r\n    };\r\n    return (jsx(Fragment, { children: data.map((row, rowIndex) => row.data.map((cell, cellIndex) => renderCell({\r\n            height,\r\n            width,\r\n            valueScale,\r\n            cellCount,\r\n            row,\r\n            cell,\r\n            rowIndex,\r\n            cellIndex\r\n        }))) }, void 0));\r\n};\r\nHeatmapSeries.defaultProps = {\r\n    padding: 0.1,\r\n    animated: true,\r\n    emptyColor: 'rgba(200,200,200,0.08)',\r\n    colorScheme: ['rgba(28, 107, 86, 0.5)', '#2da283'],\r\n    cell: jsx(HeatmapCell, {}, void 0)\r\n};\n\nconst Heatmap = ({ data, margins, series, yAxis, xAxis, secondaryAxis, id, width, height, className, containerClassName }) => {\r\n    const getScalesData = useCallback((chartHeight, chartWidth) => {\r\n        const nestedData = buildNestedChartData(data);\r\n        const xDomain = xAxis.props.domain || uniqueBy(nestedData, (d) => d.key);\r\n        const xScale = scaleBand()\r\n            .range([0, chartWidth])\r\n            .domain(xDomain)\r\n            .paddingInner(series.props.padding || 0.1);\r\n        const yDomain = yAxis.props.domain ||\r\n            uniqueBy(nestedData, (d) => d.data, (d) => d.x);\r\n        const yScale = scaleBand()\r\n            .domain(yDomain)\r\n            .range([chartHeight, 0])\r\n            .paddingInner(series.props.padding || 0.1);\r\n        return {\r\n            yScale,\r\n            xScale,\r\n            data: nestedData\r\n        };\r\n    }, [data, xAxis, yAxis, series]);\r\n    const renderChart = useCallback((containerProps) => {\r\n        const { chartWidth, chartHeight, updateAxes, id } = containerProps;\r\n        const { xScale, yScale, data: scalesData } = getScalesData(chartHeight, chartWidth);\r\n        return (jsxs(Fragment, { children: [jsx(CloneElement, { element: xAxis, height: chartHeight, width: chartWidth, scale: xScale, onDimensionsChange: (event) => updateAxes('horizontal', event) }, void 0),\r\n                jsx(CloneElement, { element: yAxis, height: chartHeight, width: chartWidth, scale: yScale, onDimensionsChange: (event) => updateAxes('vertical', event) }, void 0),\r\n                secondaryAxis &&\r\n                    secondaryAxis.map((axis, i) => (jsx(CloneElement, { element: axis, height: chartHeight, width: chartWidth, onDimensionsChange: (event) => updateAxes('horizontal', event) }, i))),\r\n                jsx(CloneElement, { element: series, id: `heat-series-${id}`, data: scalesData, xScale: xScale, yScale: yScale }, void 0)] }, void 0));\r\n    }, [getScalesData, secondaryAxis, series, xAxis, yAxis]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, margins: margins, containerClassName: containerClassName, xAxisVisible: isAxisVisible(xAxis.props), yAxisVisible: isAxisVisible(yAxis.props), className: className }, { children: renderChart }), void 0));\r\n};\r\nHeatmap.defaultProps = {\r\n    data: [],\r\n    margins: 10,\r\n    series: jsx(HeatmapSeries, { padding: 0.3 }, void 0),\r\n    yAxis: (jsx(LinearYAxis, { type: \"category\", axisLine: null, tickSeries: jsx(LinearYAxisTickSeries, { line: null, label: jsx(LinearYAxisTickLabel, { padding: 5 }, void 0) }, void 0) }, void 0)),\r\n    xAxis: (jsx(LinearXAxis, { type: \"category\", axisLine: null, tickSeries: jsx(LinearXAxisTickSeries, { line: null, label: jsx(LinearXAxisTickLabel, { padding: 5 }, void 0) }, void 0) }, void 0))\r\n};\n\nconst getFirstOfMonth = (date) => new Date(date.getFullYear(), date.getMonth(), 1);\r\nconst addWeeksToDate = (date, weeks) => {\r\n    const d = new Date(date.getTime());\r\n    d.setDate(d.getDate() + weeks * 7);\r\n    return d;\r\n};\r\nconst getStartOfDay = (date) => {\r\n    const d = new Date(date.getTime());\r\n    d.setHours(0, 0, 0, 0);\r\n    return d;\r\n};\r\nconst getNewDayFromDay = (date, num) => {\r\n    const d = new Date(date.getTime());\r\n    d.setDate(d.getDate() + num);\r\n    return d;\r\n};\r\nconst weekDays = (() => {\r\n    const base = new Date(Date.UTC(2017, 0, 2));\r\n    return range(7).map(() => {\r\n        const name = base.toLocaleDateString('default', { weekday: 'short' });\r\n        base.setDate(base.getDate() + 1);\r\n        return name;\r\n    });\r\n})();\r\nconst buildDataScales = (rawData, view) => {\r\n    var _a;\r\n    // Get the most recent date to get the range from\r\n    // From the end date, lets find the start year/month of that\r\n    // From that start year/month, lets find the end year/month for our bounds\r\n    const startDate = min(rawData, (d) => d.key);\r\n    const start = getFirstOfMonth(startDate);\r\n    const endDomain = view === 'year' ? 53 : 5;\r\n    const end = addWeeksToDate(start, endDomain);\r\n    // Base on the view type, swap out some ranges\r\n    const xDomainRange = view === 'year' ? 53 : 5;\r\n    // Build our x/y domains for days of week + number of weeks in year\r\n    const yDomain = range(7).reverse();\r\n    const xDomain = range(xDomainRange);\r\n    // Filter out dates that are not in the start/end ranges\r\n    // and turn them into something our chart can read\r\n    const dates = rawData\r\n        .filter((d) => d.key.getTime() > start.getTime() ||\r\n        d.key.getTime() < end.getTime())\r\n        .map((d) => ({\r\n        key: getStartOfDay(d.key),\r\n        data: d.data\r\n    }));\r\n    // Find the first day of the duration and subtract the delta\r\n    const firstDayOfStart = start.getDay();\r\n    const curDate = getNewDayFromDay(start, -firstDayOfStart);\r\n    const rows = [];\r\n    // Build out the dataset for the n duration\r\n    for (let week = 0; week < xDomainRange; week++) {\r\n        const row = {\r\n            key: week,\r\n            data: []\r\n        };\r\n        for (let day = 0; day <= 6; day++) {\r\n            const dayValue = dates.find((d) => d.key.getTime() === curDate.getTime());\r\n            row.data.push({\r\n                key: day,\r\n                data: (_a = dayValue === null || dayValue === void 0 ? void 0 : dayValue.data) !== null && _a !== void 0 ? _a : undefined,\r\n                metadata: {\r\n                    date: new Date(curDate.getTime()),\r\n                    start: start,\r\n                    end: end\r\n                }\r\n            });\r\n            curDate.setDate(curDate.getDate() + 1);\r\n        }\r\n        rows.push(row);\r\n    }\r\n    return {\r\n        data: rows,\r\n        yDomain,\r\n        xDomain,\r\n        start\r\n    };\r\n};\n\n// Format the xAxis label for the start + n week\r\nconst xAxisLabelFormat = (start) => (weeks) => addWeeksToDate(start, weeks).toLocaleString('default', { month: 'long' });\r\nconst CalendarHeatmap = (_a) => {\r\n    var { view, data } = _a, rest = __rest(_a, [\"view\", \"data\"]);\r\n    const { data: domainData, yDomain, xDomain, start } = useMemo(() => buildDataScales(data, view), [data, view]);\r\n    // For month, only pass 1 tick value\r\n    const xTickValues = view === 'year' ? undefined : [1];\r\n    // Get the yAxis label formatting based on view type\r\n    const yAxisLabelFormat = view === 'year' ? (d) => weekDays[d] : () => null;\r\n    return (jsx(Heatmap, Object.assign({}, rest, { data: domainData, yAxis: jsx(LinearYAxis, { type: \"category\", axisLine: null, domain: yDomain, tickSeries: jsx(LinearYAxisTickSeries, { tickSize: 20, line: null, label: jsx(LinearYAxisTickLabel, { padding: 5, format: yAxisLabelFormat }, void 0) }, void 0) }, void 0), xAxis: jsx(LinearXAxis, { type: \"category\", axisLine: null, domain: xDomain, tickSeries: jsx(LinearXAxisTickSeries, { line: null, tickValues: xTickValues, label: jsx(LinearXAxisTickLabel, { padding: 5, align: \"end\", format: xAxisLabelFormat(start) }, void 0) }, void 0) }, void 0) }), void 0));\r\n};\r\nCalendarHeatmap.defaultProps = {\r\n    view: 'year',\r\n    series: (jsx(HeatmapSeries, { padding: 0.3, emptyColor: \"transparent\", cell: jsx(HeatmapCell, { tooltip: jsx(ChartTooltip, { content: (d) => `${formatValue(d.data.metadata.date)} ∙ ${formatValue(d.data.value)}` }, void 0) }, void 0) }, void 0))\r\n};\n\nconst LinearGaugeBar = (props) => (jsx(Bar, Object.assign({}, props), void 0));\r\nLinearGaugeBar.defaultProps = {\r\n    tooltip: (jsx(ChartTooltip, { placement: \"top\", content: (data) => (jsx(TooltipTemplate, { value: { y: data.value, x: data.y } }, void 0)) }, void 0))\r\n};\n\nconst LinearGaugeOuterBar = (_a) => {\r\n    var { height, width, fill } = _a, rest = __rest(_a, [\"height\", \"width\", \"fill\"]);\r\n    return (jsx(\"rect\", Object.assign({}, rest, { fill: fill, width: Math.max(width, 0), height: Math.max(height, 0) }), void 0));\r\n};\r\nLinearGaugeOuterBar.defaultProps = {\r\n    fill: '#484848'\r\n};\n\nconst LinearGaugeSeries = (_a) => {\r\n    var { height, width, bar, outerBar, isMultiSeries } = _a, rest = __rest(_a, [\"height\", \"width\", \"bar\", \"outerBar\", \"isMultiSeries\"]);\r\n    return (jsxs(Fragment, { children: [!isMultiSeries && outerBar && (jsx(CloneElement, { element: outerBar, height: height, width: width }, void 0)),\r\n            jsx(BarSeries, Object.assign({}, rest, { layout: \"horizontal\", tooltip: null, bar: jsx(CloneElement, { element: bar }, void 0) }), void 0)] }, void 0));\r\n};\r\nLinearGaugeSeries.defaultProps = {\r\n    outerBar: jsx(LinearGaugeOuterBar, {}, void 0),\r\n    bar: jsx(LinearGaugeBar, {}, void 0)\r\n};\n\nconst LinearGauge = ({ id, width, height, margins, className, containerClassName, series, data, minValue, maxValue }) => {\r\n    const transformedData = useMemo(() => {\r\n        if (Array.isArray(data)) {\r\n            return buildBarStackData([\r\n                {\r\n                    key: 'default',\r\n                    data\r\n                }\r\n            ], 'expand', 'horizontal');\r\n        }\r\n        else {\r\n            return buildShallowChartData([data], 'horizontal');\r\n        }\r\n    }, [data]);\r\n    const getScales = useCallback((isMultiSeries, data, width, height, minValue, maxValue) => {\r\n        const domain = !isMultiSeries ? [minValue, maxValue] : undefined;\r\n        const keyScale = getXScale({\r\n            width,\r\n            type: 'value',\r\n            data,\r\n            domain,\r\n            isMultiSeries\r\n        });\r\n        const valueScale = getYScale({\r\n            type: 'category',\r\n            height,\r\n            data,\r\n            isMultiSeries\r\n        });\r\n        return {\r\n            keyScale,\r\n            valueScale\r\n        };\r\n    }, []);\r\n    const renderChart = useCallback(({ chartHeight, chartWidth, id, chartSized }) => {\r\n        const isMultiSeries = Array.isArray(data);\r\n        const type = isMultiSeries ? 'stackedNormalized' : 'standard';\r\n        const { keyScale, valueScale } = getScales(isMultiSeries, transformedData, chartWidth, chartHeight, minValue, maxValue);\r\n        return (jsx(Fragment, { children: chartSized && (jsx(CloneElement, { element: series, id: `linear-gauge-series-${id}`, data: transformedData, isCategorical: true, xScale: keyScale, yScale: valueScale, type: type, height: chartHeight, width: chartWidth, isMultiSeries: isMultiSeries }, void 0)) }, void 0));\r\n    }, [data, getScales, maxValue, minValue, series, transformedData]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, margins: margins, className: className, containerClassName: containerClassName }, { children: renderChart }), void 0));\r\n};\r\nLinearGauge.defaultProps = {\r\n    minValue: 0,\r\n    maxValue: 100,\r\n    series: jsx(LinearGaugeSeries, {}, void 0)\r\n};\n\nconst useInterpolate = ({ data, animated }) => {\r\n    const transition = animated\r\n        ? Object.assign({}, DEFAULT_TRANSITION) : {\r\n        delay: 0,\r\n        type: false\r\n    };\r\n    const d = useMotionValue(data.path);\r\n    const prevPath = useMotionValue(data.path);\r\n    const spring = useSpring(prevPath, {\r\n        from: 0,\r\n        to: 1\r\n    });\r\n    useEffect(() => {\r\n        const interpolator = interpolate$1(prevPath.get(), data.path);\r\n        spring.onChange((v) => d.set(interpolator(v)));\r\n        prevPath.set(data.path);\r\n    });\r\n    return { transition, d };\r\n};\n\nconst VennArc = ({ data, fill, disabled, animated, stroke, mask, id, style, active, inactiveStyle, activeStyle, initialStyle, strokeWidth, gradient, tooltip, onClick, onMouseEnter, onMouseLeave }) => {\r\n    var _a, _b;\r\n    const [internalActive, setInternalActive] = useState(false);\r\n    const arcRef = useRef(null);\r\n    const { transition, d } = useInterpolate({ animated, data });\r\n    const currentStyle = active\r\n        ? activeStyle\r\n        : active === null\r\n            ? inactiveStyle\r\n            : initialStyle;\r\n    const arcFill = gradient && !mask\r\n        ? `url(#gradient-${id})`\r\n        : mask\r\n            ? `url(#mask-pattern-${id})`\r\n            : fill;\r\n    return (jsxs(\"g\", Object.assign({ title: data.data.key, onMouseEnter: (event) => {\r\n            if (!disabled) {\r\n                setInternalActive(true);\r\n                onMouseEnter({\r\n                    value: data.data,\r\n                    nativeEvent: event\r\n                });\r\n            }\r\n        }, onMouseLeave: (event) => {\r\n            if (!disabled) {\r\n                setInternalActive(false);\r\n                onMouseLeave({\r\n                    value: data.data,\r\n                    nativeEvent: event\r\n                });\r\n            }\r\n        }, onClick: (event) => {\r\n            if (!disabled) {\r\n                onClick({\r\n                    value: data.data,\r\n                    nativeEvent: event\r\n                });\r\n            }\r\n        } }, { children: [jsx(motion.path, { ref: arcRef, fill: arcFill, id: `${id}-arc`, strokeWidth: strokeWidth, stroke: stroke, transition: transition, d: d, initial: initialStyle, animate: currentStyle, style: style }, void 0),\r\n            mask && (jsxs(Fragment, { children: [jsx(Mask, { id: `mask-${id}`, fill: `url(#gradient-${id})` }, void 0),\r\n                    jsx(CloneElement, { element: mask, id: `mask-pattern-${id}`, fill: fill }, void 0)] }, void 0)),\r\n            gradient && (jsx(CloneElement, { element: gradient, id: `gradient-${id}`, color: fill }, void 0)),\r\n            tooltip && !tooltip.props.disabled && (jsx(CloneElement, { element: tooltip, visible: !!internalActive, reference: arcRef, value: { y: data.data.size, x: (_b = (_a = data.data) === null || _a === void 0 ? void 0 : _a.sets) === null || _b === void 0 ? void 0 : _b.join(' | ') } }, void 0))] }), void 0));\r\n};\r\nVennArc.defaultProps = {\r\n    active: false,\r\n    inactiveStyle: { opacity: 0.3 },\r\n    activeStyle: { opacity: 0.8 },\r\n    initialStyle: { opacity: 0.6 },\r\n    strokeWidth: 3,\r\n    gradient: jsx(Gradient, {}, void 0),\r\n    tooltip: jsx(ChartTooltip, {}, void 0),\r\n    onClick: () => undefined,\r\n    onMouseEnter: () => undefined,\r\n    onMouseLeave: () => undefined\r\n};\n\nconst VennLabel = ({ data, format, id, active, labelType, showAll, wrap, animated, fill, fontSize, fontFamily }) => {\r\n    var _a, _b, _c, _d, _e;\r\n    // If the text area is very large, then lets just skip showing the label\r\n    if (!showAll && !((_a = data.arcs) === null || _a === void 0 ? void 0 : _a.filter((a) => a.large).length)) {\r\n        return null;\r\n    }\r\n    const key = labelType === 'key' ? (_c = (_b = data.data) === null || _b === void 0 ? void 0 : _b.sets) === null || _c === void 0 ? void 0 : _c.join(' | ') : data.data.size;\r\n    const transition = animated ? DEFAULT_TRANSITION : { delay: 0, type: false };\r\n    const text = wrap\r\n        ? wrapText({\r\n            key,\r\n            x: data.text.x,\r\n            fontFamily,\r\n            fontSize,\r\n            width: (_e = (_d = data === null || data === void 0 ? void 0 : data.circles) === null || _d === void 0 ? void 0 : _d[0]) === null || _e === void 0 ? void 0 : _e.radius\r\n        })\r\n        : key;\r\n    return (jsx(motion.text, Object.assign({ id: `${id}-text`, style: { pointerEvents: 'none', fontFamily, fontSize }, fill: fill, initial: {\r\n            attrX: data.text.x,\r\n            attrY: data.text.y,\r\n            opacity: 1\r\n        }, animate: {\r\n            attrX: data.text.x,\r\n            attrY: data.text.y,\r\n            opacity: active === null ? 0.3 : 1\r\n        }, transition: transition, textAnchor: \"middle\" }, { children: format ? format(data) : text }), void 0));\r\n};\r\nVennLabel.defaultProps = {\r\n    labelType: 'key',\r\n    showAll: false,\r\n    wrap: true,\r\n    animated: true,\r\n    fill: '#000',\r\n    fontSize: 11,\r\n    fontFamily: 'sans-serif'\r\n};\n\nconst VennOuterLabel = ({ data, format, animated, fill, fontSize, fontFamily }) => {\r\n    const transition = animated ? DEFAULT_TRANSITION : { delay: 0, type: false };\r\n    const text = data.set.data.key;\r\n    const label = format ? format(data) : text;\r\n    const isElement = isValidElement(label);\r\n    const showIcon = isElement && data.set.icon;\r\n    // TODO: framer-motion doesn't seem to like the translates on the g\r\n    // initial={pos} animate={pos}\r\n    const pos = {\r\n        x: showIcon ? data.set.icon.x : data.set.text.x,\r\n        y: showIcon ? data.set.icon.y : data.set.text.y\r\n    };\r\n    return (jsx(Fragment, { children: isElement ? (jsx(\"g\", Object.assign({ style: { transform: `translate(${pos.x}px, ${pos.y}px)` } }, { children: label }), void 0)) : (jsx(motion.text, Object.assign({ fill: fill, style: { pointerEvents: 'none', fontFamily, fontSize }, textAnchor: data.set.align === 'middle' ? 'center' : data.set.align, alignmentBaseline: data.set.verticalAlign, initial: {\r\n                attrX: pos.x,\r\n                attrY: pos.y\r\n            }, animate: {\r\n                attrX: pos.x,\r\n                attrY: pos.y\r\n            }, transition: transition }, { children: label }), void 0)) }, void 0));\r\n};\r\nVennOuterLabel.defaultProps = {\r\n    animated: true,\r\n    fill: '#000',\r\n    fontSize: 14,\r\n    fontFamily: 'sans-serif'\r\n};\n\nconst getSafeKey = (d) => { var _a, _b; return (_b = (_a = d.data) === null || _a === void 0 ? void 0 : _a.key) === null || _b === void 0 ? void 0 : _b.replace(' ', ''); };\r\nconst VennSeries = ({ data, id, selections, animated, disabled, colorScheme, outerLabel, arc, label }) => {\r\n    const transition = animated ? DEFAULT_TRANSITION : { type: false, delay: 0 };\r\n    const [actives, setActives] = useState([]);\r\n    const [hovered, setHovered] = useState(null);\r\n    const onActivate = useCallback((point) => {\r\n        setHovered(point);\r\n        setActives(data\r\n            .filter((d) => { var _a; return ((_a = d.data) === null || _a === void 0 ? void 0 : _a.key.indexOf(point)) > -1; })\r\n            .map((d) => { var _a; return (_a = d.data) === null || _a === void 0 ? void 0 : _a.key; }));\r\n    }, [data]);\r\n    const renderArc = useCallback((d, index) => {\r\n        var _a;\r\n        // Get the colors of the fill\r\n        const fill = getColor({\r\n            data,\r\n            colorScheme,\r\n            point: d.data,\r\n            index\r\n        });\r\n        const textFill = fill\r\n            ? invert(chroma(fill).darken(0.5).hex(), true)\r\n            : 'white';\r\n        const arcFill = arc.props.fill || fill;\r\n        const key = (_a = d === null || d === void 0 ? void 0 : d.data) === null || _a === void 0 ? void 0 : _a.key;\r\n        const safeKey = getSafeKey(d);\r\n        const isSelected = selections === null || selections === void 0 ? void 0 : selections.includes(key);\r\n        // Get the state of the arc\r\n        const isHovered = hovered === key || isSelected;\r\n        const isActive = isSelected ||\r\n            actives.includes(key) ||\r\n            (actives.length > 0 ? null : false);\r\n        // Get the colors for the stroke\r\n        const stroke = typeof arc.props.stroke === 'function'\r\n            ? // @ts-ignore\r\n                arc.props.stroke(data, index, isActive, isHovered)\r\n            : arc.props.stroke;\r\n        const arcStroke = stroke ||\r\n            chroma(arcFill)\r\n                .darken(isActive ? 0.8 : 0.5)\r\n                .hex();\r\n        return (jsxs(Fragment, { children: [jsx(CloneElement, { element: arc, id: `${id}-${safeKey}`, data: d, fill: arcFill, stroke: arcStroke, disabled: disabled, animated: animated, active: isActive, onMouseEnter: () => onActivate(key), onMouseLeave: () => {\r\n                        setActives([]);\r\n                        setHovered(null);\r\n                    } }, void 0),\r\n                label && (jsx(CloneElement, { element: label, data: d, id: `${id}-${safeKey}`, active: isActive, animated: animated, fill: textFill }, void 0)),\r\n                d.set && outerLabel && (jsx(CloneElement, { element: outerLabel, data: d, animated: animated }, void 0))] }, safeKey));\r\n    }, [\r\n        data,\r\n        colorScheme,\r\n        arc,\r\n        selections,\r\n        hovered,\r\n        actives,\r\n        id,\r\n        disabled,\r\n        animated,\r\n        label,\r\n        outerLabel,\r\n        onActivate\r\n    ]);\r\n    const topArcs = useMemo(() => {\r\n        const result = [];\r\n        if (actives.length > 0) {\r\n            result.push(...actives.filter((s) => s !== hovered));\r\n        }\r\n        if (selections === null || selections === void 0 ? void 0 : selections.length) {\r\n            result.push(...selections.filter((s) => !actives.includes(s) && s !== hovered));\r\n        }\r\n        if (hovered) {\r\n            result.push(hovered);\r\n        }\r\n        return result;\r\n    }, [hovered, actives, selections]);\r\n    return (jsxs(motion.g, Object.assign({ initial: { opacity: 0, scale: 0 }, animate: { opacity: 1, scale: 1 }, transition: transition }, { children: [data.map(renderArc), topArcs.length > 0 &&\r\n                topArcs.map((a) => (jsx(\"use\", { xlinkHref: `#${id}-${a}-arc`, style: { pointerEvents: 'none' } }, a))),\r\n            data.map((d, index) => (jsx(\"use\", { xlinkHref: `#${id}-${getSafeKey(d)}-text`, style: { pointerEvents: 'none' } }, index)))] }), void 0));\r\n};\r\nVennSeries.defaultProps = {\r\n    animated: true,\r\n    disabled: false,\r\n    colorScheme: 'cybertron',\r\n    outerLabel: jsx(VennOuterLabel, {}, void 0),\r\n    arc: jsx(VennArc, {}, void 0),\r\n    label: jsx(VennLabel, {}, void 0)\r\n};\n\nvar sets$5 = [\n];\nvar intersections$5 = [\n];\nvar bb$5 = {\n\tx: 0,\n\ty: 0,\n\twidth: 10,\n\theight: 10\n};\nvar venn0 = {\n\tsets: sets$5,\n\tintersections: intersections$5,\n\tbb: bb$5\n};\n\nvar sets$4 = [\n\t{\n\t\tcx: 0,\n\t\tcy: 0,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: 3.5,\n\t\t\ty: -4\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t}\n];\nvar intersections$4 = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: 0,\n\t\ty1: 5,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -5,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 5,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}\n\t}\n];\nvar bb$4 = {\n\tx: -5,\n\ty: -5,\n\twidth: 10,\n\theight: 10\n};\nvar venn1 = {\n\tsets: sets$4,\n\tintersections: intersections$4,\n\tbb: bb$4\n};\n\nvar sets$3 = [\n\t{\n\t\tcx: -4,\n\t\tcy: 0,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: -7.5,\n\t\t\ty: 4\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"top\"\n\t},\n\t{\n\t\tcx: 4,\n\t\tcy: 0,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: 7.5,\n\t\t\ty: -4\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t}\n];\nvar intersections$3 = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: 0,\n\t\ty1: -3,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -4,\n\t\t\ty: 0\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1\n\t\t],\n\t\tx1: 0,\n\t\ty1: 3,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 4,\n\t\t\ty: 0\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1\n\t\t],\n\t\tx1: 0,\n\t\ty1: 3,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}\n\t}\n];\nvar bb$3 = {\n\tx: -9,\n\ty: -5,\n\twidth: 18,\n\theight: 10\n};\nvar venn2 = {\n\tsets: sets$3,\n\tintersections: intersections$3,\n\tbb: bb$3\n};\n\nvar sets$2 = [\n\t{\n\t\tcx: -3.464,\n\t\tcy: -2,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: -7,\n\t\t\ty: -6\n\t\t},\n\t\talign: \"end\"\n\t},\n\t{\n\t\tcx: 3.464,\n\t\tcy: -2,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: 7,\n\t\t\ty: -6\n\t\t},\n\t\talign: \"start\"\n\t},\n\t{\n\t\tcx: 0,\n\t\tcy: 4,\n\t\tr: 5,\n\t\ttext: {\n\t\t\tx: 4,\n\t\t\ty: 7.5\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"top\"\n\t}\n];\nvar intersections$2 = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: -4.855,\n\t\ty1: 2.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: -1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -5.606,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: -4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -4.216,\n\t\t\ty: -2.434\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1\n\t\t],\n\t\tx1: 0,\n\t\ty1: -5.606,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: 4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -5.606,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 4.216,\n\t\t\ty: -2.434\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2\n\t\t],\n\t\tx1: -4.855,\n\t\ty1: 2.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 1.606,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: -4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 4.869\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1\n\t\t],\n\t\tx1: 0,\n\t\ty1: -5.606,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: -1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: 1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -5.606,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: -2.404\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2\n\t\t],\n\t\tx1: -4.855,\n\t\ty1: 2.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: -1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 1.606,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: -4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.082,\n\t\t\ty: 1.202\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 4.855,\n\t\ty1: 2.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: 1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"o\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 1.606,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: 4.855,\n\t\t\t\ty2: 2.803,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.082,\n\t\t\ty: 1.202\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 1.39,\n\t\ty1: -0.803,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 0,\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 1.606,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 1,\n\t\t\t\tx2: -1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tmode: \"i\",\n\t\t\t\tref: 2,\n\t\t\t\tx2: 1.39,\n\t\t\t\ty2: -0.803,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}\n\t}\n];\nvar bb$2 = {\n\tx: -8.464,\n\ty: -7,\n\twidth: 16.928,\n\theight: 16\n};\nvar venn3 = {\n\tsets: sets$2,\n\tintersections: intersections$2,\n\tbb: bb$2\n};\n\nvar sets$1 = [\n\t{\n\t\tcx: 0.439,\n\t\tcy: -1.061,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 45,\n\t\ttext: {\n\t\t\tx: 4.5,\n\t\t\ty: -4.5\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t},\n\t{\n\t\tcx: 2.561,\n\t\tcy: 1.061,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 45,\n\t\ttext: {\n\t\t\tx: 4,\n\t\t\ty: 3.75\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"top\"\n\t},\n\t{\n\t\tcx: -2.561,\n\t\tcy: 1.061,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: -45,\n\t\ttext: {\n\t\t\tx: -4,\n\t\t\ty: 3.7\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"top\"\n\t},\n\t{\n\t\tcx: -0.439,\n\t\tcy: -1.061,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: -45,\n\t\ttext: {\n\t\t\tx: -4.5,\n\t\t\ty: -4.5\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"bottom\"\n\t}\n];\nvar intersections$1 = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: 0,\n\t\ty1: -3.94,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3.94,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.914,\n\t\t\ty: -3.536\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1\n\t\t],\n\t\tx1: 4.328,\n\t\ty1: -2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 5.006,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 1.328,\n\t\t\t\ty2: 2.828\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 3.108,\n\t\t\t\ty2: -0.328\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 4.328,\n\t\t\t\ty2: -2.828\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 5.036,\n\t\t\ty: -1.414\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2\n\t\t],\n\t\tx1: 0,\n\t\ty1: 5.006,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.108,\n\t\t\t\ty2: -0.328\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.328,\n\t\t\t\ty2: 2.828\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 5.006\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -5.036,\n\t\t\ty: -1.414\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t3\n\t\t],\n\t\tx1: -4.328,\n\t\ty1: -2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3.94,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.914,\n\t\t\ty: -3.536\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1\n\t\t],\n\t\tx1: 4.328,\n\t\ty1: -2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 3.205,\n\t\t\ty: -1.672\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2\n\t\t],\n\t\tx1: -1.328,\n\t\ty1: 2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.212,\n\t\t\ty: 1.591\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t3\n\t\t],\n\t\tx1: 0,\n\t\ty1: -3.94,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 0.188,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: -3.94,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: -1.87\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 1.328,\n\t\ty1: 2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 5.006,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 2.346,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 1.328,\n\t\t\t\ty2: 2.828\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 3.393\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t3\n\t\t],\n\t\tx1: 3.108,\n\t\ty1: -0.328,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.212,\n\t\t\ty: 1.591\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: -3.108,\n\t\ty1: -0.328,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -4.328,\n\t\t\t\ty2: -2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.205,\n\t\t\ty: -1.672\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 0,\n\t\ty1: 2.346,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 2.346,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -0.766,\n\t\t\ty: 2.31\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t3\n\t\t],\n\t\tx1: 2.179,\n\t\ty1: -1.858,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 0.188,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 1.558,\n\t\t\ty: -0.056\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: -0.969,\n\t\ty1: 1.755,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.108,\n\t\t\t\ty2: -0.328,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2.179,\n\t\t\t\ty2: -1.858,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 0.188,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.969,\n\t\t\t\ty2: 1.755\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.558,\n\t\t\ty: -0.056\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: 1.328,\n\t\ty1: 2.828,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 2.346,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 1.328,\n\t\t\t\ty2: 2.828,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0.766,\n\t\t\ty: 2.31\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: 0,\n\t\ty1: 0.188,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 2.346,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.969,\n\t\t\t\ty2: 1.755,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0,\n\t\t\t\ty2: 0.188,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 1.43\n\t\t}\n\t}\n];\nvar bb$1 = {\n\tx: -6.5,\n\ty: -5,\n\twidth: 13,\n\theight: 10\n};\nvar venn4 = {\n\tsets: sets$1,\n\tintersections: intersections$1,\n\tbb: bb$1\n};\n\nvar sets = [\n\t{\n\t\tcx: 0.5,\n\t\tcy: -1,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 0,\n\t\ttext: {\n\t\t\tx: 2.25,\n\t\t\ty: -5\n\t\t},\n\t\ticon: {\n\t\t\tx: 0,\n\t\t\ty: -6.3\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t},\n\t{\n\t\tcx: 1.106,\n\t\tcy: 0.167,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 72,\n\t\ttext: {\n\t\t\tx: 4.5,\n\t\t\ty: 1.5\n\t\t},\n\t\ticon: {\n\t\t\tx: 6.2,\n\t\t\ty: -1.9\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"top\"\n\t},\n\t{\n\t\tcx: 0.183,\n\t\tcy: 1.103,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 144,\n\t\ticon: {\n\t\t\tx: 3.2,\n\t\t\ty: 6\n\t\t},\n\t\ttext: {\n\t\t\tx: 4,\n\t\t\ty: 4\n\t\t},\n\t\talign: \"start\",\n\t\tverticalAlign: \"bottom\"\n\t},\n\t{\n\t\tcx: -0.992,\n\t\tcy: 0.515,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 216,\n\t\ticon: {\n\t\t\tx: -4.4,\n\t\t\ty: 5.2\n\t\t},\n\t\ttext: {\n\t\t\tx: -4.7,\n\t\t\ty: 2\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"bottom\"\n\t},\n\t{\n\t\tcx: -0.797,\n\t\tcy: -0.785,\n\t\trx: 2.5,\n\t\try: 5,\n\t\trotation: 288,\n\t\ticon: {\n\t\t\tx: -6,\n\t\t\ty: -2\n\t\t},\n\t\ttext: {\n\t\t\tx: -4,\n\t\t\ty: -3.6\n\t\t},\n\t\talign: \"end\",\n\t\tverticalAlign: \"bottom\"\n\t}\n];\nvar intersections = [\n\t{\n\t\tsets: [\n\t\t\t0\n\t\t],\n\t\tx1: -1.653,\n\t\ty1: -3.541,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.857,\n\t\t\t\ty2: -2.666,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.5,\n\t\t\t\ty2: -2.648,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.495,\n\t\t\t\ty2: -3.303,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.653,\n\t\t\t\ty2: -3.541\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0.5,\n\t\t\ty: -5\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1\n\t\t],\n\t\tx1: 2.857,\n\t\ty1: -2.666,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.419,\n\t\t\t\ty2: 1.893,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 3.291,\n\t\t\t\ty2: 1.559,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.988,\n\t\t\t\ty2: -1.492,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.857,\n\t\t\t\ty2: -2.666\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 4.91,\n\t\t\ty: -1.07\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2\n\t\t],\n\t\tx1: 3.419,\n\t\ty1: 1.893,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.744,\n\t\t\t\ty2: 3.837,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.466,\n\t\t\t\ty2: 3.612,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.342,\n\t\t\t\ty2: 2.381,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 3.419,\n\t\t\t\ty2: 1.893\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.534,\n\t\t\ty: 4.339\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t3\n\t\t],\n\t\tx1: -0.744,\n\t\ty1: 3.837,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.879,\n\t\t\t\ty2: 0.478,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.579,\n\t\t\t\ty2: 0.673,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.54,\n\t\t\t\ty2: 2.963,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.744,\n\t\t\t\ty2: 3.837\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.343,\n\t\t\ty: 3.751\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t4\n\t\t],\n\t\tx1: -3.879,\n\t\ty1: 0.478,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.653,\n\t\t\t\ty2: -3.541,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.746,\n\t\t\t\ty2: -3.196,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.294,\n\t\t\t\ty2: -0.549,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.879,\n\t\t\t\ty2: 0.478\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -4.601,\n\t\t\ty: -2.021\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1\n\t\t],\n\t\tx1: 2.5,\n\t\ty1: -2.648,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.857,\n\t\t\t\ty2: -2.666,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.988,\n\t\t\t\ty2: -1.492,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.572,\n\t\t\t\ty2: -1.839,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.5,\n\t\t\t\ty2: -2.648\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.741,\n\t\t\ty: -2.152\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2\n\t\t],\n\t\tx1: 2.342,\n\t\ty1: 2.381,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.466,\n\t\t\t\ty2: 3.612,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.257,\n\t\t\t\ty2: 2.922,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.342,\n\t\t\t\ty2: 2.381,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0.5,\n\t\t\ty: 3.5\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t3\n\t\t],\n\t\tx1: -0.495,\n\t\ty1: -3.303,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.5,\n\t\t\t\ty2: -2.648,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 1.51,\n\t\t\t\ty2: -2.515,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.495,\n\t\t\t\ty2: -3.303,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 1.653,\n\t\t\ty: -3.125\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t4\n\t\t],\n\t\tx1: -1.653,\n\t\ty1: -3.541,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.495,\n\t\t\t\ty2: -3.303,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.954,\n\t\t\t\ty2: -3.015,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.746,\n\t\t\t\ty2: -3.196,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.653,\n\t\t\t\ty2: -3.541\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.199,\n\t\t\ty: -3.272\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 3.291,\n\t\ty1: 1.559,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.419,\n\t\t\t\ty2: 1.893,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.342,\n\t\t\t\ty2: 2.381,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.544,\n\t\t\t\ty2: 1.878,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 3.291,\n\t\t\t\ty2: 1.559\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.894,\n\t\t\ty: 1.942\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t3\n\t\t],\n\t\tx1: -1.54,\n\t\ty1: 2.963,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.579,\n\t\t\t\ty2: 0.673,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2.7,\n\t\t\t\ty2: 1.147,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.54,\n\t\t\t\ty2: 2.963,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.174,\n\t\t\ty: 1.557\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t4\n\t\t],\n\t\tx1: 2.988,\n\t\ty1: -1.492,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.291,\n\t\t\t\ty2: 1.559,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.858,\n\t\t\t\ty2: 0.659,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.988,\n\t\t\t\ty2: -1.492,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 3.483,\n\t\t\ty: 0.606\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: -0.466,\n\t\ty1: 3.612,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.744,\n\t\t\t\ty2: 3.837,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.54,\n\t\t\t\ty2: 2.963,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1,\n\t\t\t\ty2: 3,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.466,\n\t\t\t\ty2: 3.612\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -0.953,\n\t\t\ty: 3.352\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2,\n\t\t\t4\n\t\t],\n\t\tx1: -3.294,\n\t\ty1: -0.549,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.746,\n\t\t\t\ty2: -3.196,\n\t\t\t\tsweep: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.925,\n\t\t\t\ty2: -2.213\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.294,\n\t\t\t\ty2: -0.549\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.462,\n\t\t\ty: -2.538\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -3.579,\n\t\ty1: 0.673,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.879,\n\t\t\t\ty2: 0.478,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.294,\n\t\t\t\ty2: -0.549,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.162,\n\t\t\t\ty2: -0.024,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.579,\n\t\t\t\ty2: 0.673\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.483,\n\t\t\ty: 0.13\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2\n\t\t],\n\t\tx1: 2.544,\n\t\ty1: 1.878,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.342,\n\t\t\t\ty2: 2.381,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.257,\n\t\t\t\ty2: 2.922,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.983,\n\t\t\t\ty2: 2.049,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.544,\n\t\t\t\ty2: 1.878\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 1.457,\n\t\t\ty: 2.331\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t3\n\t\t],\n\t\tx1: 1.51,\n\t\ty1: -2.515,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.5,\n\t\t\t\ty2: -2.648,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.572,\n\t\t\t\ty2: -1.839,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 1.51,\n\t\t\t\ty2: -2.515,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.194,\n\t\t\ty: -2.334\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t4\n\t\t],\n\t\tx1: 2.572,\n\t\ty1: -1.839,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.988,\n\t\t\t\ty2: -1.492,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.858,\n\t\t\t\ty2: 0.659,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.253,\n\t\t\t\ty2: -0.302,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.572,\n\t\t\t\ty2: -1.839\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.667,\n\t\t\ty: -0.665\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: 0.257,\n\t\ty1: 2.922,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.466,\n\t\t\t\ty2: 3.612,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.257,\n\t\t\t\ty2: 2.922,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -0.403,\n\t\t\ty: 3.178\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2,\n\t\t\t4\n\t\t],\n\t\tx1: -1.746,\n\t\ty1: -3.196,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.954,\n\t\t\t\ty2: -3.015,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.925,\n\t\t\t\ty2: -2.213,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.746,\n\t\t\t\ty2: -3.196,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.542,\n\t\t\ty: -2.808\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -0.495,\n\t\ty1: -3.303,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 1.51,\n\t\t\t\ty2: -2.515,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.409,\n\t\t\t\ty2: -2.236,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -0.954,\n\t\t\t\ty2: -3.015,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.495,\n\t\t\t\ty2: -3.303\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0.192,\n\t\t\ty: -2.742\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: -1.54,\n\t\ty1: 2.963,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2.7,\n\t\t\t\ty2: 1.147,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.645,\n\t\t\t\ty2: 1.568,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1,\n\t\t\t\ty2: 3,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.54,\n\t\t\t\ty2: 2.963\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.767,\n\t\t\ty: 2.106\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2,\n\t\t\t4\n\t\t],\n\t\tx1: 2.858,\n\t\ty1: 0.659,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 3.291,\n\t\t\t\ty2: 1.559,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.544,\n\t\t\t\ty2: 1.878,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.858,\n\t\t\t\ty2: 0.659,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.898,\n\t\t\ty: 1.365\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -2.7,\n\t\ty1: 1.147,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.579,\n\t\t\t\ty2: 0.673,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.162,\n\t\t\t\ty2: -0.024,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2.7,\n\t\t\t\ty2: 1.147,\n\t\t\t\tlarge: false\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -3.147,\n\t\t\ty: 0.599\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t2,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -3.294,\n\t\ty1: -0.549,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.925,\n\t\t\t\ty2: -2.213,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2,\n\t\t\t\ty2: -1.08,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -3.162,\n\t\t\t\ty2: -0.024,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.294,\n\t\t\t\ty2: -0.549\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.548,\n\t\t\ty: -1.029\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2,\n\t\t\t3\n\t\t],\n\t\tx1: 0.983,\n\t\ty1: 2.049,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.257,\n\t\t\t\ty2: 2.922,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1,\n\t\t\t\ty2: 3,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.645,\n\t\t\t\ty2: 1.568,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.983,\n\t\t\t\ty2: 2.049\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -0.407,\n\t\t\ty: 2.31\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2,\n\t\t\t4\n\t\t],\n\t\tx1: 2.253,\n\t\ty1: -0.302,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.858,\n\t\t\t\ty2: 0.659,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.544,\n\t\t\t\ty2: 1.878,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.983,\n\t\t\t\ty2: 2.049,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 2.253,\n\t\t\t\ty2: -0.302\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 2.071,\n\t\t\ty: 1.101\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: 1.51,\n\t\ty1: -2.515,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.572,\n\t\t\t\ty2: -1.839,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.253,\n\t\t\t\ty2: -0.302,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: 0.409,\n\t\t\t\ty2: -2.236,\n\t\t\t\tsweep: false,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 1.51,\n\t\t\t\ty2: -2.515,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 1.687,\n\t\t\ty: -1.63\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t2,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -2,\n\t\ty1: -1.08,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.925,\n\t\t\t\ty2: -2.213,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -0.954,\n\t\t\t\ty2: -3.015,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.409,\n\t\t\t\ty2: -2.236,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -2,\n\t\t\t\ty2: -1.08\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -1.028,\n\t\t\ty: -2.108\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t1,\n\t\t\t2,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: -1.645,\n\t\ty1: 1.568,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2.7,\n\t\t\t\ty2: 1.147,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -3.162,\n\t\t\t\ty2: -0.024,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2,\n\t\t\t\ty2: -1.08,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"o\",\n\t\t\t\tx2: -1.645,\n\t\t\t\ty2: 1.568\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: -2.323,\n\t\t\ty: 0.327\n\t\t}\n\t},\n\t{\n\t\tsets: [\n\t\t\t0,\n\t\t\t1,\n\t\t\t2,\n\t\t\t3,\n\t\t\t4\n\t\t],\n\t\tx1: 0.409,\n\t\ty1: -2.236,\n\t\tarcs: [\n\t\t\t{\n\t\t\t\tref: 2,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 2.253,\n\t\t\t\ty2: -0.302,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 3,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.983,\n\t\t\t\ty2: 2.049,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 4,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -1.645,\n\t\t\t\ty2: 1.568,\n\t\t\t\tsweep: true,\n\t\t\t\tlarge: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 0,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: -2,\n\t\t\t\ty2: -1.08,\n\t\t\t\tsweep: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tref: 1,\n\t\t\t\tmode: \"i\",\n\t\t\t\tx2: 0.409,\n\t\t\t\ty2: -2.236,\n\t\t\t\tsweep: true\n\t\t\t}\n\t\t],\n\t\ttext: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t}\n\t}\n];\nvar bb = {\n\tx: -5.5,\n\ty: -6,\n\twidth: 11.6,\n\theight: 11.8\n};\nvar venn5 = {\n\tsets: sets,\n\tintersections: intersections,\n\tbb: bb\n};\n\n// Static shapes for rendering\r\nconst shapes = [venn0, venn1, venn2, venn3, venn4, venn5];\r\n/**\r\n * Sort helper.\r\n * Reference: https://stackoverflow.com/a/64449554/1288340\r\n */\r\nconst upto = (limit) => Array.from({ length: limit }, (_, i) => i);\r\n/**\r\n * Detect ellipse.\r\n * Reference: https://github.com/upsetjs/chartjs-chart-venn/blob/master/src/model/generate.ts#L4\r\n */\r\nfunction isEllipse(d) {\r\n    return typeof d.rx === 'number';\r\n}\r\n/**\r\n * Generate all combinations of a given array.\r\n * Reference: https://stackoverflow.com/questions/5752002/find-all-possible-subset-combos-in-an-array\r\n */\r\nfunction combinations(array) {\r\n    return new Array(1 << array.length)\r\n        .fill()\r\n        .map((_e1, i) => array.filter((_e2, j) => i & (1 << j)));\r\n}\r\n/**\r\n * Given a array set, lookup the data.\r\n */\r\nfunction lookup(combo, data) {\r\n    const key = combo.join('|');\r\n    const found = data.find((d) => d.key === key);\r\n    return {\r\n        key,\r\n        sets: combo,\r\n        size: (found === null || found === void 0 ? void 0 : found.size) || 0\r\n    };\r\n}\r\n/**\r\n * Build the data combinations for the layout.\r\n */\r\nfunction buildData(data) {\r\n    // Collect all unique sets and sort by size\r\n    const uniqueSets = data\r\n        .filter((d) => d.sets.length === 1)\r\n        .sort((a, b) => b.size - a.size);\r\n    // Map our unique sets\r\n    const uniqueSetKeys = uniqueSets.map((u) => u.key);\r\n    // Build all combos and return 1+ combos\r\n    const sets = combinations(uniqueSetKeys);\r\n    const filteredSets = sets.slice(1, sets.length);\r\n    // Sort the child sets based on the parent\r\n    const result = filteredSets.map((d) => [...d].sort((a, b) => uniqueSetKeys.indexOf(a) - uniqueSetKeys.indexOf(b)));\r\n    // Sort the data based on index of keys and length\r\n    // Reference: https://stackoverflow.com/a/64449554/1288340\r\n    result.sort((a, b) => a.length - b.length ||\r\n        upto(a.length).reduce((diff, i) => diff || uniqueSetKeys.indexOf(a[i]) - uniqueSetKeys.indexOf(b[i]), 0));\r\n    // reshape the data key so they will match combos\r\n    const keyedData = data.map((d) => {\r\n        const sets = [...d.sets].sort((a, b) => uniqueSetKeys.indexOf(a) - uniqueSetKeys.indexOf(b));\r\n        const key = sets.join('|');\r\n        return {\r\n            size: d.size,\r\n            sets,\r\n            key\r\n        };\r\n    });\r\n    return {\r\n        uniqueCount: uniqueSets.length,\r\n        data: result.map((r) => lookup(r, keyedData))\r\n    };\r\n}\r\n/**\r\n * Generate the arc slice path.\r\n * Reference: https://github.com/upsetjs/chartjs-chart-venn/blob/master/src/model/generate.ts#L4\r\n */\r\nfunction generateArcSlicePath(s, refs) {\r\n    return `M ${s.x1},${s.y1} ${s.arcs\r\n        .map((arc) => {\r\n        const ref = refs[arc.ref];\r\n        const rx = isEllipse(ref) ? ref.rx : ref.r;\r\n        const ry = isEllipse(ref) ? ref.ry : ref.r;\r\n        const rot = isEllipse(ref) ? ref.rotation : 0;\r\n        return `A ${rx} ${ry} ${rot} ${arc.large ? 1 : 0} ${arc.sweep ? 1 : 0} ${arc.x2} ${arc.y2}`;\r\n    })\r\n        .join(' ')}`;\r\n}\r\n/**\r\n * Build the layout for the given chart.\r\n * Reference: https://github.com/upsetjs/chartjs-chart-venn/blob/master/src/model/generate.ts#L4\r\n */\r\nfunction buildLayout({ data, uniqueCount }, box) {\r\n    const shape = shapes[Math.min(shapes.length - 1, uniqueCount)];\r\n    const f = Math.min(box.width / shape.bb.width, box.height / shape.bb.height);\r\n    const x = f * -shape.bb.x + (box.width - f * shape.bb.width) / 2 + 0;\r\n    const y = f * -shape.bb.y + (box.height - f * shape.bb.height) / 2 + 0;\r\n    const mx = (v) => x + f * v;\r\n    const my = (v) => y + f * v;\r\n    const shapeSets = shape.sets.map((c, i) => (Object.assign(Object.assign(Object.assign({}, c), Object.assign({ data: data[i], cx: mx(c.cx), cy: my(c.cy), text: {\r\n            x: mx(c.text.x),\r\n            y: my(c.text.y)\r\n        } }, (c.icon\r\n        ? {\r\n            icon: {\r\n                x: mx(c.icon.x),\r\n                y: my(c.icon.y)\r\n            }\r\n        }\r\n        : {}))), (isEllipse(c)\r\n        ? {\r\n            rx: c.rx * f,\r\n            ry: c.ry * f\r\n        }\r\n        : {\r\n            r: c.r * f\r\n        }))));\r\n    const intersections = shape.intersections.map((c, i) => ({\r\n        text: {\r\n            x: mx(c.text.x),\r\n            y: my(c.text.y)\r\n        },\r\n        x1: mx(c.x1),\r\n        y1: my(c.y1),\r\n        data: data[i],\r\n        set: shapeSets[i],\r\n        arcs: c.arcs.map((a) => (Object.assign(Object.assign({}, a), { x2: mx(a.x2), y2: my(a.y2) })))\r\n    }));\r\n    return intersections.map((i) => (Object.assign(Object.assign({}, i), { path: generateArcSlicePath(i, shapeSets) })));\r\n}\r\n/**\r\n * Generate the star euler layout.\r\n * Adapted from: https://github.com/upsetjs/chartjs-chart-venn\r\n */\r\nfunction starEulerLayout(data, bb) {\r\n    return buildLayout(buildData(data), bb);\r\n}\n\nconst VennDiagram = ({ id, type, width, height, margins, className, containerClassName, data, disabled, series }) => {\r\n    const renderChart = useCallback((containerProps) => {\r\n        const normalized = data.map((d) => ({\r\n            key: d.key.join('|'),\r\n            sets: d.key,\r\n            size: d.data\r\n        }));\r\n        let layoutData;\r\n        if (type === 'starEuler') {\r\n            layoutData = starEulerLayout(normalized, {\r\n                height: containerProps.height,\r\n                width: containerProps.width\r\n            });\r\n        }\r\n        else {\r\n            layoutData = layout(normalized, {\r\n                height: containerProps.height,\r\n                width: containerProps.width,\r\n                distinct: type !== 'euler'\r\n            });\r\n        }\r\n        return (jsx(CloneElement, { element: series, data: layoutData, disabled: disabled, id: containerProps.id }, void 0));\r\n    }, [data, disabled, series, type]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, margins: margins, containerClassName: containerClassName, xAxisVisible: false, yAxisVisible: false, center: false, className: className }, { children: renderChart }), void 0));\r\n};\r\nVennDiagram.defaultProps = {\r\n    type: 'venn',\r\n    series: jsx(VennSeries, {}, void 0)\r\n};\n\nconst Bubble = ({ id, data, fill, mask, gradient, onClick, onMouseEnter, onMouseLeave, animated, tooltip = jsx(ChartTooltip, {}, void 0) }) => {\r\n    const [internalActive, setInternalActive] = useState(false);\r\n    const bubbleRef = useRef(null);\r\n    const transition = animated ? DEFAULT_TRANSITION : { type: false, delay: 0 };\r\n    const arcFill = gradient && !mask\r\n        ? `url(#gradient-${id})`\r\n        : mask\r\n            ? `url(#mask-pattern-${id})`\r\n            : fill;\r\n    return (jsxs(Fragment, { children: [jsx(motion.circle, { id: `${id}-bubble`, ref: bubbleRef, fill: arcFill, initial: {\r\n                    r: data.r,\r\n                    cx: data.x,\r\n                    cy: data.y\r\n                }, animate: {\r\n                    r: data.r,\r\n                    cx: data.x,\r\n                    cy: data.y\r\n                }, transition: transition, onClick: onClick, onMouseEnter: (event) => {\r\n                    setInternalActive(true);\r\n                    onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter(event);\r\n                }, onMouseLeave: (event) => {\r\n                    setInternalActive(false);\r\n                    onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(event);\r\n                } }, void 0),\r\n            mask && (jsxs(Fragment, { children: [jsx(Mask, { id: `mask-${id}`, fill: `url(#gradient-${id})` }, void 0),\r\n                    jsx(CloneElement, { element: mask, id: `mask-pattern-${id}`, fill: fill }, void 0)] }, void 0)),\r\n            gradient && (jsx(CloneElement, { element: gradient, id: `gradient-${id}`, color: fill }, void 0)),\r\n            tooltip && !tooltip.props.disabled && (jsx(CloneElement, { element: tooltip, visible: !!internalActive, reference: bubbleRef, value: { y: data.data.data, x: data.data.key } }, void 0))] }, void 0));\r\n};\n\nconst BubbleLabel = ({ id, data, format, wrap = true, fill = '#000', fontSize = 14, fontFamily = 'sans-serif', animated }) => {\r\n    const transition = animated ? DEFAULT_TRANSITION : { type: false, delay: 0 };\r\n    let isElement = false;\r\n    let label;\r\n    if (format) {\r\n        label = format(data);\r\n        isElement = isValidElement(label);\r\n    }\r\n    if (!isElement) {\r\n        const text = wrap\r\n            ? wrapText({\r\n                key: data.data.key,\r\n                fontFamily,\r\n                fontSize,\r\n                width: data.r\r\n            })\r\n            : data.data.key;\r\n        return (jsx(motion.text, Object.assign({ initial: {\r\n                x: data.x,\r\n                y: data.y\r\n            }, animate: {\r\n                x: data.x,\r\n                y: data.y\r\n            }, transition: transition, id: `${id}-text`, style: { pointerEvents: 'none', fontFamily, fontSize }, fill: fill, textAnchor: \"middle\" }, { children: text }), void 0));\r\n    }\r\n    return (jsx(\"g\", Object.assign({ style: { transform: `translate(${data.x}px, ${data.y}px)` } }, { children: label }), void 0));\r\n};\n\nconst BubbleSeries = ({ id, data, colorScheme, animated, bubble, label }) => {\r\n    const transition = animated ? DEFAULT_TRANSITION : { type: false, delay: 0 };\r\n    const renderBubble = (item, index) => {\r\n        const fill = getColor({\r\n            data,\r\n            colorScheme,\r\n            point: item.data,\r\n            index\r\n        });\r\n        const textFill = fill\r\n            ? invert(chroma(fill).darken(0.5).hex(), true)\r\n            : 'white';\r\n        return (jsxs(motion.g, Object.assign({ initial: {\r\n                scale: 0.5,\r\n                opacity: 0\r\n            }, animate: {\r\n                scale: 1,\r\n                opacity: 1\r\n            }, transition: transition }, { children: [jsx(CloneElement, { element: bubble, id: `${id}-bubble`, animated: animated, data: item, fill: fill }, void 0),\r\n                jsx(CloneElement, { element: label, id: `${id}-label`, animated: animated, data: item, fill: textFill }, void 0)] }), item.data.key));\r\n    };\r\n    return jsx(Fragment, { children: data.map(renderBubble) }, void 0);\r\n};\r\nBubbleSeries.defaultProps = {\r\n    colorScheme: 'cybertron',\r\n    animated: true,\r\n    bubble: jsx(Bubble, {}, void 0),\r\n    label: jsx(BubbleLabel, {}, void 0)\r\n};\n\nconst BubbleChart = ({ data, id, width, height, className, containerClassName, margins, series }) => {\r\n    const getData = useCallback((cw, ch) => {\r\n        const bubble = pack().size([cw, ch]).padding(3);\r\n        const root = hierarchy({ children: data })\r\n            .sum((d) => d.data)\r\n            .sort((a, b) => b.data - a.data);\r\n        return bubble(root).leaves();\r\n    }, [data]);\r\n    const renderChart = useCallback((_a) => {\r\n        var { chartWidth, chartHeight } = _a, rest = __rest(_a, [\"chartWidth\", \"chartHeight\"]);\r\n        const circles = getData(chartWidth, chartHeight);\r\n        return (jsx(CloneElement, { element: series, id: `${rest.id}-series`, data: circles }, void 0));\r\n    }, [series, getData]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, containerClassName: containerClassName, margins: margins, xAxisVisible: false, yAxisVisible: false, className: className }, { children: renderChart }), void 0));\r\n};\r\nBubbleChart.defaultProps = {\r\n    data: [],\r\n    margins: 10,\r\n    series: jsx(BubbleSeries, {}, void 0)\r\n};\n\nconst TreeMapLabel = ({ id, data, fill, wrap, fontSize, fontFamily }) => {\r\n    const key = data.data.key;\r\n    const text = wrap ? wrapText({\r\n        key,\r\n        fontFamily,\r\n        fontSize,\r\n        paddingX: 10,\r\n        paddingY: 10,\r\n        width: data.x1 - data.x0,\r\n        height: data.y1 - data.y0\r\n    }) : key;\r\n    return (jsx(\"g\", Object.assign({ style: { transform: 'translate(10px, 15px)' } }, { children: jsx(\"text\", Object.assign({ id: `${id}-text`, style: { pointerEvents: 'none', fontFamily, fontSize }, fill: fill }, { children: text }), void 0) }), void 0));\r\n};\r\nTreeMapLabel.defaultProps = {\r\n    fill: '#FFF',\r\n    wrap: true,\r\n    fontSize: 14,\r\n    fontFamily: 'sans-serif'\r\n};\n\nconst TreeMapRect = ({ data, fill, animated, cursor, tooltip, onMouseEnter, onMouseLeave, onClick }) => {\r\n    const [internalActive, setInternalActive] = useState(false);\r\n    const rectRef = useRef(null);\r\n    const transition = animated ? DEFAULT_TRANSITION : { type: false, delay: 0 };\r\n    const currentFill = internalActive ? chroma(fill).darken(0.8).hex() : fill;\r\n    return (jsxs(Fragment, { children: [jsx(motion.rect, { ref: rectRef, initial: {\r\n                    fill: currentFill,\r\n                    width: data.x1 - data.x0,\r\n                    height: data.y1 - data.y0\r\n                }, animate: {\r\n                    fill: currentFill,\r\n                    width: data.x1 - data.x0,\r\n                    height: data.y1 - data.y0\r\n                }, style: { cursor }, transition: transition, onClick: (event) => {\r\n                    onClick === null || onClick === void 0 ? void 0 : onClick(event, data);\r\n                }, onMouseEnter: (event) => {\r\n                    setInternalActive(true);\r\n                    onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter(event, data);\r\n                }, onMouseLeave: (event) => {\r\n                    setInternalActive(false);\r\n                    onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(event, data);\r\n                } }, void 0),\r\n            tooltip && !tooltip.props.disabled && (jsx(CloneElement, { element: tooltip, visible: !!internalActive, reference: rectRef, value: { y: data.data.data, x: data.data.key } }, void 0))] }, void 0));\r\n};\r\nTreeMapRect.defaultProps = {\r\n    cursor: 'pointer',\r\n    tooltip: jsx(ChartTooltip, {}, void 0)\r\n};\n\nconst TreeMapSeries = ({ id, data, colorScheme, animated, rect, label }) => {\r\n    const transition = animated ? DEFAULT_TRANSITION : { type: false, delay: 0 };\r\n    const renderItem = (item, index) => {\r\n        const fill = getColor({\r\n            data,\r\n            colorScheme,\r\n            point: item.data,\r\n            index\r\n        });\r\n        const textFill = fill\r\n            ? invert(chroma(fill).darken(0.5).hex(), true)\r\n            : 'white';\r\n        return (jsxs(motion.g, Object.assign({ initial: {\r\n                scale: 0.5,\r\n                opacity: 0,\r\n                x: item.x0,\r\n                y: item.y0\r\n            }, animate: {\r\n                scale: 1,\r\n                opacity: 1,\r\n                x: item.x0,\r\n                y: item.y0\r\n            }, transition: transition }, { children: [jsx(CloneElement, { element: rect, id: `${id}-rect`, animated: animated, data: item, fill: fill }, void 0),\r\n                jsx(CloneElement, { element: label, id: `${id}-label`, data: item, fill: textFill }, void 0)] }), item.data.key));\r\n    };\r\n    return jsx(Fragment, { children: data.map((d, index) => renderItem(d, index)) }, void 0);\r\n};\r\nTreeMapSeries.defaultProps = {\r\n    colorScheme: 'cybertron',\r\n    animated: true,\r\n    rect: jsx(TreeMapRect, {}, void 0),\r\n    label: jsx(TreeMapLabel, {}, void 0)\r\n};\n\nconst TreeMap = ({ data, id, containerClassName, width, height, className, margins, series }) => {\r\n    const getData = useCallback((cw, ch) => {\r\n        const root = hierarchy({ children: data })\r\n            .sum((d) => d.data)\r\n            .sort((a, b) => b.data - a.data);\r\n        const t = treemap()\r\n            .size([cw, ch])\r\n            .tile(treemapSquarify)\r\n            .round(true)\r\n            .padding(1);\r\n        return t(root).leaves();\r\n    }, [data]);\r\n    const renderChart = useCallback((_a) => {\r\n        var { chartWidth, chartHeight } = _a, rest = __rest(_a, [\"chartWidth\", \"chartHeight\"]);\r\n        const datas = getData(chartWidth, chartHeight);\r\n        return (jsx(CloneElement, Object.assign({ element: series }, rest, { id: `${id}-series`, data: datas }), void 0));\r\n    }, [series, getData, id]);\r\n    return (jsx(ChartContainer, Object.assign({ id: id, width: width, height: height, containerClassName: containerClassName, margins: margins, xAxisVisible: false, yAxisVisible: false, className: className }, { children: renderChart }), void 0));\r\n};\r\nTreeMap.defaultProps = {\r\n    margins: 0,\r\n    series: jsx(TreeMapSeries, {}, void 0),\r\n    data: []\r\n};\n\nvar css_248z = \".BarListSeries-module_item__1fb4J {\\n  margin-bottom: 5px;\\n  align-items: center;\\n  display: grid;\\n  grid-column-gap: 5px;\\n  grid-row-gap: 3px;\\n}\\n\\n  .BarListSeries-module_item__1fb4J.BarListSeries-module_labelStart__OpicV {\\n    grid-template-columns: 50px 1fr;\\n    grid-template-areas:\\n      'label label'\\n      'value-label bar';\\n  }\\n\\n  .BarListSeries-module_item__1fb4J.BarListSeries-module_labelEnd__2dfgR {\\n    grid-template-columns: 1fr 50px;\\n    grid-template-areas:\\n      'label label'\\n      'bar value-label';\\n  }\\n\\n  .BarListSeries-module_item__1fb4J.BarListSeries-module_labelBottom__11ZOW {\\n    grid-template-columns: 1fr;\\n    grid-template-areas:\\n      'label'\\n      'bar'\\n      'value-label';\\n  }\\n\\n  .BarListSeries-module_item__1fb4J.BarListSeries-module_labelNone__68u4T {\\n    grid-template-columns: 1fr;\\n    grid-template-areas:\\n      'label'\\n      'bar';\\n  }\\n\\n  .BarListSeries-module_item__1fb4J.BarListSeries-module_labelNone__68u4T .BarListSeries-module_valueLabel__12ml9 {\\n      display: none;\\n    }\\n\\n  .BarListSeries-module_item__1fb4J.BarListSeries-module_clickable__-5P9q {\\n    cursor: pointer;\\n  }\\n\\n  .BarListSeries-module_item__1fb4J .BarListSeries-module_label__3LXR5,\\n  .BarListSeries-module_item__1fb4J .BarListSeries-module_valueLabel__12ml9 {\\n    cursor: inherit;\\n  }\\n\\n  .BarListSeries-module_item__1fb4J .BarListSeries-module_label__3LXR5 {\\n    grid-area: label;\\n  }\\n\\n  .BarListSeries-module_item__1fb4J .BarListSeries-module_valueLabel__12ml9 {\\n    grid-area: value-label;\\n    line-height: 10px;\\n    text-overflow: ellipsis;\\n    overflow-x: hidden;\\n  }\\n\\n  .BarListSeries-module_item__1fb4J .BarListSeries-module_outerBar__vulkD {\\n    grid-area: bar;\\n    width: 100%;\\n    height: 10px;\\n    display: flex;\\n    align-items: center;\\n  }\\n\\n  .BarListSeries-module_item__1fb4J .BarListSeries-module_bar__3ZHW_ {\\n    height: 5px;\\n  }\\n\";\nvar css = {\"item\":\"BarListSeries-module_item__1fb4J\",\"labelStart\":\"BarListSeries-module_labelStart__OpicV\",\"labelEnd\":\"BarListSeries-module_labelEnd__2dfgR\",\"labelBottom\":\"BarListSeries-module_labelBottom__11ZOW\",\"labelNone\":\"BarListSeries-module_labelNone__68u4T\",\"valueLabel\":\"BarListSeries-module_valueLabel__12ml9\",\"clickable\":\"BarListSeries-module_clickable__-5P9q\",\"label\":\"BarListSeries-module_label__3LXR5\",\"outerBar\":\"BarListSeries-module_outerBar__vulkD\",\"bar\":\"BarListSeries-module_bar__3ZHW_\"};\nstyleInject(css_248z);\n\nconst BarListSeries = ({ data, colorScheme, itemClassName, labelClassName, outerBarClassName, valueClassName, barClassName, labelPosition = 'none', valueFormat, onItemClick, onItemMouseEnter, onItemMouseLeave }) => {\r\n    const renderBar = useCallback((item, index) => {\r\n        const fill = getColor({\r\n            data,\r\n            colorScheme,\r\n            point: item.data,\r\n            index\r\n        });\r\n        return (jsx(\"div\", Object.assign({ className: classNames(css.outerBar, outerBarClassName) }, { children: jsx(motion.div, { transition: DEFAULT_TRANSITION, className: classNames(css.bar, barClassName), initial: { width: '0%' }, animate: { width: `${item.data}%` }, style: { background: fill } }, void 0) }), void 0));\r\n    }, [barClassName, outerBarClassName, colorScheme, data]);\r\n    return (jsx(Fragment$1, { children: data.map((d, i) => {\r\n            const valueLabel = valueFormat\r\n                ? valueFormat(d.metadata.value, i)\r\n                : formatValue(d.metadata.value);\r\n            return (jsxs(\"div\", Object.assign({ role: \"listitem\", className: classNames(css.item, itemClassName, {\r\n                    [css.clickable]: onItemClick,\r\n                    [css.labelBottom]: labelPosition === 'bottom',\r\n                    [css.labelStart]: labelPosition === 'start',\r\n                    [css.labelEnd]: labelPosition === 'end',\r\n                    [css.labelNone]: labelPosition === 'none'\r\n                }), onMouseEnter: () => onItemMouseEnter === null || onItemMouseEnter === void 0 ? void 0 : onItemMouseEnter(d), onMouseLeave: () => onItemMouseLeave === null || onItemMouseLeave === void 0 ? void 0 : onItemMouseLeave(d), onClick: () => onItemClick === null || onItemClick === void 0 ? void 0 : onItemClick(d) }, { children: [jsx(\"label\", Object.assign({ className: classNames(css.label, labelClassName) }, { children: d.key }), void 0), renderBar(d, i), jsx(\"label\", Object.assign({ title: valueLabel, className: classNames(css.valueLabel, valueClassName) }, { children: jsx(\"small\", { children: valueLabel }, void 0) }), void 0)] }), d.key));\r\n        }) }, void 0));\r\n};\r\nBarListSeries.defaultProps = {\r\n    colorScheme: 'cybertron',\r\n    labelPosition: 'none'\r\n};\n\nconst BarList = ({ data, id, className, style, series }) => {\r\n    const curId = useId(id);\r\n    const mashedData = useMemo(() => {\r\n        const maxVal = max(data, (d) => d.data);\r\n        const groupScale = scaleLinear().domain([0, maxVal]).rangeRound([0, 100]);\r\n        const mashed = data.map((d) => (Object.assign(Object.assign({}, d), { data: groupScale(d.data), metadata: {\r\n                value: d.data,\r\n                percent: (data.length * d.data) / 100\r\n            } })));\r\n        return mashed.sort((a, b) => b.data - a.data);\r\n    }, [data]);\r\n    return (jsx(motion.section, Object.assign({ role: \"list\", variants: {\r\n            initial: {\r\n                transition: {\r\n                    staggerChildren: 0.05,\r\n                    staggerDirection: -1\r\n                }\r\n            },\r\n            animate: {\r\n                transition: {\r\n                    staggerChildren: 0.07,\r\n                    delayChildren: 0.2\r\n                }\r\n            }\r\n        }, id: curId, className: className, style: style }, { children: jsx(CloneElement, { element: series, data: mashedData }, void 0) }), void 0));\r\n};\r\nBarList.defaultProps = {\r\n    data: [],\r\n    series: jsx(BarListSeries, {}, void 0)\r\n};\n\nexport { Area, AreaChart, AreaSeries, AreaSparklineChart, Bar, BarChart, BarLabel, BarList, BarListSeries, BarSeries, BarSparklineChart, Brush, BrushSlice, Bubble, BubbleChart, BubbleLabel, BubbleSeries, COUNT_DEFAULTS, CalendarHeatmap, ChartBrush, ChartContainer, ChartTooltip, ChartZoomPan, Count, DEFAULT_TRANSITION, DiscreteLegend, DiscreteLegendEntry, DiscreteLegendSymbol, Gradient, GradientStop, GridStripe, Gridline, GridlineSeries, GuideBar, Heatmap, HeatmapCell, HeatmapSeries, HistogramBarChart, HistogramBarSeries, Line, LineChart, LineSeries, LinearAxis, LinearAxisLine, LinearAxisTickLabel, LinearAxisTickLine, LinearAxisTickSeries, LinearGauge, LinearGaugeBar, LinearGaugeOuterBar, LinearGaugeSeries, LinearXAxis, LinearXAxisTickLabel, LinearXAxisTickLine, LinearXAxisTickSeries, LinearYAxis, LinearYAxisTickLabel, LinearYAxisTickLine, LinearYAxisTickSeries, Map$1 as Map, MapMarker, MarimekkoBarSeries, MarimekkoChart, MarkLine, Mask, MotionPath, Move, Pan, PieArc, PieArcLabel, PieArcSeries, PieChart, PointSeries, RadialArea, RadialAreaChart, RadialAreaSeries, RadialAxis, RadialAxisArc, RadialAxisArcSeries, RadialAxisTick, RadialAxisTickLabel, RadialAxisTickLine, RadialAxisTickSeries, RadialBar, RadialBarChart, RadialBarSeries, RadialGauge, RadialGaugeArc, RadialGaugeLabel, RadialGaugeOuterArc, RadialGaugeSeries, RadialGaugeValueLabel, RadialGradient, RadialGuideBar, RadialLine, RadialPointSeries, RadialScatterPlot, RadialScatterPoint, RadialScatterSeries, RangeLines, Sankey, SankeyLabel, SankeyLink, SankeyNode, ScatterPlot, ScatterPoint, ScatterSeries, SequentialLegend, SonarChart, SparklineChart, StackedAreaChart, StackedAreaSeries, StackedBarChart, StackedBarSeries, StackedNormalizedAreaChart, StackedNormalizedAreaSeries, StackedNormalizedBarChart, StackedNormalizedBarSeries, StackedRadialGaugeSeries, StackedRadialGaugeValueLabel, Stripes, TooltipArea, TooltipTemplate, TreeMap, TreeMapLabel, TreeMapRect, TreeMapSeries, VennArc, VennDiagram, VennLabel, VennOuterLabel, VennSeries, Zoom, ZoomPan, addWeeksToDate, bigIntegerToLocaleString, buildBarStackData, buildBins, buildDataScales, buildMarimekkoData, buildNestedChartData, buildShallowChartData, buildStackData, buildWaterfall, calculateDimensions, calculateShowStroke, constrainMatrix, constructFunctionProps, extent, formatValue, functionProps, getClosestPoint, getColor, getDegrees, getDimension, getDurationTicks, getLimitMatrix, getMaxBigIntegerForNested, getMaxBigIntegerForShallow, getMaxTicks, getParentSVG, getPointFromMatrix, getPositionForTarget, getTicks, getXDomain, getYDomain, humanFormatBigInteger, interpolate, isAxisVisible, isZoomLevelGoingOutOfBounds, normalizeValue, normalizeValueForFormatting, reduceTicks, schemes, toggleTextSelection, uniqueBy, useCount, weekDays, wrapText };\n"],"names":["LinearAxisTickLabel","Component","getAlign","align","half","this","props","getTickLineSpacing","line","size","position","getOffset","padding","rotation","orientation","adjustedPadding","fromAxis","alongAxis","spacing","offset1","offset2","horz","getTextPosition","angle","transform","textAnchor","alignmentBaseline","render","fill","text","fullText","fontSize","fontFamily","className","x","y","textPosition","jsxs","Object","assign","children","jsx","defaultProps","LinearAxisTickLine","PureComponent","positionTick","isVertical","tickSize","start","end","x1","x2","y1","y2","strokeColor","strokeWidth","path","stroke","locale","window","navigator","languages","length","userLanguage","language","browserLanguage","options","year","month","day","hour12","formatMatcher","formatValue","value","undefined","Date","toLocaleDateString","toLocaleString","ONE_DAY","DURATION_TICK_STEPS","reduceTicks","ticks","maxTicks","reduced","modulus","Math","floor","i","push","getMaxTicks","dimension","tickWidth","max","getTicks","scale","tickValues","type","interval","result","domain","domainWidth","tickStep","s","numDayTicks","dayStep","ceil","getDurationTicks","calculateDimensions","document","width","height","font","LinearAxisTickSeries","getAdjustedScale","bandwidth","offset","round","d","getPosition","scaledTick","getDimension","getRotationAngle","label","maxTicksLength","tick","baseWidth","maxBaseWidth","cos","PI","getLabelFormat","format","tickFormat","apply","v","axis","adjustedScale","midpoint","map","toString","Fragment","CloneElement","element","LinearAxisLine","strokeGradient","id","useId","range0","range1","range","LinearAxis","constructor","super","ref","createRef","state","componentDidMount","updateDimensions","componentDidUpdate","prevProps","onDimensionsChange","dims","current","getBoundingClientRect","setState","translateY","translateX","axisLine","tickSeries","scaled","roundDomains","LinearXAxisTickLabel","LinearXAxisTickLine","LinearXAxisTickSeries","LinearXAxis","LinearYAxisTickLabel","LinearYAxisTickLine","LinearYAxisTickSeries","LinearYAxis","isAxisVisible","RadialAxisTickLine","innerRadius","outerRadius","style","pointerEvents","RadialAxisTickLabel","point","autoRotate","l","r","shouldRotate","data","lineSize","index","dy","RadialAxisTick","RadialAxisTickSeries","count","RadialAxisArc","strokeDasharray","strokeDash","cx","cy","RadialAxisArcSeries","arc","arcs","RadialAxis","xScale","min","getClosestPoint","pos","attr","invert","bisect","right","before","after","beforeVal","afterVal","prop","mariemkoInvert","paddingOuter","eachBand","step","scaleBandInvert","indexOf","getPositionForTarget","target","clientX","clientY","top","left","clientLeft","clientTop","constrainMatrix","matrix","getLimitMatrix","toggleTextSelection","allowSelection","forEach","body","Move","arguments","started","deltaX","deltaY","prevXPosition","prevYPosition","onMouseMove","event","preventDefault","stopPropagation","movementX","movementY","checkThreshold","disableText","setCursor","onMoveStart","nativeEvent","rqf","requestAnimationFrame","onMove","onMouseUp","disposeHandlers","onMoveEnd","onMoveCancel","onTouchMove","getTouchCoords","onTouchEnd","componentWillUnmount","cancelAnimationFrame","removeEventListener","shouldDisable","set","cursor","threshold","abs","touches","onMouseDown","preventRightClick","disabled","which","addEventListener","onTouchStart","Children","child","cloneElement","e","styleInject","css","insertAt","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css$p","BrushHandle","isDragging","onHandleDrag","css$o","BrushSlice","onBrushChange","direction","sliceWidth","endSliceWidth","hasNoSlice","opacity","Brush","isSlicing","isPanning","startUpdated","endUpdated","ensurePositionInBounds","getStartEnd","getPositionsForPanEvent","initial","eventObj","newStart","newEnd","positions","prev","val","onSliceChange","__rest","t","p","prototype","hasOwnProperty","call","getOwnPropertySymbols","propertyIsEnumerable","ChartBrush","getBrushOffset","band","_a","rest","xOffset","yOffset","margins","parsedMargins","bottom","Array","isArray","parseMargins","marginDims","calculateMarginOffsets","chartWidth","chartHeight","xMargin","yMargin","css$n","ChartContainer","center","centerX","centerY","containerClassName","xAxisVisible","yAxisVisible","curId","xAxisSized","setXAxisSized","useState","yAxisSized","setYAxisSized","setXOffset","setYOffset","observe","chartSized","useMemo","onUpdateAxes","useCallback","childProps","updateAxes","styleHeight","styleWidth","bigIntegerToLocaleString","k","M","B","T","bigInteger","formattedString","c","split","reverse","normalizeValue","maxBigInt","greater","divideBy","divide","toJSNumber","normalizeValueForFormatting","getMaxBigIntegerForNested","series","maxBigInteger","group","maxBigIntegerForGroup","getMaxBigIntegerForShallow","buildNestedChartData","sort","nestedPoint","key","idx","findIndex","getTime","metadata","x0","y0","a","b","addToChartType","add","valueOf","Error","buildShallowChartData","binSize","isTuple","k1","k0","v0","v1","xProp","yProp","uniqueBy","accessors","ittr","arr","depth","acc","includes","buildBarStackData","keys","stackData","category","formattedValues","transformDataToStack$1","stackFn","categoryKey","transformStackToData$1","buildStackData","normalized","transformDataToStack","transformStackToData","Pan","childRef","globalPanning","classList","contains","onPanStart","pan","onPanEnd","onPanCancel","source","passive","onPanMove","constrain","newMatrix","shouldConstrain","f","getMidpoint","pointA","pointB","getDistanceBetweenPoints","sqrt","pow","getTouchPoints","node","touch","distance","Zoom","onMouseWheel","disableMouseWheel","requireZoomModifier","onZoomEnd","hasModifier","metaKey","ctrlKey","parent","ownerSVGElement","getParentSVG","getPointFromMatrix","getStep","clearTimeout","timeout","setTimeout","firstTouch","lastDistance","distanceFactor","delta","scaleFactor","minZoom","maxZoom","onZoom","outside","scaleFactorMin","lessThanScaleFactorMin","scaleFactorMax","moreThanScaleFactorMax","isZoomLevelGoingOutOfBounds","css$l","color","background","css$j","SequentialLegend","colorScheme","colors","join","gradientDir","container","vertical","horizontal","gradient","css$i","Gridline","coords","GridlineSeries","stripe","yScale","yAxis","xAxis","shouldRenderX","yAxisGrid","xAxisGrid","renderGroup","grid","renderSeries","css$g","GradientStop","stopOpacity","stopColor","Gradient","stops","spreadMethod","stop","Mask","css$f","TooltipTemplate","renderValues","backgroundColor","isMultiple","role","excessCount","pagedValues","slice","renderMultiple","ChartTooltip","content","Tooltip","TooltipArea","transformData","inverse","isHorizontal","seriesPoint","shallowPoint","getXCoord","isRadial","rad","atan2","onValueEnter","placement","transformed","newPlacement","keyScale","valueScale","coord","newValue","pointX","pointY","marginX","marginY","isNaN","prevX","prevY","offsetX","offsetY","sin","visible","onMouseLeave","onValueLeave","getTooltipReference","renderRadial","startAngle","endAngle","renderLinear","tooltip","modifiers","reference","extent","accessor","fn","vv","getYDomain","isDiverging","startY","endY","startY1","endY1","posStart","maxNum","getXDomain","startX0","endX1","interpolate","functionProps","constructFunctionProps","wrapText","paddingY","paddingX","words","rows","maxWidth","maxHeight","curText","currWidth","nextText","nextWidth","word","dominantBaseline","baselineShift","ZoomPan","zoomRef","panRef","isZooming","static","tx","ty","sx","sy","onZoomPan","pannable","zoomable","zoomStep","selection","userSelect","getXScale","isMultiSeries","rangeRound","nice","getYScale","ChartZoomPan","axisType","copy","clamp","isZoomed","zoomOffset","DEFAULT_TRANSITION","velocity","damping","restDelta","restSpeed","MotionPath","custom","transition","exit","prevPath","spring","from","to","useEffect","interpolator","get","enter","unsub","onChange","_b","enterD","enterRest","exitRest","animate","schemes","cybertron","correctLightness","getColor","attribute","active","rangeHelper","COUNT_DEFAULTS","useCount","duration","delay","decimalPlaces","nodeRef","useRef","controls","onUpdate","formatted","Number","toFixed","textContent","css$e","ScatterPoint","symbol","animated","onClick","onMouseEnter","rectRef","tooltipVisible","setTooltipVisible","extras","renderedSymbol","transitionProps","enterProps","exitProps","yStartDomain","toolti","ScatterSeries","activeIds","renderPoint","pointData","pointId","PADDING$1","clipPath","css$c","PointSeries","activeValues","show","getIsVisible","isActive","Area","mask","total","interpolation","item","getAreaPath","curve","areaPath","maxY","renderArea","maskPath","Line","hasArea","showZeroStroke","pathLength","setPathLength","ghostPathRef","getTotalLength","getLinePath","defined","showLine","next","calculateShowStroke","linePath","strokeDashoffset","newCoords","AreaSeries","markLine","symbols","area","setActiveValues","activePoint","setActivePoint","isMulti","getPointColor","renderSymbols","activeSymbols","isAnimated","renderMarkLine","renderSingleSeries","renderMultiSeries","PADDING","vectorEffect","StackedNormalizedAreaSeries","StackedAreaSeries","css$b","AreaChart","gridlines","brush","zoomPan","secondaryAxis","zoom","zoomDomain","setZoomDomain","preventAnimation","setPreventAnimation","setIsZoomed","zoomControlled","timeoutRef","seriesType","aggregatedData","getScales","renderChart","disableBrush","Bar","activeBrightness","barIndex","barCount","groupIndex","minHeight","rangeLines","layout","rx","ry","isCategorical","guide","xScale1","rect","internalActive","setInternalActive","calculateLinearScalePadding","totalSize","multiplier","getExit","newX","newY","getKeyCoords","sizeOverride","calc","c0","getValueCoords","c1","minSize","getCoords","newYScale","newXScale","xCoords","yCoords","onMouseEnterInternal","onMouseLeaveInternal","onMouseClick","getFill","tooltipData","getTransition","renderBar","currentColorShade","initialExit","attrX","attrY","renderGuideBar","console","error","attrStart","endPoint","startPoint","brighten","hex","rangeLineColor","rangeLineColorShade","barLabel","BarSeries","bar","getTransform","xPos","yPos","getBarColor","barElements","renderBarGroup","barData","groupData","groupPadding","followCursor","RangeLines","rangeLineHeight","newWidth","newHeight","isTop","minX","StackedBarSeries","StackedNormalizedBarSeries","MarimekkoBarSeries","HistogramBarSeries","css$a","BarChart","keyAxis","getMarimekkoGroupScales","getMarimekkoScale","groupScale","xMultiplier","getXRange","arg","found","getMarimekkoGroupScale","getMultiGroupScales","paddingInner","getGroupScale","getInnerScale","getKeyScale","getValueScale","getScalesAndData","isMarimekko","isGrouped","isStacked","distroType","cumulative","buildWaterfall","sums","totalSum","sum","reduce","cur","buildMarimekkoData","containerProps","barChart","StackedBarChart","LineSeries","LineChart","PieArc","arcRef","prevEnter","previousEnter","useInterpolate$1","setActive","PieArcLabel","centroid","lineStroke","fontFill","getTextAnchor","posX","posY","minRadius","innerPoint","breakPoint","startX","endX","sign","minScale","maxScale","findBreakPoint","shapeRendering","points","factor","midAngle","labelVisible","calculateOuterRadius","explode","maxVal","calculateLabelPositions","minDistance","cornerRadius","padAngle","padRadius","displayAllLabels","outerArcRadius","outerArc","arcData","shouldDisplayLabel","aPosX","aPosY","j","bPosX","bPosY","overlap","PieArcSeries","doughnut","arcWidth","labelWidth","minDimension","calculateRadius","innerArc","newOuter","calculateInnerArc","calculateCentroid","PieChart","getData","pieLayout","JUSTIFICATION","justify","Sankey","activeNodes","activeLinks","getNodeColor","nodes","onNodeActive","sourceLinks","sourceLink","sourceLinkTarget","targetLinks","targetLink","targetLinkSource","onLinkActive","link","onInactive","renderNode","computedNode","some","renderNodes","nodeMap","Map","title","aX0","aY0","bX0","bY0","renderLink","computedLink","chartId","links","justification","nodeWidth","nodePadding","nodesCopy","linksCopy","sankeyChart","nodeAlign","nodeId","css$8","SankeyLabel","nodePositions","showRightSide","location","DEFAULT_COLOR","css$7","SankeyLink","getEnter","getLink","getStroke","hovered","strokeOpacity","renderTooltipContent","linkSource","linkTarget","gradientUnits","bind","css$6","SankeyNode","getNode","nodeHeight","fillOpacity","showLabel","patternUnits","patternTransform","RadialArea","getPath","radialFn","dd","_","yStart","radius","RadialLine","preData","css$5","RadialScatterPoint","setHovered","getTranslate","parseFloat","sizeVal","exitTransform","RadialScatterSeries","internalActiveIds","setInternalActiveIds","dataId","warn","RadialPointSeries","isVisible","RadialAreaSeries","getColorForPoint","renderLine","pi","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","tan","acos","t01","t21","a0","a1","ccw","dx","cw","da","w","h","MotionBar","RadialGuideBar","variants","hidden","RadialBar","curved","getArc","arcFn","innerAngleDistance","halfAngleDistanceDelta","pathFn","yEnd","guidePath","RadialBarSeries","RadialGaugeArc","arcGenerator","css$4","css$3","RadialGaugeOuterArc","RadialGaugeSeries","valueLabel","minGaugeWidth","columns","renderGauge","dataEndAngle","labelOffset","css$2","StackedRadialGaugeValueLabel","css$1","HeatmapCell","cellIndex","cellCount","isTransparent","HeatmapSeries","emptyColor","cell","cellElement","valueDomain","row","rowIndex","renderCell","Heatmap","getScalesData","nestedData","xDomain","yDomain","scalesData","base","UTC","name","weekday","setDate","getDate","date","LinearGaugeBar","LinearGaugeOuterBar","LinearGaugeSeries","outerBar","VennArc","inactiveStyle","activeStyle","initialStyle","useInterpolate","currentStyle","arcFill","sets","VennLabel","labelType","showAll","wrap","_c","_d","_e","filter","large","circles","VennOuterLabel","isElement","isValidElement","showIcon","icon","verticalAlign","getSafeKey","replace","VennSeries","selections","outerLabel","actives","setActives","onActivate","renderArc","textFill","darken","safeKey","isSelected","isHovered","arcStroke","topArcs","xlinkHref","BubbleSeries","bubble","bubbleRef","TreeMapLabel","TreeMapRect","currentFill","TreeMapSeries","renderItem","BarListSeries","itemClassName","labelClassName","outerBarClassName","valueClassName","barClassName","labelPosition","valueFormat","onItemClick","onItemMouseEnter","onItemMouseLeave"],"sourceRoot":""}